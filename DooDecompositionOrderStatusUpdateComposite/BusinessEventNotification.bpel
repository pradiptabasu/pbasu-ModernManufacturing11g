<?xml version = '1.0' encoding = 'UTF-8'?>
<!--
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  Oracle JDeveloper BPEL Designer 
  
  Created: Thu Nov 29 00:33:17 PST 2012
  Author:  rachouha
  Purpose: BPEL Process for event subscription
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
-->
<process name="BusinessEventNotification"
         targetNamespace="http://xmlns.oracle.com/apps/scm/doo/decomposition/DooDecompositionOrderStatusUpdateComposite/BusinessEventNotification"
         xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
         xmlns:client="http://xmlns.oracle.com/apps/scm/doo/decomposition/DooDecompositionOrderStatusUpdateComposite/BusinessEventNotification"
         xmlns:ora="http://schemas.oracle.com/xpath/extension"
         xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
         xmlns:ns1="http://xmlns.oracle.com/apps/scm/doo/decomposition/DooDecompositionOrderStatusUpdateComposite/AggregatedBusinessEvent"
         xmlns:ns2="http://xmlns.oracle.com/apps/scm/doo/decomposition/DooDecompositionOrderStatusUpdateComposite"
         xmlns:bpws="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
         xml:id="id_1"
         xmlns:ns3="http://xmlns.oracle.com/apps/scm/doo/common/events/service/"
         xmlns:xp20="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.Xpath20"
         xmlns:bpel2="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
         xmlns:oraext="http://www.oracle.com/XSL/Transform/java/oracle.tip.pc.services.functions.ExtFunc"
         xmlns:dvm="http://www.oracle.com/XSL/Transform/java/oracle.tip.dvm.LookupValue"
         xmlns:hwf="http://xmlns.oracle.com/bpel/workflow/xpath"
         xmlns:ids="http://xmlns.oracle.com/bpel/services/IdentityService/xpath"
         xmlns:bpm="http://xmlns.oracle.com/bpmn20/extensions"
         xmlns:xdk="http://schemas.oracle.com/bpel/extension/xpath/function/xdk"
         xmlns:xref="http://www.oracle.com/XSL/Transform/java/oracle.tip.xref.xpath.XRefXPathFunctions"
         xmlns:tm="http://xmlns.oracle.com/topologyManager/client/xpath/extension"
         xmlns:ldap="http://schemas.oracle.com/xpath/extension/ldap"
         xmlns:ns4="http://xmlns.oracle.com/apps/scm/doo/decomposition/DooDecompositionOrderStatusUpdateComposite/BusinessEventNotificationMediator"
         xmlns:ns5="http://xmlns.oracle.com/apps/scm/doo/decomposition/DooDecompositionOrderStatusUpdateComposite/Mediator1"
         xmlns:ns6="http://xmlns.oracle.com/apps/scm/doo/common/events/service/types/"
         xmlns:xsd="http://www.w3.org/2001/XMLSchema"
         xmlns:ns7="http://xmlns.oracle.com/adf/svc/errors/"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns:wsa="http://schemas.xmlsoap.org/ws/2003/03/addressing"
         xmlns:ns8="/oracle/apps/scm/doo/processOrder/model/entity/events/schema/FulfillLineEO"
         xmlns:ns9="/oracle/apps/scm/doo/processOrder/model/entity/events/edl/FulfillLineEO"
         xmlns:ns21="http://xmlns.oracle.com/apps/scm/doo/decomposition/DooDecompositionOrderStatusUpdateComposite/DummyExternalSystem"
         xmlns:ns20="http://xmlns.oracle.com/apps/scm/doo/processOrder/model/"
         xmlns:ns11="http://xmlns.oracle.com/apps/scm/doo/processOrder/service/"
         xmlns:ns13="http://xmlns.oracle.com/apps/scm/doo/decomposition/DooDecompositionOrderStatusUpdateComposite/OCResponseSvc"
         xmlns:ns14="http://xmlns.oracle.com/apps/scm/doo/taskLayer/externalInterfaceLayer/DooTaskExternalInterfaceVirtualPartnersComposite/OrderAttribute"
         xmlns:ns15="http://xmlns.oracle.com/apps/scm/doo/taskLayer/externalInterfaceLayer/DooTaskExternalInterfaceVirtualPartnersComposite/FulFillLineEvent"
         xmlns:ns16="http://xmlns.oracle.com/apps/scm/doo/taskLayer/externalInterfaceLayer/DooTaskExternalInterfaceVirtualPartnersComposite/SplitEvent"
         xmlns:ns17="http://xmlns.oracle.com/apps/scm/doo/taskLayer/externalInterfaceLayer/DooTaskExternalInterfaceVirtualPartnersComposite/JeopardyEvent"
         xmlns:ns18="http://xmlns.oracle.com/apps/scm/doo/taskLayer/externalInterfaceLayer/DooTaskExternalInterfaceVirtualPartnersComposite/BusinessEventsConnector"
         xmlns:ns19="http://schemas.oracle.com/events/edl/ErrorRecoveryBusinessEvent"     
           
                
        xmlns:ns10="http://xmlns.oracle.com/cpqcloud/commerce/oraclecpqo"
         
         xmlns:ns12="http://xmlns.oracle.com/cpqcloud/commerce/oraclecpqo">
    <!-- 
      ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        VARIABLES                                                        
        List of messages and XML documents used within this BPEL process 
      ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    -->
    <partnerLinks xml:id="id_6">
        <partnerLink name="BusinessEventNotificationMediator.BusinessEventNotificationMediator"
                     partnerLinkType="ns4:BusinessEventNotificationMediator.BusinessEventNotificationMediator"
                     partnerRole="execute_ptt" xml:id="id_23"/>
        <partnerLink name="ProcessEventService"
                     partnerLinkType="ns3:ProcessEventService"
                     partnerRole="ProcessEventServiceProvider"
                     myRole="ProcessEventServiceRequestor" xml:id="id_25"/>
        <partnerLink name="BusinessEventNotificationService"
                     partnerLinkType="client:BusinessEventNotificationService"
                     myRole="BusinessEventNotification" xml:id="id_82"/>
        <partnerLink name="OCResponseSvc.ocresponsesvcclient"
                     partnerLinkType="ns13:OCResponseSvc"
                     partnerRole="OCResponseSvcProvider"
                     myRole="OCResponseSvcRequester" xml:id="id_7491"/>
        <partnerLink name="OCResponseService"
                     partnerLinkType="ns13:OCResponseSvc"
                     partnerRole="OCResponseSvcProvider"
                     myRole="OCResponseSvcRequester" xml:id="id_8598"/>
        <partnerLink name="OrderAttributeStubService"
                     partnerLinkType="ns14:OrderAttribute"
                     partnerRole="OrderAttributeProvider" xml:id="id_2154"/>
        <partnerLink name="FlineStubService"
                     partnerLinkType="ns15:FulfillLineEvent"
                     partnerRole="FulfillLineEventProvider" xml:id="id_2156"/>
        <partnerLink name="SplitStubService" partnerLinkType="ns16:SplitEvent"
                     partnerRole="SplitEventProvider" xml:id="id_2168"/>
        <partnerLink name="JeopardyHoldStubService"
                     partnerLinkType="ns17:JeopardyEvent"
                     partnerRole="JeopardyEventProvider" xml:id="id_2174"/>
        <partnerLink name="BusinessEventsConnectorService"
                     partnerLinkType="ns18:BusinessEventsConnectorService"
                     partnerRole="BusinessEventsConnectorPayload"
                     xml:id="id_2200"/>
         <partnerLink name="BigMachineService"
                     partnerLinkType="ns12:BigMachineProcess"
                     partnerRole="CommerceServicePortType" xml:id="id_435"/>
    </partnerLinks>
    <variables xml:id="id_2">
        <!-- Reference to the message passed as input during initiation -->
        <variable name="inputVariable0" element="ns2:BusinessEventInfoType"
                  xml:id="id_3"/>
        <variable name="InvokeNotificationMediator_execute_InputVariable"
                  messageType="ns4:requestMessage" xml:id="id_24"/>
        <variable name="LOG_FINEST_VAR" type="xsd:string" xml:id="id_53"/>
        <variable name="LOG_FINE_VAR" type="xsd:string" xml:id="id_54"/>
        <variable name="LOG_FINER_VAR" type="xsd:string" xml:id="id_55"/>
        <variable name="LOG_CONFIG_VAR" type="xsd:string" xml:id="id_56"/>
        <variable name="LOG_MESSAGE_VAR" type="xsd:string" xml:id="id_57"/>
        <variable name="LOG_INCIDENT_VAR" type="xsd:string" xml:id="id_58"/>
        <variable name="LOG_APP_SHORT_NAME" type="xsd:string" xml:id="id_59"/>
        <variable name="LOG_MODULE_ID" type="xsd:string" xml:id="id_60"/>
        <variable name="LOG_TOKEN_MAP" type="xsd:string" xml:id="id_61"/>
        <variable name="FAULT_VAR" messageType="ns7:ServiceException"
                  xml:id="id_66"/>
        <variable name="LOG_FAULT_MAP" type="xsd:string" xml:id="id_76"/>
        <variable name="COMPOSITE_TITLE_VAR" type="xsd:string" xml:id="id_78"/>
        <variable name="processOCResponseOrderUpdate_InputVariable"
                  messageType="client:BusinessEventNotificationRequestMessage"
                  xml:id="id_85"/>
        <variable name="OrderUpdate_execute_InputVariable"
                  messageType="ns4:requestMessage" xml:id="id_128"/>
        <variable name="InvokeProcessEventService_preparePayLoadForBusinessEvent_OutputVariable"
                  messageType="ns3:ProcessEventService_preparePayLoadForBusinessEventResponse"
                  xml:id="id_208"/>
        <variable name="flineClosedEvent_InputVariable"
                  element="ns8:DOOFulfillLineClosedInfo" xml:id="id_327"/>
        <variable name="fulfillLineStatusUpdate_inputVariable"
                  element="ns8:OrderOrchestrationStatusUpdateInfo"
                  xml:id="id_7347"/>
        <variable name="getEventConnectorInfo_InputVariable"
                  messageType="ns3:ProcessEventService_getEventConnectorInfo"
                  xml:id="id_7507"/>
        <variable name="getEventConnectorInfo_OutputVariable"
                  messageType="ns3:ProcessEventService_getEventConnectorInfoResponse"
                  xml:id="id_7508"/>
        <variable name="flineStatusUpdateEvent_InputVariable"
                  messageType="ns4:flineStatusUpdaterequestMessage"
                  xml:id="id_593"/>
        <variable name="InvokeConnectorURLOcResponseSvc_InputVariable"
                  messageType="ns13:OCResponseSvcRequestMessage"
                  xml:id="id_604"/>
        <variable name="connectorURLForOrderUpdateEvent_InputVariable"
                  messageType="ns14:OrderAttributeRequestMessage"
                  xml:id="id_1637"/>
        <variable name="OriginalNotifyDate" type="xsd:dateTime"
                  xml:id="id_2750"/>
        <variable name="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                  messageType="ns3:ProcessEventService_logEventNotificationError"
                  xml:id="id_2770"/>
        <variable name="InvokeLogEventNotify_logEventNotificationError_OutputVariable"
                  messageType="ns3:ProcessEventService_logEventNotificationErrorResponse"
                  xml:id="id_2771"/>
        <!--variable name="event_inputVariable"
                  element="ns2:BusinessEventErrorType" xml:id="id_3321"/-->
        <variable name="InvokegetNotificationLog_getEventNotificationLog_InputVariable"
                  messageType="ns3:ProcessEventService_getEventNotificationLog"
                  xml:id="id_3329"/>
        <variable name="InvokegetNotificationLog_getEventNotificationLog_OutputVariable"
                  messageType="ns3:ProcessEventService_getEventNotificationLogResponse"
                  xml:id="id_3330"/>
        <variable name="InvokeGeteventNotificationLog_getEventNotificationLog_InputVariable"
                  messageType="ns3:ProcessEventService_getEventNotificationLog"
                  xml:id="id_3358"/>
        <variable name="InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable"
                  messageType="ns3:ProcessEventService_getEventNotificationLogResponse"
                  xml:id="id_3359"/>
        <variable name="InvokeConnectorURL_pushPayload_InputVariable"
                  messageType="ns18:BusinessEventsConnectorPayloadRequestMessage"
                  xml:id="id_3380"/>
        <variable name="eventNotifyFlag" type="xsd:boolean" xml:id="id_3513"/>
        <variable name="InvokeDeleteService_deleteEventNotificationErrors_InputVariable"
                  messageType="ns3:ProcessEventService_deleteEventNotificationErrors"
                  xml:id="id_3628"/>
        <variable name="InvokeDeleteService_deleteEventNotificationErrors_OutputVariable"
                  messageType="ns3:ProcessEventService_deleteEventNotificationErrorsResponse"
                  xml:id="id_3651"/>
                  <variable name="event_Input"
                  element="ns8:OrderOrchestrationStatusUpdateInfo"
                  xml:id="id_347"/>
        <variable name="input_getBMConnectorInfo"
                  messageType="ns3:ProcessEventService_getBMConnectorInfo"
                  xml:id="id_361"/>
        <variable name="output_getBMConnectorInfo"
                  messageType="ns3:ProcessEventService_getBMConnectorInfoResponse"
                  xml:id="id_362"/>
        <variable name="getPayloadForInvoice_Input"
                  messageType="ns3:ProcessEventService_getPayloadForInvoice"
                  xml:id="id_644"/>
        <variable name="getPayloadForInvoice_Output"
                  messageType="ns3:ProcessEventService_getPayloadForInvoiceResponse"
                  xml:id="id_645"/>
        <variable name="BMService_updateTransaction_Input"
                  messageType="ns12:updateTransactionRequest" xml:id="id_433"/>
        <variable name="BMService_updateTransaction_Output"
                  messageType="ns12:updateTransactionResponse" xml:id="id_434"/>
        <variable name="logEventNotificationError_Input"
                  messageType="ns3:ProcessEventService_logEventNotificationError"
                  xml:id="id_444"/>
        <variable name="logEventNotificationError_Output"
                  messageType="ns3:ProcessEventService_logEventNotificationErrorResponse"
                  xml:id="id_445"/>
         <variable name="webServiceAddress"
                  element="wsa:EndpointReference"
                  xml:id="id_410"/>
         <variable name="CSF-KEY" type="xsd:string"
                    xml:id="id_411"/>
        <variable name="KEYSTORE_RECIPIENT_ALIAS"
                  type="xsd:string" xml:id="id_412"/>
                  <variable name="InvokeBMService_ERInput"
                  messageType="ns12:updateTransactionRequest" xml:id="id_474"/>
        <variable name="InvokeBMService_EROutput"
                  messageType="ns12:updateTransactionResponse" xml:id="id_475"/>
                   
       
    </variables>
    <faultHandlers xml:id="id_62">
        <catchAll xml:id="id_73">
            <sequence xml:id="id_74">
                <assign name="AssignSensorLogging" xml:id="id_68">
                    <copy xml:id="id_69">
                        <from expression="concat('FAULT_NAME=', ora:getFaultName(), '::FAULT_TEXT=', ora:getFaultAsString())"
                              xml:id="id_70"/>
                        <to variable="LOG_FAULT_MAP" xml:id="id_71"/>
                    </copy>
                </assign>
                <terminate name="Terminate" xml:id="id_75"/>
            </sequence>
        </catchAll>
    </faultHandlers>
    <!-- 
      ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
       ORCHESTRATION LOGIC                                               
       Set of activities coordinating the flow of messages across the    
       services integrated within this business process                  
      ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    -->
    <sequence name="main" xml:id="id_4">
        <!-- Receive input from requestor. (Note: This maps to operation defined in BusinessEventNotification.wsdl) -->
        <!--receive name="receiveInput" bpelx:eventName="ns1:AggregatedBusinessEvent" variable="inputVariable0" createInstance="yes" xml:id="id_5"/-->
        <pick name="Pick1" xml:id="id_83" createInstance="yes">
            <onMessage xml:id="id_84"
                       variable="processOCResponseOrderUpdate_InputVariable"
                       partnerLink="BusinessEventNotificationService"
                       portType="client:BusinessEventNotification"
                       operation="processEventNotificationRequest">
                <sequence name="OCOrderUpdateSequence" xml:id="id_91">
                    <assign name="AssignSetupVar" xml:id="id_2754">
                        <copy xml:id="id_2755">
                            <from expression="xp20:current-dateTime()"
                                  xml:id="id_2756"/>
                            <to variable="OriginalNotifyDate" xml:id="id_2757"/>
                        </copy>
                    </assign>
                    <switch name="Switch3" xml:id="id_7429">
                        <case xml:id="id_7430"
                              condition="(oraext:compare-ignore-case(string(bpws:getVariableData('processOCResponseOrderUpdate_InputVariable','payload','/ns2:OCResponse/ns2:OCResponseType/ns2:BusinessEventCode')),'ORDER_ATTRIBUTE_UPDATE')=0)">
                            <bpelx:annotation xml:id="id_432">
                                <bpelx:pattern xml:id="id_7435">ORDER_ATTRIBUTE_UPDATE</bpelx:pattern>
                                <bpelx:general xml:id="id_7433">
                                    <bpelx:property name="userLabel"
                                                    xml:id="id_7434">
                                        <![CDATA[ORDER_ATTRIBUTE_UPDATE]]>
                                    </bpelx:property>
                                </bpelx:general>
                            </bpelx:annotation>
                            <scope name="OCOrderUpdateEventScope" xml:id="id_92"
                                   variableAccessSerializable="no">
                                <variables xml:id="id_205">
                                    <variable name="ProcessEventServiceForOrderUpdate_InputVariable"
                                              messageType="ns3:ProcessEventService_preparePayloadForOrderUpdateEvent"
                                              xml:id="id_94"/>
                                    <variable name="ProcessEventServiceForOrderUpdate_OutputVariable"
                                              messageType="ns3:ProcessEventService_preparePayloadForOrderUpdateEventResponse"
                                              xml:id="id_95"/>
                                    <variable name="OderUpdMediator_InputVariable"
                                              messageType="ns4:requestMessage"
                                              xml:id="id_119"/>
                                    <variable name="CopyOf_ProcessEventServiceForOrderUpdate_OutputVariable"
                                              messageType="ns3:ProcessEventService_preparePayloadForOrderUpdateEventResponse"
                                              xml:id="id_1618"/>
                                </variables>
                                <sequence name="Sequence7" xml:id="id_700">
                                    <sequence name="OCEventSequenceForOrderUpdate"
                                              xml:id="id_96">
                                        <assign name="XformOCEvent2EventServiceInput"
                                                xml:id="id_135">
                                            <bpelx:annotation xml:id="id_136">
                                                <bpelx:pattern xml:id="id_137">transformation</bpelx:pattern>
                                            </bpelx:annotation>
                                            <copy xml:id="id_138">
                                                <from xml:id="id_139"
                                                      expression="ora:doXSLTransformForDoc('xsl/XformOCEvent2EventServiceInput.xsl', $processOCResponseOrderUpdate_InputVariable.payload)"/>
                                                <to xml:id="id_140"
                                                    variable="ProcessEventServiceForOrderUpdate_InputVariable"
                                                    part="parameters"/>
                                            </copy>
                                        </assign>
                                        <invoke name="ProcessEventServiceForOrderUpdate"
                                                xml:id="id_90"
                                                bpelx:invokeAsDetail="no"
                                                inputVariable="ProcessEventServiceForOrderUpdate_InputVariable"
                                                outputVariable="ProcessEventServiceForOrderUpdate_OutputVariable"
                                                partnerLink="ProcessEventService"
                                                portType="ns3:ProcessEventService"
                                                operation="preparePayloadForOrderUpdateEvent"/>
                                        <bpelx:dehydrate name="DehydrateOCOrderUpdate"
                                                         xml:id="id_170"/>
                                        <switch name="Switch8" xml:id="id_2025">
                                            <case xml:id="id_2026"
                                                  condition="count(bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result')) > 0">
                                                <bpelx:annotation xml:id="id_2028">
                                                    <bpelx:pattern xml:id="id_2031">ValidPayload</bpelx:pattern>
                                                    <bpelx:general xml:id="id_2029">
                                                        <bpelx:property name="userLabel"
                                                                        xml:id="id_2030">
                                                            <![CDATA[ValidPayload]]>
                                                        </bpelx:property>
                                                    </bpelx:general>
                                                </bpelx:annotation><sequence name="Sequence25"
                                                                  xml:id="id_3073"><scope name="OrderupdateEventPayloadPushingScope"
                                                                                          xml:id="id_1585"
                                                                                          variableAccessSerializable="no"><variables xml:id="id_1642"><variable name="HeaderCounter"
                                                                                                                                                                type="xsd:integer"
                                                                                                                                                                xml:id="id_1588"/><variable name="ConnectorURLsCounter"
                                                                                                                                                                                            type="xsd:integer"
                                                                                                                                                                                            xml:id="id_1595"/><variable name="webServiceAddress"
                                                                                                                                                                                                                        type="xsd:string"
                                                                                                                                                                                                                        xml:id="id_1620"/><variable name="CsfKey"
                                                                                                                                                                                                                                                    type="xsd:string"
                                                                                                                                                                                                                                                    xml:id="id_2296"/><variable name="KeyStoreRecipientAlias"
                                                                                                                                                                                                                                                                                type="xsd:string"
                                                                                                                                                                                                                                                                                xml:id="id_2297"/></variables><sequence name="Sequence8"
                                                                                                                                                                                                                                                                                                                        xml:id="id_1589"><assign name="AssignHeaderCounter"
                                                                                                                                                                                                                                                                                                                                                 xml:id="id_1586"><copy xml:id="id_1591"><from expression="count(bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result'))"
                                                                                                                                                                                                                                                                                                                                                                                               xml:id="id_1592"/><to variable="HeaderCounter"
                                                                                                                                                                                                                                                                                                                                                                                                                     xml:id="id_1593"/></copy></assign><while name="HeaderIterator"
                                                                                                                                                                                                                                                                                                                                                                                                                                                              xml:id="id_1590"
                                                                                                                                                                                                                                                                                                                                                                                                                                                              condition="bpws:getVariableData('HeaderCounter')>0"><sequence name="HeaderIteratorSequence"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            xml:id="id_1599"><assign name="ConnectorURLsIterator"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     xml:id="id_1594"><copy xml:id="id_1596"><from expression="count(bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR'))"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   xml:id="id_1597"/><to variable="ConnectorURLsCounter"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         xml:id="id_1598"/></copy></assign><while name="ConnectorIterator"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  xml:id="id_1600"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  condition="bpws:getVariableData('ConnectorURLsCounter')>0"><sequence name="ConnectorIteratorSequence"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       xml:id="id_1609"><scope name="PayloadPushingScope"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               xml:id="id_1610"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               variableAccessSerializable="no"><variables xml:id="id_2203"><variable name="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     messageType="ns18:BusinessEventsConnectorPayloadRequestMessage"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     xml:id="id_2204"/></variables><sequence name="Sequence16"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             xml:id="id_2653"><switch name="Switch7"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      xml:id="id_1611"><case xml:id="id_1612"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             condition="(xp20:compare(string(bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceName')),'DOO_BUSINESS_EVENT_NOTIFICATION')=0)"><bpelx:annotation xml:id="id_1614"><bpelx:pattern xml:id="id_1617">Before Release 11</bpelx:pattern><bpelx:general xml:id="id_1615"><bpelx:property name="userLabel"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          xml:id="id_1616"><![CDATA[BackwardCompatibility]]></bpelx:property></bpelx:general></bpelx:annotation><switch name="Switch2"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        xml:id="id_104"><case xml:id="id_105"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              condition="count(bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result')) > 0"><bpelx:annotation xml:id="id_107"><bpelx:general xml:id="id_108"><bpelx:property name="userLabel"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        xml:id="id_109"><![CDATA[ValidPayloadExists]]></bpelx:property></bpelx:general></bpelx:annotation><sequence name="ValidScenario"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    xml:id="id_117"><assign name="Transform2BusinessEventMediator"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            xml:id="id_129"><bpelx:annotation xml:id="id_130"><bpelx:pattern xml:id="id_131">transformation</bpelx:pattern></bpelx:annotation><copy xml:id="id_132"><from xml:id="id_133"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          expression="ora:doXSLTransformForDoc('xsl/Xform2OrderUpdateMediatorInput.xsl', $ProcessEventServiceForOrderUpdate_OutputVariable.parameters)"/><to xml:id="id_134"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             variable="InvokeNotificationMediator_execute_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             part="request"/></copy></assign><invoke name="InvokeMediatorAfterOrderUpdateEvent"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     xml:id="id_127"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     inputVariable="InvokeNotificationMediator_execute_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     partnerLink="BusinessEventNotificationMediator.BusinessEventNotificationMediator"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     portType="ns4:execute_ptt"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     operation="orderUpdateEvent"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     bpelx:invokeAsDetail="no"/><bpelx:dehydrate name="DehydrateMediatorAfterOrderUpdateEvent"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 xml:id="id_8524"/></sequence></case><otherwise xml:id="id_106"><terminate name="Terminate1"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          xml:id="id_110"/></otherwise></switch></case><otherwise xml:id="id_1613"><sequence name="OrderUpdateEventConnectorURIsSequence"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             xml:id="id_1631"><switch name="Switch21"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      xml:id="id_2371"><case xml:id="id_2372"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             condition="string-length(bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey'))>0 or string-length(bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias'))>0"><assign name="AssignCsfKeyandKeystoreAlias"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         xml:id="id_2374"><copy xml:id="id_2478"><from expression="bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey')"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       xml:id="id_2479"/><to variable="CsfKey"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             xml:id="id_2480"/></copy><copy xml:id="id_2481"><from expression="bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias')"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   xml:id="id_2482"/><to variable="KeyStoreRecipientAlias"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         xml:id="id_2483"/></copy></assign></case></switch><assign name="AssignURI"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   xml:id="id_1619">
                                                                                                    <copy xml:id="id_1621">
                                                                                                        <from expression="bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceURI')"
                                                                                                              xml:id="id_1622"/>
                                                                                                        <to variable="webServiceAddress"
                                                                                                            xml:id="id_1623"/>
                                                                                                    </copy>
                                                                                                    <copy xml:id="id_1627"
                                                                                                          bpelx:insertMissingToData="yes">
                                                                                                        <from variable="ProcessEventServiceForOrderUpdate_OutputVariable"
                                                                                                              part="parameters"
                                                                                                              xml:id="id_1628"
                                                                                                              query="/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]"/>
                                                                                                        <to variable="CopyOf_ProcessEventServiceForOrderUpdate_OutputVariable"
                                                                                                            part="parameters"
                                                                                                            xml:id="id_1629"
                                                                                                            query="/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result"/>
                                                                                                    </copy>
                                                                                                    <copy xml:id="id_3574">
                                                                                                        <from expression="false()"
                                                                                                              xml:id="id_3575"/>
                                                                                                        <to variable="eventNotifyFlag"
                                                                                                            xml:id="id_3576"/>
                                                                                                    </copy>
                                                                                                </assign><assign name="EventInputToConnectorInputTransform"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              xml:id="id_1634"><bpelx:annotation xml:id="id_1635"><bpelx:pattern xml:id="id_1636">transformation</bpelx:pattern></bpelx:annotation><copy xml:id="id_1638"><from xml:id="id_1639"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                expression="ora:doXSLTransformForDoc('xsl/OrderAttributeUpdateToConnector.xsl', $CopyOf_ProcessEventServiceForOrderUpdate_OutputVariable.parameters)"/><to xml:id="id_1640"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           variable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           part="payload"/></copy></assign><scope name="Scope5"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  xml:id="id_2937"><faultHandlers xml:id="id_2938"><catchAll xml:id="id_2939"><sequence name="Sequence23"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        xml:id="id_2941"><assign name="AssignLogEvent"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 xml:id="id_2940">
                                                                                                                    <copy xml:id="id_2995">
                                                                                                                        <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable','payload','/ns2:results'))"
                                                                                                                              xml:id="id_2996"/>
                                                                                                                        <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                            part="parameters"
                                                                                                                            xml:id="id_2997"
                                                                                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"/>
                                                                                                                    </copy>
                                                                                                                    <copy xml:id="id_2998">
                                                                                                                        <from expression="bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:WebServiceId')"
                                                                                                                              xml:id="id_2999"/>
                                                                                                                        <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                            part="parameters"
                                                                                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId"
                                                                                                                            xml:id="id_3000"/>
                                                                                                                    </copy>
                                                                                                                    <copy xml:id="id_3001">
                                                                                                                        <from variable="inputVariable0"
                                                                                                                              query="/ns2:BusinessEventInfoType/ns2:OriginalNotifyDate"
                                                                                                                              xml:id="id_3002"/>
                                                                                                                        <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                            part="parameters"
                                                                                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"
                                                                                                                            xml:id="id_3003"/>
                                                                                                                    </copy>
                                                                                                                    <copy xml:id="id_3314">
                                                                                                                        <from variable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                              part="payload"
                                                                                                                              query="/ns2:results/ns2:OrderHeader/ns2:EventCode"
                                                                                                                              xml:id="id_3315"/>
                                                                                                                        <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                            part="parameters"
                                                                                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode"
                                                                                                                            xml:id="id_3316"/>
                                                                                                                    </copy>
                                                                                                                    <copy xml:id="id_3317">
                                                                                                                        <from expression="string(bpws:getVariableData('ProcessEventServiceForOrderUpdate_OutputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result/ns3:OrchestrationOrderId'))"
                                                                                                                              xml:id="id_3318"/>
                                                                                                                        <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                            part="parameters"
                                                                                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"
                                                                                                                            xml:id="id_3319"/>
                                                                                                                    </copy>
                                                                                                                    <copy xml:id="id_3495">
                                                                                                                        <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable','payload','/ns2:results'))"
                                                                                                                              xml:id="id_3496"/>
                                                                                                                        <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                            part="parameters"
                                                                                                                            xml:id="id_3497"
                                                                                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:EventlogPayload"/>
                                                                                                                    </copy>
                                                                                                                    <copy xml:id="id_3528">
                                                                                                                        <from expression="true()"
                                                                                                                              xml:id="id_3529"/>
                                                                                                                        <to variable="eventNotifyFlag"
                                                                                                                            xml:id="id_3530"/>
                                                                                                                    </copy>
                                                                                                                </assign><invoke name="InvokeEventNotify"
                                                                                                                                 inputVariable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                                 outputVariable="InvokeLogEventNotify_logEventNotificationError_OutputVariable"
                                                                                                                                 partnerLink="ProcessEventService"
                                                                                                                                 portType="ns3:ProcessEventService"
                                                                                                                                 operation="logEventNotificationError"
                                                                                                                                 bpelx:invokeAsDetail="no"
                                                                                                                                 xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                 xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                 xml:id="id_3615"/></sequence></catchAll></faultHandlers><switch name="Switch34"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 xml:id="id_2572">
                                                                                                        <case xml:id="id_82014"
                                                                                                              condition="string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0 and string-length(bpws:getVariableData('CsfKey')) &lt;=0">
                                                                                                            <bpelx:annotation xml:id="id_82018">
                                                                                                                <bpelx:general xml:id="id_82019">
                                                                                                                    <bpelx:property name="userLabel"
                                                                                                                                    xml:id="id_82020">
                                                                                                                        <![CDATA[KeyStoreAlias]]>
                                                                                                                    </bpelx:property>
                                                                                                                </bpelx:general>
                                                                                                            </bpelx:annotation><invoke name="InvokeConnectorURLForOrderUpdateEvent"
                                                                                                                                       partnerLink="BusinessEventsConnectorService"
                                                                                                                                       portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                       operation="pushPayload"
                                                                                                                                       inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                       bpelx:invokeAsDetail="no"
                                                                                                                                       xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                       xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                       xml:id="id_82025">
      <bpelx:inputProperty name="keystore.recipient.alias"
                           variable="KeyStoreRecipientAlias" xml:id="id_82026"/>
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_82027"/>
      
   </invoke></case>
                                                                                                        <case xml:id="id_82013"
                                                                                                              condition="string-length(bpws:getVariableData('CsfKey')) !=0  and string-length(bpws:getVariableData('KeyStoreRecipientAlias'))&lt;=0">
                                                                                                            <bpelx:annotation xml:id="id_82015">
                                                                                                                <bpelx:general xml:id="id_82016">
                                                                                                                    <bpelx:property name="userLabel"
                                                                                                                                    xml:id="id_82017">
                                                                                                                        <![CDATA[CskKey]]>
                                                                                                                    </bpelx:property>
                                                                                                                </bpelx:general>
                                                                                                            </bpelx:annotation><invoke name="InvokeConnectorURLForOrderUpdateEvent"
                                                                                                                                       partnerLink="BusinessEventsConnectorService"
                                                                                                                                       portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                       operation="pushPayload"
                                                                                                                                       inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                       bpelx:invokeAsDetail="no"
                                                                                                                                       xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                       xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                       xml:id="id_82021">
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_82023"/>
      <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_82024"/>
   </invoke></case>
                                                                                                        <case xml:id="id_2573"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        condition="string-length(bpws:getVariableData('CsfKey')) !=0 and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0"><bpelx:annotation xml:id="id_2578"><bpelx:general xml:id="id_2579"><bpelx:property name="userLabel"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               xml:id="id_2580">
                                                                                                                        <![CDATA[CsfKeyAndKeyStoreAlias]]>
                                                                                                                    </bpelx:property></bpelx:general></bpelx:annotation><invoke name="InvokeConnectorURLForOrderUpdateEvent"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    xml:id="id_1632"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    partnerLink="BusinessEventsConnectorService"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    operation="pushPayload"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    bpelx:invokeAsDetail="no"><bpelx:inputProperty name="keystore.recipient.alias"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   variable="KeyStoreRecipientAlias"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   xml:id="id_2304"/><bpelx:inputProperty name="endpointURI"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          variable="webServiceAddress"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          xml:id="id_1641"/><bpelx:inputProperty name="csf-key"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 variable="CsfKey"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 xml:id="id_2740"/></invoke></case><otherwise xml:id="id_2574"><invoke name="InvokeConnectorURLForOrderUpdateEvent"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       partnerLink="BusinessEventsConnectorService"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       operation="pushPayload"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       xml:id="id_2575"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       bpelx:invokeAsDetail="no"><bpelx:inputProperty name="endpointURI"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      variable="webServiceAddress"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      xml:id="id_2577"/></invoke></otherwise></switch></scope><bpelx:dehydrate name="DehydrateConnectorURLForOrderUpdateEvent"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               xml:id="id_1633"/><assign name="ResetCsfAndKeyVar"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         xml:id="id_2654"><copy xml:id="id_2655"><from expression="''"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       xml:id="id_2656"/><to variable="CsfKey"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             xml:id="id_2657"/></copy><copy xml:id="id_2658"><from expression="''"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   xml:id="id_2659"/><to variable="KeyStoreRecipientAlias"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         xml:id="id_2660"/></copy></assign></sequence></otherwise></switch></sequence></scope><assign name="DecrementConnectorCount"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      xml:id="id_1601"><copy xml:id="id_1602"><from expression="bpws:getVariableData('ConnectorURLsCounter')-1"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    xml:id="id_1603"/><to variable="ConnectorURLsCounter"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          xml:id="id_1604"/></copy></assign></sequence></while><assign name="DecrementHeaderCount"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       xml:id="id_1605"><copy xml:id="id_1606"><from expression="bpws:getVariableData('HeaderCounter')-1"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     xml:id="id_1607"/><to variable="HeaderCounter"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           xml:id="id_1608"/></copy></assign></sequence></while></sequence></scope></sequence></case>
                                            <otherwise xml:id="id_2027">
                                                <terminate name="TerminateOrderAttributeUpdate"
                                                           xml:id="id_2032"/>
                                            </otherwise>
                                        </switch>
                                    </sequence>
                                </sequence>
                            </scope>
                        </case>
                    </switch>
                    <scope name="OCReponseScope" xml:id="id_7439"
                           variableAccessSerializable="no">
                        <variables xml:id="id_7472">
                            <variable name="webServiceAddress" type="xsd:string"
                                      xml:id="id_485"/>
                            <variable name="loopCounter" type="xsd:int"
                                      xml:id="id_486"/>
                            <variable name="InvokeOcResponseSvc_process_InputVariable"
                                      messageType="ns13:OCResponseSvcRequestMessage"
                                      xml:id="id_7493"/>
                            <variable name="InvokeConnectorURLOcResponseSvc_pushPayload_InputVariable"
                                      messageType="ns18:BusinessEventsConnectorPayloadRequestMessage"
                                      xml:id="id_2207"/>
                            <variable name="CsfKey" type="xsd:string"
                                      xml:id="id_2307"/>
                            <variable name="KeyStoreRecipientAlias"
                                      type="xsd:string" xml:id="id_2308"/>
                        </variables>
                        <sequence name="GetConnectorUriSequence"
                                  xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                  xml:id="id_7440">
                            <assign name="OcResponseToGetEventConnectorInfo"
                                    xml:id="id_537">
                                <bpelx:annotation xml:id="id_538">
                                    <bpelx:pattern xml:id="id_7539">transformation</bpelx:pattern>
                                </bpelx:annotation>
                                <copy xml:id="id_7540">
                                    <from xml:id="id_7541"
                                          expression="ora:doXSLTransformForDoc('xsl/OcResponseToGetEventConnectorInfo.xsl', $processOCResponseOrderUpdate_InputVariable.payload)"/>
                                    <to xml:id="id_7542"
                                        variable="getEventConnectorInfo_InputVariable"
                                        part="parameters"/>
                                </copy>
                            </assign>
                            <invoke name="InvokeGetEventConnectorInfo"
                                    inputVariable="getEventConnectorInfo_InputVariable"
                                    outputVariable="getEventConnectorInfo_OutputVariable"
                                    partnerLink="ProcessEventService"
                                    portType="ns3:ProcessEventService"
                                    operation="getEventConnectorInfo"
                                    xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                    xml:id="id_448" bpelx:invokeAsDetail="no"/>
                            <bpelx:dehydrate name="DehydrateConnectorUriInfo"
                                             xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                             xml:id="id_449"/>
                            <assign name="AssignCount" xml:id="id_450">
                                <copy xml:id="id_451">
                                    <from expression="count(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result'))"
                                          xml:id="id_452"/>
                                    <to variable="loopCounter" xml:id="id_453"/>
                                </copy>
                            </assign>
                            <switch name="Switch5" xml:id="id_7563">
                                <case xml:id="id_7564"
                                      condition="bpws:getVariableData('loopCounter') > 0">
                                    <bpelx:annotation xml:id="id_566">
                                        <bpelx:general xml:id="id_567">
                                            <bpelx:property name="userLabel"
                                                            xml:id="id_568">
                                                <![CDATA[HasConnectorURI's]]>
                                            </bpelx:property>
                                        </bpelx:general>
                                    </bpelx:annotation>
                                    <while name="While1"
                                           condition="bpws:getVariableData('loopCounter') > 0"
                                           xml:id="id_454">
                                        <sequence name="Sequence1"
                                                  xml:id="id_455">
                                            <switch name="Switch4"
                                                    xml:id="id_481">
                                                <case xml:id="id_482"
                                                      condition="(xp20:compare(string(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:ServiceName')),'DOO_BUSINESS_EVENT_NOTIFICATION')=0)">
                                                    <bpelx:annotation xml:id="id_7487">
                                                        <bpelx:pattern xml:id="id_7490">Before Release 11</bpelx:pattern>
                                                        <bpelx:general xml:id="id_7488">
                                                            <bpelx:property name="userLabel"
                                                                            xml:id="id_7489">
                                                                <![CDATA[BackwardCompatibility]]>
                                                            </bpelx:property>
                                                        </bpelx:general>
                                                    </bpelx:annotation>
                                                    <sequence name="Sequence3"
                                                              xml:id="id_7494">
                                                        <scope name="InvokeOcResponseSvcScope"
                                                               xml:id="id_7495"
                                                               variableAccessSerializable="no">
                                                            <sequence name="Sequence4"
                                                                      xml:id="id_7496">
                                                                <assign name="TransformOcResponseSvc"
                                                                        xml:id="id_7528">
                                                                    <bpelx:annotation xml:id="id_7529">
                                                                        <bpelx:pattern xml:id="id_7530">transformation</bpelx:pattern>
                                                                    </bpelx:annotation>
                                                                    <copy xml:id="id_7531">
                                                                        <from xml:id="id_7532"
                                                                              expression="ora:doXSLTransformForDoc('xsl/OcResponseEventToOcResponseSvc.xsl', $processOCResponseOrderUpdate_InputVariable.payload)"/>
                                                                        <to xml:id="id_7533"
                                                                            variable="InvokeOcResponseSvc_process_InputVariable"
                                                                            part="payload"/>
                                                                    </copy>
                                                                </assign>
                                                                <invoke name="InvokeOcResponseSvc"
                                                                        xml:id="id_7492"
                                                                        bpelx:invokeAsDetail="no"
                                                                        inputVariable="InvokeOcResponseSvc_process_InputVariable"
                                                                        partnerLink="OCResponseSvc.ocresponsesvcclient"
                                                                        portType="ns13:OCResponseSvc"
                                                                        operation="process"/>
                                                                <bpelx:dehydrate name="DehydrateOcResponseSvc"
                                                                                 xml:id="id_7497"/>
                                                            </sequence>
                                                        </scope>
                                                    </sequence>
                                                </case>
                                                <otherwise xml:id="id_483">
                                                    <sequence xml:id="id_484">
                                                        <switch name="Switch25"
                                                                xml:id="id_2484">
                                                            <case xml:id="id_2485"
                                                                  condition="string-length(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:CsfKey'))>0 or string-length(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:KeyStoreRecipientAlias'))>0">
                                                                <bpelx:annotation xml:id="id_2487">
                                                                    <bpelx:general xml:id="id_2488">
                                                                        <bpelx:property name="userLabel"
                                                                                        xml:id="id_2489">
                                                                            <![CDATA[CheckCsfKeyAndKeyAlias]]>
                                                                        </bpelx:property>
                                                                    </bpelx:general>
                                                                </bpelx:annotation>
                                                                <assign name="AssignCsfKeyAndKeyStoreAlias"
                                                                        xml:id="id_2490">
                                                                    <copy xml:id="id_2491">
                                                                        <from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:CsfKey')"
                                                                              xml:id="id_2492"/>
                                                                        <to variable="CsfKey"
                                                                            xml:id="id_2493"/>
                                                                    </copy>
                                                                    <copy xml:id="id_2494">
                                                                        <from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:KeyStoreRecipientAlias')"
                                                                              xml:id="id_2495"/>
                                                                        <to variable="KeyStoreRecipientAlias"
                                                                            xml:id="id_2496"/>
                                                                    </copy>
                                                                </assign>
                                                            </case>
                                                        </switch>
                                                        <assign name="AssignUri"
                                                                xml:id="id_456">
                                                            <copy xml:id="id_457">
                                                                <from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:ServiceURI')"
                                                                      xml:id="id_458"/>
                                                                <to variable="webServiceAddress"
                                                                    xml:id="id_459"/>
                                                            </copy>
                                                            <copy xml:id="id_3577">
                                                                <from expression="false()"
                                                                      xml:id="id_3578"/>
                                                                <to variable="eventNotifyFlag"
                                                                    xml:id="id_3579"/>
                                                            </copy>
                                                        </assign>
                                                        <assign name="TransformConnectorOcResponseSvc"
                                                                xml:id="id_601">
                                                            <bpelx:annotation xml:id="id_7602">
                                                                <bpelx:pattern xml:id="id_603">transformation</bpelx:pattern>
                                                            </bpelx:annotation>
                                                            <copy xml:id="id_605">
                                                                <from xml:id="id_606"
                                                                      expression="ora:doXSLTransformForDoc('xsl/OcResponseEventToOcResponseConnectorSvc.xsl', $processOCResponseOrderUpdate_InputVariable.payload)"/>
                                                                <to xml:id="id_607"
                                                                    variable="InvokeConnectorURLOcResponseSvc_pushPayload_InputVariable"
                                                                    part="payload"/>
                                                            </copy>
                                                        </assign>
                                                        <scope name="Scope6"
                                                               xml:id="id_2966">
                                                            <faultHandlers xml:id="id_2967">
                                                                <catchAll xml:id="id_2968">
                                                                    <sequence name="Sequence24"
                                                                              xml:id="id_2970">
                                                                        <assign name="AssignLogEvent"
                                                                                xml:id="id_2969">
                                                                            <!--copy xml:id="id_3181">
                                                                                <from variable="OriginalNotifyDate"
                                                                                      xml:id="id_3182"/>
                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                    part="parameters"
                                                                                    query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"
                                                                                    xml:id="id_3183"/>
                                                                            </copy-->
                                                                            <copy xml:id="id_3025"
                                                                                  bpelx:insertMissingToData="yes"
                                                                                  bpelx:ignoreMissingFromData="yes">
                                                                                <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLOcResponseSvc_pushPayload_InputVariable','payload','/ns2:results'))"
                                                                                      xml:id="id_3026"/>
                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                    part="parameters"
                                                                                    xml:id="id_3027"
                                                                                    query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"/>
                                                                            </copy>
                                                                            <copy xml:id="id_3178">
                                                                                <from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:WebServiceId')"
                                                                                      xml:id="id_3179"/>
                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                    part="parameters"
                                                                                    query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId"
                                                                                    xml:id="id_3180"/>
                                                                            </copy>
                                                                            <copy xml:id="id_3212">
                                                                                <from expression="bpws:getVariableData('OriginalNotifyDate')"
                                                                                      xml:id="id_3213"/>
                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                    part="parameters"
                                                                                    xml:id="id_3214"
                                                                                    query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"/>
                                                                            </copy>
                                                                            <copy xml:id="id_3248">
                                                                                <from variable="InvokeConnectorURLOcResponseSvc_pushPayload_InputVariable"
                                                                                      part="payload"
                                                                                      query="/ns2:results/ns2:OrderHeader/ns2:SourceOrderSystem"
                                                                                      xml:id="id_3249"/>
                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                    part="parameters"
                                                                                    query="/ns6:logEventNotificationError/ns6:input/ns3:EventLineId"
                                                                                    xml:id="id_3250"/>
                                                                            </copy>
                                                                            <copy xml:id="id_3251">
                                                                                <from variable="InvokeConnectorURLOcResponseSvc_pushPayload_InputVariable"
                                                                                      part="payload"
                                                                                      xml:id="id_3252"
                                                                                      query="/ns2:results/ns2:OrderHeader/ns2:SourceOrderNumber"/>
                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                    part="parameters"
                                                                                    xml:id="id_3253"
                                                                                    query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"/>
                                                                            </copy>
                                                                            <copy xml:id="id_3254">
                                                                                <from variable="InvokeConnectorURLOcResponseSvc_pushPayload_InputVariable"
                                                                                      part="payload"
                                                                                      query="/ns2:results/ns2:OrderHeader/ns2:EventCode"
                                                                                      xml:id="id_3255"/>
                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                    part="parameters"
                                                                                    xml:id="id_3256"
                                                                                    query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode"/>
                                                                            </copy>
                                                                            <copy xml:id="id_3531">
                                                                                <from expression="true()"
                                                                                      xml:id="id_3532"/>
                                                                                <to variable="eventNotifyFlag"
                                                                                    xml:id="id_3533"/>
                                                                            </copy>
                                                                            <copy xml:id="id_3586">
                                                                                <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLOcResponseSvc_pushPayload_InputVariable','payload','/ns2:results'))"
                                                                                      xml:id="id_3587"/>
                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                    part="parameters"
                                                                                    query="/ns6:logEventNotificationError/ns6:input/ns3:EventlogPayload"
                                                                                    xml:id="id_3588"/>
                                                                            </copy>
                                                                        </assign><invoke name="InvokeEventNotify"
                                                                                         inputVariable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                         outputVariable="InvokeLogEventNotify_logEventNotificationError_OutputVariable"
                                                                                         partnerLink="ProcessEventService"
                                                                                         portType="ns3:ProcessEventService"
                                                                                         operation="logEventNotificationError"
                                                                                         bpelx:invokeAsDetail="no"
                                                                                         xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                         xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                         xml:id="id_3616"/></sequence>
                                                                </catchAll>
                                                            </faultHandlers>
                                                            <switch name="Switch35"
                                                                    xml:id="id_2581">
                                                                <case xml:id="id_82029"
                                                                      condition="string-length(bpws:getVariableData('CsfKey')) !=0 and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0">
                                                                    <bpelx:annotation xml:id="id_82033">
                                                                        <bpelx:general xml:id="id_82034">
                                                                            <bpelx:property name="userLabel"
                                                                                            xml:id="id_82035">
                                                                                <![CDATA[CsfKeyAndKeyStoreAlias]]>
                                                                            </bpelx:property>
                                                                        </bpelx:general>
                                                                    </bpelx:annotation><invoke name="InvokeConnectorURLOcResponseSvc"
                                                                                               inputVariable="InvokeConnectorURLOcResponseSvc_pushPayload_InputVariable"
                                                                                               partnerLink="BusinessEventsConnectorService"
                                                                                               portType="ns18:BusinessEventsConnectorPayload"
                                                                                               operation="pushPayload"
                                                                                               bpelx:invokeAsDetail="no"
                                                                                               xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                               xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                               xml:id="id_82041">
      <bpelx:inputProperty name="keystore.recipient.alias"
                           variable="KeyStoreRecipientAlias" xml:id="id_82042"/>
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_82043"/>
      <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_82044"/>
   </invoke></case>
                                                                <case xml:id="id_82028"
                                                                      condition="string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0 and string-length(bpws:getVariableData('CsfKey')) &lt;=0">
                                                                    <bpelx:annotation xml:id="id_82030">
                                                                        <bpelx:general xml:id="id_82031">
                                                                            <bpelx:property name="userLabel"
                                                                                            xml:id="id_82032">
                                                                                <![CDATA[KeyStoreAlias]]>
                                                                            </bpelx:property>
                                                                        </bpelx:general>
                                                                    </bpelx:annotation>
                                                                    <invoke name="InvokeConnectorURLOcResponseSvc"
                                                                            inputVariable="InvokeConnectorURLOcResponseSvc_pushPayload_InputVariable"
                                                                            partnerLink="BusinessEventsConnectorService"
                                                                            portType="ns18:BusinessEventsConnectorPayload"
                                                                            operation="pushPayload"
                                                                            bpelx:invokeAsDetail="no"
                                                                            xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                            xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                            xml:id="id_82037">
      <bpelx:inputProperty name="keystore.recipient.alias"
                           variable="KeyStoreRecipientAlias" xml:id="id_82038"/>
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_82039"/>
   </invoke>
                                                                </case>
                                                                <case xml:id="id_2582"
                                                                      condition="string-length(bpws:getVariableData('CsfKey')) !=0  and string-length(bpws:getVariableData('KeyStoreRecipientAlias'))&lt;=0">
                                                                    <bpelx:annotation xml:id="id_2587">
                                                                        <bpelx:general xml:id="id_2588">
                                                                            <bpelx:property name="userLabel"
                                                                                            xml:id="id_2589">
                                                                                <![CDATA[CsfKey]]>
                                                                            </bpelx:property>
                                                                        </bpelx:general>
                                                                    </bpelx:annotation><sequence name="Sequence42"
                                                                                       xml:id="id_82036"><invoke name="InvokeConnectorURLOcResponseSvc"
                                                                                                                 xml:id="id_599"
                                                                                                                 inputVariable="InvokeConnectorURLOcResponseSvc_pushPayload_InputVariable"
                                                                                                                 partnerLink="BusinessEventsConnectorService"
                                                                                                                 portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                 operation="pushPayload"
                                                                                                                 bpelx:invokeAsDetail="no">
                                                                                                                 
                                                                                                                <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                                                                                                                xml:id="id_608"/>
                                                                                                                <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_2741"/>
                                                                                                                </invoke>
                                                                                                                </sequence>
                                                                                                                </case>
                                                                <otherwise xml:id="id_2583">
                                                                    <invoke name="InvokeConnectorURLOcResponseSvc"
                                                                            inputVariable="InvokeConnectorURLOcResponseSvc_pushPayload_InputVariable"
                                                                            partnerLink="BusinessEventsConnectorService"
                                                                            portType="ns18:BusinessEventsConnectorPayload"
                                                                            operation="pushPayload"
                                                                            xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                            xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                            xml:id="id_2584"
                                                                            bpelx:invokeAsDetail="no">
                                                                        <bpelx:inputProperty name="endpointURI"
                                                                                             variable="webServiceAddress"
                                                                                             xml:id="id_2586"/>
                                                                    </invoke>
                                                                </otherwise>
                                                            </switch>
                                                        </scope>
                                                        <bpelx:dehydrate name="DehydrateInvokeConnectorURLOcResponseSvc"
                                                                         xml:id="id_600"/>
                                                        <assign name="ResetCsfAndKeyVar"
                                                                xml:id="id_2661">
                                                            <copy xml:id="id_2662">
                                                                <from expression="''"
                                                                      xml:id="id_2663"/>
                                                                <to variable="CsfKey"
                                                                    xml:id="id_2664"/>
                                                            </copy>
                                                            <copy xml:id="id_2665">
                                                                <from expression="''"
                                                                      xml:id="id_2666"/>
                                                                <to variable="KeyStoreRecipientAlias"
                                                                    xml:id="id_2667"/>
                                                            </copy>
                                                        </assign>
                                                    </sequence>
                                                </otherwise>
                                            </switch>
                                            <assign name="DecrementCountVar"
                                                    xml:id="id_7498">
                                                <copy xml:id="id_7499">
                                                    <from expression="bpws:getVariableData('loopCounter')-1"
                                                          xml:id="id_500"/>
                                                    <to variable="loopCounter"
                                                        xml:id="id_501"/>
                                                </copy>
                                            </assign>
                                        </sequence>
                                    </while>
                                </case>
                                <otherwise xml:id="id_7565">
                                    <scope name="InvokeOcResponseSvc"
                                           variableAccessSerializable="no"
                                           xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                           xml:id="id_569">
                                        <variables xml:id="id_2205">
                                            <variable name="InvokeOcResponseSvc_pushPayload_InputVariable"
                                                      messageType="ns18:BusinessEventsConnectorPayloadRequestMessage"
                                                      xml:id="id_2206"/>
                                        </variables>
                                        <sequence name="Sequence4"
                                                  xml:id="id_570">
                                            <assign name="TransformOcResponseSvc"
                                                    xml:id="id_571">
                                                <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                  xml:id="id_572">
                                                    <bpelx:pattern xml:id="id_573">transformation</bpelx:pattern>
                                                </bpelx:annotation>
                                                <copy xml:id="id_574">
                                                    <from expression="ora:doXSLTransformForDoc('xsl/OcResponseEventToOcResponseSvc.xsl', $processOCResponseOrderUpdate_InputVariable.payload)"
                                                          xml:id="id_575"/>
                                                    <to variable="InvokeOcResponseSvc_process_InputVariable"
                                                        part="payload"
                                                        xml:id="id_576"/>
                                                </copy>
                                            </assign>
                                            <invoke name="InvokeOcResponseSvc"
                                                    inputVariable="InvokeOcResponseSvc_process_InputVariable"
                                                    partnerLink="OCResponseSvc.ocresponsesvcclient"
                                                    portType="ns13:OCResponseSvc"
                                                    operation="process"
                                                    xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                    xml:id="id_577"
                                                    bpelx:invokeAsDetail="no"/>
                                            <bpelx:dehydrate name="DehydrateOcResponseSvc"
                                                             xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                             xml:id="id_578"/>
                                        </sequence>
                                    </scope>
                                </otherwise>
                            </switch>
                        </sequence>
                    </scope>
                </sequence>
            </onMessage>
            <onMessage xml:id="id_86"
                       bpelx:eventName="ns1:AggregatedBusinessEvent"
                       variable="inputVariable0">
                <sequence name="Sequence31" xml:id="id_3514">
                    <scope name="AggregatedBusinessEventScope" xml:id="id_87" variableAccessSerializable="no">
                        <sequence xml:id="id_88">
                            <sequence xml:id="id_3360">
                                <assign name="AssignSetupVar" xml:id="id_77">
                                    <copy xml:id="id_79">
                                        <from expression="ora:setCompositeInstanceTitle(concat('TRANSACTION_EVENT_ID=',string(bpws:getVariableData('inputVariable0','/ns2:BusinessEventInfoType/ns2:TransactionEventId'))))" xml:id="id_80"/>
                                        <to variable="COMPOSITE_TITLE_VAR" xml:id="id_81"/>
                                    </copy>
                                    <copy xml:id="id_2751" bpelx:ignoreMissingFromData="yes">
                                        <from variable="inputVariable0" xml:id="id_2752" query="/ns2:BusinessEventInfoType/ns2:OriginalNotifyDate"/>
                                        <to variable="OriginalNotifyDate" xml:id="id_2753"/>
                                    </copy>
                                </assign>
                                <switch name="OrderAttributeUpdate" xml:id="id_10">
                                    <case xml:id="id_300" condition="bpws:getVariableData('inputVariable0','/ns2:BusinessEventInfoType/ns2:EventPointCode')='ORDER_TL_UPDATE'">
                                        <bpelx:annotation xml:id="id_301">
                                            <bpelx:general xml:id="id_302">
                                                <bpelx:property name="userLabel" xml:id="id_303">
                                                    <![CDATA[TaskLayerOrderUpdate]]>
                                                </bpelx:property>
                                            </bpelx:general>
                                        </bpelx:annotation>
                                        <sequence name="OrderTLUpdateSequence" xml:id="id_304">
                                            <scope name="OrderTLUpdateScope" xml:id="id_305" variableAccessSerializable="no">
                                                <variables xml:id="id_308">
                                                    <variable name="preparePayloadForTaskLayerOrderUpdateEvent_InputVariable" messageType="ns3:ProcessEventService_preparePayloadForTaskLayerOrderUpdateEvent" xml:id="id_309"/>
                                                    <variable name="preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable" messageType="ns3:ProcessEventService_preparePayloadForTaskLayerOrderUpdateEventResponse" xml:id="id_310"/>
                                                    <variable name="taskLayerOrderUpdateEvent_InputVariable" messageType="ns4:requestMessage" xml:id="id_319"/>
                                                    <variable name="CopyOf_preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable" messageType="ns3:ProcessEventService_preparePayloadForTaskLayerOrderUpdateEventResponse" xml:id="id_1771"/>
                                                </variables>
                                                <sequence name="OrderTLUpdateSubSequence" xml:id="id_306">
                                                    <assign name="XformForTLOrderUpdateEventServiceInput" xml:id="id_311">
                                                        <bpelx:annotation xml:id="id_312">
                                                            <bpelx:pattern xml:id="id_313">transformation</bpelx:pattern>
                                                        </bpelx:annotation>
                                                        <copy xml:id="id_314">
                                                            <from xml:id="id_315" expression="ora:doXSLTransformForDoc('xsl/XformForTLOrderUpdateEventServiceInput.xsl', $inputVariable0)"/>
                                                            <to xml:id="id_316" variable="preparePayloadForTaskLayerOrderUpdateEvent_InputVariable" part="parameters"/>
                                                        </copy>
                                                    </assign>
                                                    <invoke name="InvokeTaskLayerOrderUpdateEventService" xml:id="id_307" bpelx:invokeAsDetail="no" inputVariable="preparePayloadForTaskLayerOrderUpdateEvent_InputVariable" outputVariable="preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="preparePayloadForTaskLayerOrderUpdateEvent"/>
                                                    <bpelx:dehydrate name="TLOrderUpdateFlowDehydrate" xml:id="id_317"/>
                                                    <switch name="Switch9" xml:id="id_2033">
                                                        <case xml:id="id_2034" condition="count(bpws:getVariableData('preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable','parameters','/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result'))>0">
                                                            <bpelx:annotation xml:id="id_2036">
                                                                <bpelx:pattern xml:id="id_2039">ValidPayload</bpelx:pattern>
                                                                <bpelx:general xml:id="id_2037">
                                                                    <bpelx:property name="userLabel" xml:id="id_2038">
                                                                        <![CDATA[ValidPayload]]>
                                                                    </bpelx:property>
                                                                </bpelx:general>
                                                            </bpelx:annotation>
                                                            <scope name="OrderupdateEventPayloadPushingScope" variableAccessSerializable="no" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_71712">
                                                                <variables xml:id="id_71713">
                                                                    <variable name="HeaderCounter" type="xsd:integer" xml:id="id_71714"/>
                                                                    <variable name="ConnectorURLsCounter" type="xsd:integer" xml:id="id_71715"/>
                                                                    <variable name="webServiceAddress" type="xsd:string" xml:id="id_71716"/>
                                                                    <variable name="CsfKey" type="xsd:string" xml:id="id_2287"/>
                                                                    <variable name="KeyStoreRecipientAlias" type="xsd:string" xml:id="id_2288"/>
                                                                </variables>
                                                                <sequence name="Sequence8" xml:id="id_71717">
                                                                    <assign name="AssignHeaderCounter" xml:id="id_71718">
                                                                        <copy xml:id="id_1719">
                                                                            <from expression="count(bpws:getVariableData('preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable','parameters','/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result'))" xml:id="id_1720"/>
                                                                            <to variable="HeaderCounter" xml:id="id_1721"/>
                                                                        </copy>
                                                                    </assign>
                                                                    <while name="HeaderIterator" condition="bpws:getVariableData('HeaderCounter')>0" xml:id="id_71722">
                                                                        <sequence name="HeaderIteratorSequence" xml:id="id_81723">
                                                                            <assign name="ConnectorURLsIterator" xml:id="id_81724">
                                                                                <copy xml:id="id_81725">
                                                                                    <from expression="count(bpws:getVariableData('preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable','parameters','/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR'))" xml:id="id_71726"/>
                                                                                    <to variable="ConnectorURLsCounter" xml:id="id_81727"/>
                                                                                </copy>
                                                                            </assign>
                                                                            <while name="ConnectorIterator" condition="bpws:getVariableData('ConnectorURLsCounter')>0" xml:id="id_1728">
                                                                                <sequence name="ConnectorIteratorSequence" xml:id="id_1729">
                                                                                    <scope name="PayloadPushingScope" variableAccessSerializable="no" xml:id="id_1730">
                                                                                        <variables xml:id="id_2208">
                                                                                            <variable name="InvokeConnectorURLForTLOrderUpdateEvent_pushPayload_InputVariable" messageType="ns18:BusinessEventsConnectorPayloadRequestMessage" xml:id="id_2209"/>
                                                                                        </variables>
                                                                                        <sequence name="Sequence15" xml:id="id_2645">
                                                                                            <switch name="Switch7" xml:id="id_1731">
                                                                                                <case condition="(xp20:compare(string(bpws:getVariableData('preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable','parameters','/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceName')),'DOO_BUSINESS_EVENT_NOTIFICATION')=0)" xml:id="id_1732">
                                                                                                    <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1733">
                                                                                                        <bpelx:pattern xml:id="id_1734">Before Release 11</bpelx:pattern>
                                                                                                        <bpelx:general xml:id="id_1735">
                                                                                                            <bpelx:property name="userLabel" xml:id="id_1736">
                                                                                                                <![CDATA[BackwardCompatibility]]>
                                                                                                            </bpelx:property>
                                                                                                        </bpelx:general>
                                                                                                    </bpelx:annotation>
                                                                                                    <sequence xml:id="id_1737">
                                                                                                        <assign name="XformTLOrderUpdateEvent2MediatorInput" xml:id="id_320">
                                                                                                            <bpelx:annotation xml:id="id_321">
                                                                                                                <bpelx:pattern xml:id="id_322">transformation</bpelx:pattern>
                                                                                                            </bpelx:annotation>
                                                                                                            <copy xml:id="id_323">
                                                                                                                <from xml:id="id_324" expression="ora:doXSLTransformForDoc('xsl/XfrmEventService2TLUpdateMediator.xsl', $preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable.parameters)"/>
                                                                                                                <to xml:id="id_325" variable="InvokeNotificationMediator_execute_InputVariable" part="request"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <invoke name="InvokeMediatorForTLOrderUpdateEvent" xml:id="id_318" inputVariable="InvokeNotificationMediator_execute_InputVariable" partnerLink="BusinessEventNotificationMediator.BusinessEventNotificationMediator" portType="ns4:execute_ptt" operation="orderUpdateEvent" bpelx:invokeAsDetail="no"/>
                                                                                                        <bpelx:dehydrate name="DehydrateInvokeMediatorForTLOrderUpdateEvent" xml:id="id_2017"/>
                                                                                                    </sequence>
                                                                                                </case>
                                                                                                <otherwise xml:id="id_1745">
                                                                                                    <sequence name="OrderUpdateEventConnectorURIsSequence" xml:id="id_1746">
                                                                                                        <switch name="Switch24" xml:id="id_2462">
                                                                                                            <case xml:id="id_2463"
                                                                                                                  condition="string-length(bpws:getVariableData('preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable','parameters','/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey'))>0 or
string-length(bpws:getVariableData('preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable','parameters','/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias'))>0">
                                                                                                                <bpelx:annotation xml:id="id_2465">
                                                                                                                    <bpelx:general xml:id="id_2466">
                                                                                                                        <bpelx:property name="userLabel" xml:id="id_2467">
                                                                                                                            <![CDATA[CheckCsfKeyAndKeyAlias]]>
                                                                                                                        </bpelx:property>
                                                                                                                    </bpelx:general>
                                                                                                                </bpelx:annotation>
                                                                                                                <assign name="AssignCsfKeyAndKeyAlias" xml:id="id_2468">
                                                                                                                    <copy xml:id="id_2469">
                                                                                                                        <from expression="bpws:getVariableData('preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable','parameters','/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey')" xml:id="id_2470"/>
                                                                                                                        <to variable="CsfKey" xml:id="id_2471"/>
                                                                                                                    </copy>
                                                                                                                    <copy xml:id="id_2472">
                                                                                                                        <from expression="bpws:getVariableData('preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable','parameters','/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias')" xml:id="id_2473"/>
                                                                                                                        <to variable="KeyStoreRecipientAlias" xml:id="id_2474"/>
                                                                                                                    </copy>
                                                                                                                </assign>
                                                                                                            </case>
                                                                                                        </switch>
                                                                                                        <assign name="AssignURI" xml:id="id_1747">
                                                                                                            <copy xml:id="id_1748">
                                                                                                                <from expression="bpws:getVariableData('preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable','parameters','/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceURI')" xml:id="id_1749"/>
                                                                                                                <to variable="webServiceAddress" xml:id="id_1750"/>
                                                                                                            </copy>
                                                                                                            <copy bpelx:insertMissingToData="yes" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1751">
                                                                                                                <from variable="preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable" part="parameters" xml:id="id_1752" query="/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result[$HeaderCounter]"/>
                                                                                                                <to variable="CopyOf_preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable" part="parameters" xml:id="id_1753" query="/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_3571">
                                                                                                                <from expression="false()" xml:id="id_3572"/>
                                                                                                                <to variable="eventNotifyFlag" xml:id="id_3573"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <assign name="EventInputToConnectorInputTransform" xml:id="id_1754">
                                                                                                            <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1755">
                                                                                                                <bpelx:pattern xml:id="id_1756">transformation</bpelx:pattern>
                                                                                                            </bpelx:annotation>
                                                                                                            <copy xml:id="id_1757">
                                                                                                                <from expression="ora:doXSLTransformForDoc('xsl/TaskLayerUpdateToConnector.xsl', $CopyOf_preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable.parameters)" xml:id="id_1758"/>
                                                                                                                <to variable="InvokeConnectorURLForTLOrderUpdateEvent_pushPayload_InputVariable" part="payload" xml:id="id_1759"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <scope name="Scope4" xml:id="id_2908">
                                                                                                            <faultHandlers xml:id="id_2909">
                                                                                                                <catchAll xml:id="id_2910">
                                                                                                                    <sequence name="Sequence22" xml:id="id_2912">
                                                                                                                        <assign name="AssignLogEventNotify" xml:id="id_2911">
                                                                                                                            <copy xml:id="id_3034">
                                                                                                                                <from variable="inputVariable0" xml:id="id_3035" query="/ns2:BusinessEventInfoType/ns2:OriginalNotifyDate"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3036" query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3037">
                                                                                                                                <from expression="bpws:getVariableData('preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable','parameters','/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:WebServiceId')" xml:id="id_3038"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId" xml:id="id_3039"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3040">
                                                                                                                                <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForTLOrderUpdateEvent_pushPayload_InputVariable','payload','/ns2:results'))" xml:id="id_3041"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3042" query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3302">
                                                                                                                                <from variable="InvokeConnectorURLForTLOrderUpdateEvent_pushPayload_InputVariable" part="payload" query="/ns2:results/ns2:OrderHeader/ns2:EventCode" xml:id="id_3303"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode" xml:id="id_3304"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3305">
                                                                                                                                <from expression="string(bpws:getVariableData('preparePayloadForTaskLayerOrderUpdateEvent_OutputVariable','parameters','/ns6:preparePayloadForTaskLayerOrderUpdateEventResponse/ns6:result/ns3:OrchestrationOrderId'))" xml:id="id_3306"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3307" query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3492">
                                                                                                                                <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForTLOrderUpdateEvent_pushPayload_InputVariable','payload','/ns2:results'))" xml:id="id_3493"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" query="/ns6:logEventNotificationError/ns6:input/ns3:EventlogPayload" xml:id="id_3494"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3534">
                                                                                                                                <from expression="true()" xml:id="id_3535"/>
                                                                                                                                <to variable="eventNotifyFlag" xml:id="id_3536"/>
                                                                                                                            </copy>
                                                                                                                        </assign>
                                                                                                                        <invoke name="InvokeEventNotify" inputVariable="InvokeLogEventNotify_logEventNotificationError_InputVariable" outputVariable="InvokeLogEventNotify_logEventNotificationError_OutputVariable" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="logEventNotificationError" bpelx:invokeAsDetail="no" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_3617"/>
                                                                                                                    </sequence>
                                                                                                                </catchAll>
                                                                                                            </faultHandlers>
                                                                                                            <switch name="Switch33" xml:id="id_2563">
                                                                                                                <case xml:id="id_81998"
                                                                                                                      condition="string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0 and string-length(bpws:getVariableData('CsfKey')) &lt;=0">
                                                                                                                    <bpelx:annotation xml:id="id_82002">
                                                                                                                        <bpelx:general xml:id="id_82003">
                                                                                                                            <bpelx:property name="userLabel"
                                                                                                                                            xml:id="id_82004">
                                                                                                                                <![CDATA[KeyStoreAlias]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation><invoke name="InvokeConnectorURLForTLOrderUpdateEvent"
                                                                                                                                               partnerLink="BusinessEventsConnectorService"
                                                                                                                                               portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                               operation="pushPayload"
                                                                                                                                               inputVariable="InvokeConnectorURLForTLOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                               xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                               bpelx:invokeAsDetail="no"
                                                                                                                                               xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                               xml:id="id_82009">
      <bpelx:inputProperty name="keystore.recipient.alias"
                           variable="KeyStoreRecipientAlias" xml:id="id_82010"/>
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_82011"/>
   </invoke></case>
                                                                                                                <case xml:id="id_81997"
                                                                                                                      condition="string-length(bpws:getVariableData('CsfKey')) !=0  and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) &lt;=0">
                                                                                                                    <bpelx:annotation xml:id="id_81999">
                                                                                                                        <bpelx:general xml:id="id_82000">
                                                                                                                            <bpelx:property name="userLabel"
                                                                                                                                            xml:id="id_82001">
                                                                                                                                <![CDATA[CsfKey]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation><invoke name="InvokeConnectorURLForTLOrderUpdateEvent"
                                                                                                                                               partnerLink="BusinessEventsConnectorService"
                                                                                                                                               portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                               operation="pushPayload"
                                                                                                                                               inputVariable="InvokeConnectorURLForTLOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                               xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                               bpelx:invokeAsDetail="no"
                                                                                                                                               xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                               xml:id="id_82005">
      
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_82007"/>
      <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_82008"/>
   </invoke></case>
                                                                                                                <case xml:id="id_2564" condition="string-length(bpws:getVariableData('CsfKey')) !=0 and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0">
                                                                                                                    <bpelx:annotation xml:id="id_2569">
                                                                                                                        <bpelx:general xml:id="id_2570">
                                                                                                                            <bpelx:property name="userLabel" xml:id="id_2571">
                                                                                                                                <![CDATA[CsfKeyAndKeyStoreAlias]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation>
                                                                                                                    <invoke name="InvokeConnectorURLForTLOrderUpdateEvent" partnerLink="BusinessEventsConnectorService" portType="ns18:BusinessEventsConnectorPayload" operation="pushPayload" inputVariable="InvokeConnectorURLForTLOrderUpdateEvent_pushPayload_InputVariable" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1760" bpelx:invokeAsDetail="no">
                                                                                                                        <bpelx:inputProperty name="keystore.recipient.alias" variable="KeyStoreRecipientAlias" xml:id="id_2295"/>
                                                                                                                        <bpelx:inputProperty name="endpointURI" variable="webServiceAddress" xml:id="id_1761"/>
                                                                                                                        <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_2742"/>
                                                                                                                    </invoke>
                                                                                                                </case>
                                                                                                                <otherwise xml:id="id_2565">
                                                                                                                    <invoke name="InvokeConnectorURLForTLOrderUpdateEvent" partnerLink="BusinessEventsConnectorService" portType="ns18:BusinessEventsConnectorPayload" operation="pushPayload" inputVariable="InvokeConnectorURLForTLOrderUpdateEvent_pushPayload_InputVariable" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_2566" bpelx:invokeAsDetail="no">
                                                                                                                        <bpelx:inputProperty name="endpointURI" variable="webServiceAddress" xml:id="id_2568"/>
                                                                                                                    </invoke>
                                                                                                                </otherwise>
                                                                                                            </switch>
                                                                                                        </scope>
                                                                                                        <bpelx:dehydrate name="DehydrateConnectorURLForOrderUpdateEvent" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1762"/>
                                                                                                        <assign name="ResetCsfAndKeyVar" xml:id="id_2646">
                                                                                                            <copy xml:id="id_2647">
                                                                                                                <from expression="''" xml:id="id_2648"/>
                                                                                                                <to variable="CsfKey" xml:id="id_2649"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_2650">
                                                                                                                <from expression="''" xml:id="id_2651"/>
                                                                                                                <to variable="KeyStoreRecipientAlias" xml:id="id_2652"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                    </sequence>
                                                                                                </otherwise>
                                                                                            </switch>
                                                                                        </sequence>
                                                                                    </scope>
                                                                                    <assign name="DecrementConnectorCount" xml:id="id_1763">
                                                                                        <copy xml:id="id_1764">
                                                                                            <from expression="bpws:getVariableData('ConnectorURLsCounter')-1" xml:id="id_1765"/>
                                                                                            <to variable="ConnectorURLsCounter" xml:id="id_1766"/>
                                                                                        </copy>
                                                                                    </assign>
                                                                                </sequence>
                                                                            </while>
                                                                            <assign name="DecrementHeaderCount" xml:id="id_1767">
                                                                                <copy xml:id="id_1768">
                                                                                    <from expression="bpws:getVariableData('HeaderCounter')-1" xml:id="id_1769"/>
                                                                                    <to variable="HeaderCounter" xml:id="id_1770"/>
                                                                                </copy>
                                                                            </assign>
                                                                        </sequence>
                                                                    </while>
                                                                </sequence>
                                                            </scope>
                                                        </case>
                                                        <otherwise xml:id="id_2035">
                                                            <terminate name="TerminateTLUpdate" xml:id="id_2040"/>
                                                        </otherwise>
                                                    </switch>
                                                </sequence>
                                            </scope>
                                        </sequence>
                                    </case>
                                    <case xml:id="id_274" condition="bpws:getVariableData('inputVariable0','/ns2:BusinessEventInfoType/ns2:EventPointCode')='SPLIT'">
                                        <bpelx:annotation xml:id="id_275">
                                            <bpelx:general xml:id="id_276">
                                                <bpelx:property name="userLabel" xml:id="id_277">
                                                    <![CDATA[Split]]>
                                                </bpelx:property>
                                            </bpelx:general>
                                        </bpelx:annotation>
                                        <sequence name="SplitSequence" xml:id="id_278">
                                            <scope name="SplitScope" xml:id="id_279" variableAccessSerializable="no">
                                                <variables xml:id="id_282">
                                                    <variable name="preparePayLoadForSplitBusinessEvent_InputVariable" messageType="ns3:ProcessEventService_preparePayLoadForSplitBusinessEvent" xml:id="id_283"/>
                                                    <variable name="preparePayLoadForSplitBusinessEvent_OutputVariable" messageType="ns3:ProcessEventService_preparePayLoadForSplitBusinessEventResponse" xml:id="id_284"/>
                                                    <variable name="splitEvent_InputVariable" messageType="ns4:splitrequestMessage" xml:id="id_293"/>
                                                    <variable name="CopyOf_preparePayLoadForSplitBusinessEvent_OutputVariable" messageType="ns3:ProcessEventService_preparePayLoadForSplitBusinessEventResponse" xml:id="id_2157"/>
                                                </variables>
                                                <sequence name="SplitSubSequence" xml:id="id_280">
                                                    <assign name="XformForSplitEventServiceInput" xml:id="id_285">
                                                        <bpelx:annotation xml:id="id_286">
                                                            <bpelx:pattern xml:id="id_287">transformation</bpelx:pattern>
                                                        </bpelx:annotation>
                                                        <copy xml:id="id_288">
                                                            <from xml:id="id_289" expression="ora:doXSLTransformForDoc('xsl/XformForSplitEventServiceInput.xsl', $inputVariable0)"/>
                                                            <to xml:id="id_290" variable="preparePayLoadForSplitBusinessEvent_InputVariable" part="parameters"/>
                                                        </copy>
                                                    </assign>
                                                    <invoke name="InvokeSplitEventService" xml:id="id_281" bpelx:invokeAsDetail="no" inputVariable="preparePayLoadForSplitBusinessEvent_InputVariable" outputVariable="preparePayLoadForSplitBusinessEvent_OutputVariable" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="preparePayLoadForSplitBusinessEvent"/>
                                                    <bpelx:dehydrate name="SplitFlowDehydrate" xml:id="id_291"/>
                                                    <switch name="Switch13" xml:id="id_2072">
                                                        <case xml:id="id_2073" condition="count(bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result'))>0">
                                                            <bpelx:annotation xml:id="id_2075">
                                                                <bpelx:pattern xml:id="id_2078">hasValidPaylaod</bpelx:pattern>
                                                                <bpelx:general xml:id="id_2076">
                                                                    <bpelx:property name="userLabel" xml:id="id_2077">
                                                                        <![CDATA[hasValidPaylaod]]>
                                                                    </bpelx:property>
                                                                </bpelx:general>
                                                            </bpelx:annotation>
                                                            <scope name="SplitEventPayloadPublishingScope" xml:id="id_1901" variableAccessSerializable="no">
                                                                <variables xml:id="id_1952">
                                                                    <variable name="HeaderCounter" type="xsd:integer" xml:id="id_1953"/>
                                                                    <variable name="ConnectorURLsCounter" type="xsd:integer" xml:id="id_1954"/>
                                                                    <variable name="webServiceAddress" type="xsd:string" xml:id="id_1955"/>
                                                                    <variable name="CsfKey" type="xsd:string" xml:id="id_2278"/>
                                                                    <variable name="KeyStoreRecipientAlias" type="xsd:string" xml:id="id_2279"/>
                                                                </variables>
                                                                <sequence name="Sequence8" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_1902">
                                                                    <assign name="AssignHeaderCounter" xml:id="id_1903">
                                                                        <copy xml:id="id_1904">
                                                                            <from expression="count(bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result'))" xml:id="id_1905"/>
                                                                            <to variable="HeaderCounter" xml:id="id_1906"/>
                                                                        </copy>
                                                                    </assign>
                                                                    <while name="HeaderIterator" condition="bpws:getVariableData('HeaderCounter')>0" xml:id="id_1907">
                                                                        <sequence name="HeaderIteratorSequence" xml:id="id_1908">
                                                                            <assign name="ConnectorURLsIterator" xml:id="id_1909">
                                                                                <copy xml:id="id_1910">
                                                                                    <from expression="count(bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR'))" xml:id="id_1911"/>
                                                                                    <to variable="ConnectorURLsCounter" xml:id="id_1912"/>
                                                                                </copy>
                                                                            </assign>
                                                                            <while name="ConnectorIterator" condition="bpws:getVariableData('ConnectorURLsCounter')>0" xml:id="id_1913">
                                                                                <sequence name="ConnectorIteratorSequence" xml:id="id_1914">
                                                                                    <scope name="PayloadPushingScope" variableAccessSerializable="no" xml:id="id_1915">
                                                                                        <variables xml:id="id_2169">
                                                                                            <variable name="InvokeConnectorURLForSplitEvent_InputVariable" messageType="ns16:SplitEventRequestMessage" xml:id="id_2170"/>
                                                                                            <variable name="InvokeConnectorURLForSplitEvent_pushPayload_InputVariable" messageType="ns18:BusinessEventsConnectorPayloadRequestMessage" xml:id="id_2210"/>
                                                                                        </variables>
                                                                                        <sequence name="Sequence14" xml:id="id_2637">
                                                                                            <switch name="Switch7" xml:id="id_1916">
                                                                                                <case condition="(xp20:compare(string(bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceName')),'DOO_BUSINESS_EVENT_NOTIFICATION')=0)" xml:id="id_1917">
                                                                                                    <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1918">
                                                                                                        <bpelx:general xml:id="id_1919">
                                                                                                            <bpelx:property name="userLabel" xml:id="id_1920">
                                                                                                                <![CDATA[BackwardCompatibility]]>
                                                                                                            </bpelx:property>
                                                                                                        </bpelx:general>
                                                                                                    </bpelx:annotation>
                                                                                                    <sequence xml:id="id_1921">
                                                                                                        <assign name="XformSplitEvent2MediatorInput" xml:id="id_294">
                                                                                                            <bpelx:annotation xml:id="id_295">
                                                                                                                <bpelx:pattern xml:id="id_296">transformation</bpelx:pattern>
                                                                                                            </bpelx:annotation>
                                                                                                            <copy xml:id="id_297">
                                                                                                                <from xml:id="id_298" expression="ora:doXSLTransformForDoc('xsl/XformSplitEvent2MediatorInput.xsl', $preparePayLoadForSplitBusinessEvent_OutputVariable.parameters)"/>
                                                                                                                <to xml:id="id_299" variable="splitEvent_InputVariable" part="request"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <invoke name="InvokeMediatorForSplitEvent" xml:id="id_292" bpelx:invokeAsDetail="no" inputVariable="splitEvent_InputVariable" partnerLink="BusinessEventNotificationMediator.BusinessEventNotificationMediator" portType="ns4:execute_ptt" operation="splitEvent"/>
                                                                                                        <bpelx:dehydrate name="DehydrateInvokeMediatorForSplitEvent" xml:id="id_2018"/>
                                                                                                    </sequence>
                                                                                                </case>
                                                                                                <otherwise xml:id="id_1929">
                                                                                                    <sequence name="SplitEventConnectorURIsSequence" xml:id="id_1930">
                                                                                                        <switch name="Switch20" xml:id="id_2361">
                                                                                                            <case xml:id="id_2362"
                                                                                                                  condition="string-length(bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey'))>0 or string-length(bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias'))>0">
                                                                                                                <bpelx:annotation xml:id="id_2411">
                                                                                                                    <bpelx:general xml:id="id_2412">
                                                                                                                        <bpelx:property name="userLabel" xml:id="id_2413">
                                                                                                                            <![CDATA[CheckCSFKeyAndKeyAlias]]>
                                                                                                                        </bpelx:property>
                                                                                                                    </bpelx:general>
                                                                                                                </bpelx:annotation>
                                                                                                                <assign name="AssignCsfKeyandKeystoreAlias" xml:id="id_2364">
                                                                                                                    <copy xml:id="id_2420">
                                                                                                                        <from expression="bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey')" xml:id="id_2421"/>
                                                                                                                        <to variable="CsfKey" xml:id="id_2422"/>
                                                                                                                    </copy>
                                                                                                                    <copy xml:id="id_2423">
                                                                                                                        <from expression="bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias')" xml:id="id_2424"/>
                                                                                                                        <to variable="KeyStoreRecipientAlias" xml:id="id_2425"/>
                                                                                                                    </copy>
                                                                                                                </assign>
                                                                                                            </case>
                                                                                                        </switch>
                                                                                                        <assign name="AssignURI" xml:id="id_1931">
                                                                                                            <copy xml:id="id_1932">
                                                                                                                <from expression="bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceURI')" xml:id="id_1933"/>
                                                                                                                <to variable="webServiceAddress" xml:id="id_1934"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_2161">
                                                                                                                <from variable="preparePayLoadForSplitBusinessEvent_OutputVariable" part="parameters" xml:id="id_2162" query="/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result[$HeaderCounter]"/>
                                                                                                                <to variable="CopyOf_preparePayLoadForSplitBusinessEvent_OutputVariable" part="parameters" xml:id="id_2163" query="/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_3568">
                                                                                                                <from expression="false()" xml:id="id_3569"/>
                                                                                                                <to variable="eventNotifyFlag" xml:id="id_3570"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <assign name="TransformToConnectorInput" xml:id="id_2164">
                                                                                                            <bpelx:annotation xml:id="id_2165">
                                                                                                                <bpelx:pattern xml:id="id_2166">transformation</bpelx:pattern>
                                                                                                            </bpelx:annotation>
                                                                                                            <copy xml:id="id_2171">
                                                                                                                <from xml:id="id_2172" expression="ora:doXSLTransformForDoc('xsl/SplitEventToConnectorURL.xsl', $CopyOf_preparePayLoadForSplitBusinessEvent_OutputVariable.parameters)"/>
                                                                                                                <to xml:id="id_2173" variable="InvokeConnectorURLForSplitEvent_pushPayload_InputVariable" part="payload"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <scope name="Scope3" xml:id="id_2877">
                                                                                                            <faultHandlers xml:id="id_2878">
                                                                                                                <catchAll xml:id="id_2879">
                                                                                                                    <sequence name="Sequence36" xml:id="id_3626">
                                                                                                                        <sequence name="Sequence21" xml:id="id_2881">
                                                                                                                            <assign name="AssignLogevent" xml:id="id_2880">
                                                                                                                                <copy xml:id="id_2974">
                                                                                                                                    <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForSplitEvent_pushPayload_InputVariable','payload','/ns2:results'))" xml:id="id_2975"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_2976" query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_2977">
                                                                                                                                    <from expression="bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:WebServiceId')" xml:id="id_2978"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_2979" query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_2992">
                                                                                                                                    <from variable="inputVariable0" xml:id="id_2993" query="/ns2:BusinessEventInfoType/ns2:OriginalNotifyDate"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_2994" query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_3293">
                                                                                                                                    <from variable="InvokeConnectorURLForSplitEvent_pushPayload_InputVariable" part="payload" query="/ns2:results/ns2:OrderHeader/ns2:EventCode" xml:id="id_3294"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode" xml:id="id_3295"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_3296">
                                                                                                                                    <from expression="string(bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result/ns3:OrchestrationOrderId'))" xml:id="id_3297"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3298" query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_3299">
                                                                                                                                    <from expression="string(bpws:getVariableData('preparePayLoadForSplitBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForSplitBusinessEventResponse/ns6:result/ns3:OrchestrationOrderLineId'))" xml:id="id_3300"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3301" query="/ns6:logEventNotificationError/ns6:input/ns3:EventLineId"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_3489">
                                                                                                                                    <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForSplitEvent_pushPayload_InputVariable','payload','/ns2:results'))" xml:id="id_3490"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" query="/ns6:logEventNotificationError/ns6:input/ns3:EventlogPayload" xml:id="id_3491"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_3537">
                                                                                                                                    <from expression="true()" xml:id="id_3538"/>
                                                                                                                                    <to variable="eventNotifyFlag" xml:id="id_3539"/>
                                                                                                                                </copy>
                                                                                                                            </assign>
                                                                                                                            <invoke name="InvokeEventNotify" inputVariable="InvokeLogEventNotify_logEventNotificationError_InputVariable" outputVariable="InvokeLogEventNotify_logEventNotificationError_OutputVariable" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="logEventNotificationError" bpelx:invokeAsDetail="no" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_3627"/>
                                                                                                                        </sequence>
                                                                                                                    </sequence>
                                                                                                                </catchAll>
                                                                                                            </faultHandlers>
                                                                                                            <switch name="Switch32" xml:id="id_2554">
                                                                                                                <case xml:id="id_81982"
                                                                                                                      condition="string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0 and string-length(bpws:getVariableData('CsfKey')) &lt;=0">
                                                                                                                    <bpelx:annotation xml:id="id_81986">
                                                                                                                        <bpelx:general xml:id="id_81987">
                                                                                                                            <bpelx:property name="userLabel"
                                                                                                                                            xml:id="id_81988">
                                                                                                                                <![CDATA[KeyStoreAlias]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation><invoke name="InvokeConnectorURLForSplitEvent"
                                                                                                                                               inputVariable="InvokeConnectorURLForSplitEvent_pushPayload_InputVariable"
                                                                                                                                               partnerLink="BusinessEventsConnectorService"
                                                                                                                                               portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                               operation="pushPayload"
                                                                                                                                               bpelx:invokeAsDetail="no"
                                                                                                                                               xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                               xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                               xml:id="id_81993">
      <bpelx:inputProperty name="keystore.recipient.alias"
                           variable="KeyStoreRecipientAlias" xml:id="id_81994"/>
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81995"/>
     
   </invoke></case>
                                                                                                                <case xml:id="id_81981"
                                                                                                                      condition="string-length(bpws:getVariableData('CsfKey')) !=0  and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) &lt;=0">
                                                                                                                    <bpelx:annotation xml:id="id_81983">
                                                                                                                        <bpelx:general xml:id="id_81984">
                                                                                                                            <bpelx:property name="userLabel"
                                                                                                                                            xml:id="id_81985">
                                                                                                                                <![CDATA[CsfKey]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation><invoke name="InvokeConnectorURLForSplitEvent"
                                                                                                                                               inputVariable="InvokeConnectorURLForSplitEvent_pushPayload_InputVariable"
                                                                                                                                               partnerLink="BusinessEventsConnectorService"
                                                                                                                                               portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                               operation="pushPayload"
                                                                                                                                               bpelx:invokeAsDetail="no"
                                                                                                                                               xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                               xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                               xml:id="id_81989">
    
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81991"/>
      <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_81992"/>
   </invoke></case>
                                                                                                                <case xml:id="id_2555" condition="string-length(bpws:getVariableData('CsfKey')) !=0 and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0">
                                                                                                                    <bpelx:annotation xml:id="id_2560">
                                                                                                                        <bpelx:general xml:id="id_2561">
                                                                                                                            <bpelx:property name="userLabel" xml:id="id_2562">
                                                                                                                                <![CDATA[CsfKeyAndKeyStoreAlias]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation>
                                                                                                                    <invoke name="InvokeConnectorURLForSplitEvent" xml:id="id_2167" inputVariable="InvokeConnectorURLForSplitEvent_pushPayload_InputVariable" partnerLink="BusinessEventsConnectorService" portType="ns18:BusinessEventsConnectorPayload" operation="pushPayload" bpelx:invokeAsDetail="no">
                                                                                                                        <bpelx:inputProperty name="keystore.recipient.alias" variable="KeyStoreRecipientAlias" xml:id="id_2286"/>
                                                                                                                        <bpelx:inputProperty name="endpointURI" variable="webServiceAddress" xml:id="id_2197"/>
                                                                                                                        <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_2743"/>
                                                                                                                    </invoke>
                                                                                                                </case>
                                                                                                                <otherwise xml:id="id_2556">
                                                                                                                    <invoke name="InvokeConnectorURLForSplitEvent" inputVariable="InvokeConnectorURLForSplitEvent_pushPayload_InputVariable" partnerLink="BusinessEventsConnectorService" portType="ns18:BusinessEventsConnectorPayload" operation="pushPayload" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_2557" bpelx:invokeAsDetail="no">
                                                                                                                        <bpelx:inputProperty name="endpointURI" variable="webServiceAddress" xml:id="id_2559"/>
                                                                                                                    </invoke>
                                                                                                                </otherwise>
                                                                                                            </switch>
                                                                                                        </scope>
                                                                                                        <bpelx:dehydrate name="DehydrateConnectorURLForSplitEvent" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1943"/>
                                                                                                        <assign name="ResetCsfAndKeyVar" xml:id="id_2638">
                                                                                                            <copy xml:id="id_2639">
                                                                                                                <from expression="''" xml:id="id_2640"/>
                                                                                                                <to variable="CsfKey" xml:id="id_2641"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_2642">
                                                                                                                <from expression="''" xml:id="id_2643"/>
                                                                                                                <to variable="KeyStoreRecipientAlias" xml:id="id_2644"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                    </sequence>
                                                                                                </otherwise>
                                                                                            </switch>
                                                                                        </sequence>
                                                                                    </scope>
                                                                                    <assign name="DecrementConnectorCount" xml:id="id_1944">
                                                                                        <copy xml:id="id_1945">
                                                                                            <from expression="bpws:getVariableData('ConnectorURLsCounter')-1" xml:id="id_1946"/>
                                                                                            <to variable="ConnectorURLsCounter" xml:id="id_1947"/>
                                                                                        </copy>
                                                                                    </assign>
                                                                                </sequence>
                                                                            </while>
                                                                            <assign name="DecrementHeaderCount" xml:id="id_1948">
                                                                                <copy xml:id="id_1949">
                                                                                    <from expression="bpws:getVariableData('HeaderCounter')-1" xml:id="id_1950"/>
                                                                                    <to variable="HeaderCounter" xml:id="id_1951"/>
                                                                                </copy>
                                                                            </assign>
                                                                        </sequence>
                                                                    </while>
                                                                </sequence>
                                                            </scope>
                                                        </case>
                                                        <otherwise xml:id="id_2074">
                                                            <terminate name="TerminateSplitEvent" xml:id="id_2079"/>
                                                        </otherwise>
                                                    </switch>
                                                </sequence>
                                            </scope>
                                        </sequence>
                                    </case>
                                    <case xml:id="id_237" condition="bpws:getVariableData('inputVariable0','/ns2:BusinessEventInfoType/ns2:EventPointCode')='ORDER_STATUS_UPDATE'">
                                        <bpelx:annotation xml:id="id_238">
                                            <bpelx:general xml:id="id_239">
                                                <bpelx:property name="userLabel" xml:id="id_240">
                                                    <![CDATA[OrderStatusUpdate]]>
                                                </bpelx:property>
                                            </bpelx:general>
                                        </bpelx:annotation>
                                        <sequence name="OrderStatusUpdateSequence" xml:id="id_241">
                                            <scope name="OrderStatusUpdateScope" xml:id="id_242" variableAccessSerializable="no">
                                                <variables xml:id="id_245">
                                                    <variable name="preparePayLoadForOrderStatusBusinessEvent_InputVariable" messageType="ns3:ProcessEventService_preparePayLoadForOrderStatusBusinessEvent" xml:id="id_265"/>
                                                    <variable name="preparePayLoadForOrderStatusBusinessEvent_OutputVariable" messageType="ns3:ProcessEventService_preparePayLoadForOrderStatusBusinessEventResponse" xml:id="id_266"/>
                                                    <variable name="orderStatusUpdateEvent_InputVariable" messageType="ns4:orderStatusUpdaterequestMessage" xml:id="id_267"/>
                                                    <variable name="CopyOf_preparePayLoadForOrderStatusBusinessEvent_OutputVariable" messageType="ns3:ProcessEventService_preparePayLoadForOrderStatusBusinessEventResponse" xml:id="id_2049"/>
                                                </variables>
                                                <sequence name="OrderStatusUpdateSubSequence" xml:id="id_243">
                                                    <assign name="XformForOrderStatusUpdateEventServiceInput" xml:id="id_249">
                                                        <bpelx:annotation xml:id="id_250">
                                                            <bpelx:pattern xml:id="id_251">transformation</bpelx:pattern>
                                                        </bpelx:annotation>
                                                        <copy xml:id="id_252">
                                                            <from xml:id="id_253" expression="ora:doXSLTransformForDoc('xsl/XformForOrderStatusUpdateEventService.xsl', $inputVariable0)"/>
                                                            <to xml:id="id_254" part="parameters" variable="preparePayLoadForOrderStatusBusinessEvent_InputVariable"/>
                                                        </copy>
                                                    </assign>
                                                    <invoke name="InvokeOrderStatusUpdateEventService" xml:id="id_244" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="preparePayLoadForOrderStatusBusinessEvent" bpelx:invokeAsDetail="no" inputVariable="preparePayLoadForOrderStatusBusinessEvent_InputVariable" outputVariable="preparePayLoadForOrderStatusBusinessEvent_OutputVariable"/>
                                                    <bpelx:dehydrate name="OrderStatusUpdateFlowDehydrate" xml:id="id_255"/>
                                                    <switch name="Switch14" xml:id="id_2080">
                                                        <case xml:id="id_2081" condition="count(bpws:getVariableData('preparePayLoadForOrderStatusBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result'))>0">
                                                            <bpelx:annotation xml:id="id_2083">
                                                                <bpelx:pattern xml:id="id_2086">hasValidPayload</bpelx:pattern>
                                                                <bpelx:general xml:id="id_2084">
                                                                    <bpelx:property name="userLabel" xml:id="id_2085">
                                                                        <![CDATA[hasValidPayload]]>
                                                                    </bpelx:property>
                                                                </bpelx:general>
                                                            </bpelx:annotation>
                                                            <scope name="OrderStatusUpdateEventPayloadPublishingScope" xml:id="id_1842" variableAccessSerializable="no">
                                                                <variables xml:id="id_1897">
                                                                    <variable name="HeaderCounter" type="xsd:integer" xml:id="id_1898"/>
                                                                    <variable name="ConnectorURLsCounter" type="xsd:integer" xml:id="id_1899"/>
                                                                    <variable name="webServiceAddress" type="xsd:string" xml:id="id_1900"/>
                                                                    <variable name="CsfKey" type="xsd:string" xml:id="id_2270"/>
                                                                    <variable name="KeyStoreRecipientAlias" type="xsd:string" xml:id="id_2271"/>
                                                                </variables>
                                                                <sequence name="Sequence8" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_1843">
                                                                    <assign name="AssignHeaderCounter" xml:id="id_1844">
                                                                        <copy xml:id="id_1845">
                                                                            <from expression="count(bpws:getVariableData('preparePayLoadForOrderStatusBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result'))" xml:id="id_1846"/>
                                                                            <to variable="HeaderCounter" xml:id="id_1847"/>
                                                                        </copy>
                                                                    </assign>
                                                                    <while name="HeaderIterator" condition="bpws:getVariableData('HeaderCounter')>0" xml:id="id_1848">
                                                                        <sequence name="HeaderIteratorSequence" xml:id="id_1849">
                                                                            <assign name="ConnectorURLsIterator" xml:id="id_1850">
                                                                                <copy xml:id="id_1851">
                                                                                    <from expression="count(bpws:getVariableData('preparePayLoadForOrderStatusBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR'))" xml:id="id_1852"/>
                                                                                    <to variable="ConnectorURLsCounter" xml:id="id_1853"/>
                                                                                </copy>
                                                                            </assign>
                                                                            <while name="ConnectorIterator" condition="bpws:getVariableData('ConnectorURLsCounter')>0" xml:id="id_1854">
                                                                                <sequence name="ConnectorIteratorSequence" xml:id="id_1855">
                                                                                    <scope name="PayloadPushingScope" variableAccessSerializable="no" xml:id="id_1856">
                                                                                        <variables xml:id="id_2211">
                                                                                            <variable name="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable" messageType="ns18:BusinessEventsConnectorPayloadRequestMessage" xml:id="id_2212"/>
                                                                                        </variables>
                                                                                        <sequence xml:id="id_2630">
                                                                                            <switch name="Switch7" xml:id="id_1857">
                                                                                                <case condition="(xp20:compare(string(bpws:getVariableData('preparePayLoadForOrderStatusBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceName')),'DOO_BUSINESS_EVENT_NOTIFICATION')=0)" xml:id="id_1858">
                                                                                                    <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1859">
                                                                                                        <bpelx:general xml:id="id_1861">
                                                                                                            <bpelx:property name="userLabel" xml:id="id_1862">
                                                                                                                <![CDATA[BackwardCompatibility]]>
                                                                                                            </bpelx:property>
                                                                                                        </bpelx:general>
                                                                                                    </bpelx:annotation>
                                                                                                    <sequence xml:id="id_1863">
                                                                                                        <assign name="XformOrderStatusUpdate2MediatorInput" xml:id="id_258">
                                                                                                            <bpelx:annotation xml:id="id_259">
                                                                                                                <bpelx:pattern xml:id="id_260">transformation</bpelx:pattern>
                                                                                                            </bpelx:annotation>
                                                                                                            <copy xml:id="id_261">
                                                                                                                <from xml:id="id_262" expression="ora:doXSLTransformForDoc('xsl/XformOrderStatusUpdate2Mediator.xsl', $preparePayLoadForOrderStatusBusinessEvent_OutputVariable.parameters)"/>
                                                                                                                <to xml:id="id_263" part="request" variable="orderStatusUpdateEvent_InputVariable"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <invoke name="InvokeMediatorForOrderStatusUpdateEvent" xml:id="id_256" partnerLink="BusinessEventNotificationMediator.BusinessEventNotificationMediator" portType="ns4:execute_ptt" operation="orderStatusUpdateEvent" inputVariable="orderStatusUpdateEvent_InputVariable" bpelx:invokeAsDetail="no"/>
                                                                                                        <bpelx:dehydrate name="DehydrateInvokeMediatorForOrderStatusUpdateEvent" xml:id="id_2016"/>
                                                                                                    </sequence>
                                                                                                </case>
                                                                                                <otherwise xml:id="id_1871">
                                                                                                    <sequence name="OrderUpdateEventConnectorURIsSequence" xml:id="id_1872">
                                                                                                        <switch name="Switch19" xml:id="id_2351">
                                                                                                            <case xml:id="id_2352"
                                                                                                                  condition="string-length(bpws:getVariableData('preparePayLoadForOrderStatusBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey'))>0 or string-length(bpws:getVariableData('preparePayLoadForOrderStatusBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias'))>0">
                                                                                                                <bpelx:annotation xml:id="id_2408">
                                                                                                                    <bpelx:general xml:id="id_2409">
                                                                                                                        <bpelx:property name="userLabel" xml:id="id_2410">
                                                                                                                            <![CDATA[CheckCSFKeyAndKeyAlias]]>
                                                                                                                        </bpelx:property>
                                                                                                                    </bpelx:general>
                                                                                                                </bpelx:annotation>
                                                                                                                <assign name="AssignCsfKeyandKeyStoreAlias" xml:id="id_2354">
                                                                                                                    <copy xml:id="id_2426">
                                                                                                                        <from expression="bpws:getVariableData('preparePayLoadForOrderStatusBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey')" xml:id="id_2427"/>
                                                                                                                        <to variable="CsfKey" xml:id="id_2428"/>
                                                                                                                    </copy>
                                                                                                                    <copy xml:id="id_2429">
                                                                                                                        <from expression="bpws:getVariableData('preparePayLoadForOrderStatusBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias')" xml:id="id_2430"/>
                                                                                                                        <to variable="KeyStoreRecipientAlias" xml:id="id_2431"/>
                                                                                                                    </copy>
                                                                                                                </assign>
                                                                                                            </case>
                                                                                                        </switch>
                                                                                                        <assign name="AssignURI" xml:id="id_1873">
                                                                                                            <copy xml:id="id_1874">
                                                                                                                <from expression="bpws:getVariableData('preparePayLoadForOrderStatusBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceURI')" xml:id="id_1875"/>
                                                                                                                <to variable="webServiceAddress" xml:id="id_1876"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_2053">
                                                                                                                <from variable="preparePayLoadForOrderStatusBusinessEvent_OutputVariable" part="parameters" xml:id="id_2054" query="/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result[$HeaderCounter]"/>
                                                                                                                <to variable="CopyOf_preparePayLoadForOrderStatusBusinessEvent_OutputVariable" part="parameters" xml:id="id_2055" query="/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_3565">
                                                                                                                <from expression="false()" xml:id="id_3566"/>
                                                                                                                <to variable="eventNotifyFlag" xml:id="id_3567"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <assign name="EventInputToConnectorInputTransform" xml:id="id_1880">
                                                                                                            <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1881">
                                                                                                                <bpelx:pattern xml:id="id_1882">transformation</bpelx:pattern>
                                                                                                            </bpelx:annotation>
                                                                                                            <copy xml:id="id_1883">
                                                                                                                <from expression="ora:doXSLTransformForDoc('xsl/OrderStatusUpdateToConnector.xsl', $CopyOf_preparePayLoadForOrderStatusBusinessEvent_OutputVariable.parameters)" xml:id="id_1884"/>
                                                                                                                <to variable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable" part="payload" xml:id="id_1885"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <scope name="Scope2" xml:id="id_2851">
                                                                                                            <faultHandlers xml:id="id_2852">
                                                                                                                <catchAll xml:id="id_2853">
                                                                                                                    <sequence name="Sequence20" xml:id="id_2855">
                                                                                                                        <assign name="AssignLogEvents" xml:id="id_2854">
                                                                                                                            <copy xml:id="id_3055">
                                                                                                                                <from variable="inputVariable0" xml:id="id_3056" query="/ns2:BusinessEventInfoType/ns2:OriginalNotifyDate"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3057" query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3058">
                                                                                                                                <from expression="bpws:getVariableData('preparePayLoadForOrderStatusBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:WebServiceId')" xml:id="id_3059"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3060" query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3061">
                                                                                                                                <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable','payload'))" xml:id="id_3062"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3063" query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3287">
                                                                                                                                <from variable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable" part="payload" query="/ns2:results/ns2:OrderHeader/ns2:EventCode" xml:id="id_3288"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode" xml:id="id_3289"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3290">
                                                                                                                                <from expression="string(bpws:getVariableData('preparePayLoadForOrderStatusBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForOrderStatusBusinessEventResponse/ns6:result/ns3:OrchestrationOrderId'))" xml:id="id_3291"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3292" query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3486">
                                                                                                                                <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable','payload','/ns2:results'))" xml:id="id_3487"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3488" query="/ns6:logEventNotificationError/ns6:input/ns3:EventlogPayload"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3540">
                                                                                                                                <from expression="true()" xml:id="id_3541"/>
                                                                                                                                <to variable="eventNotifyFlag" xml:id="id_3542"/>
                                                                                                                            </copy>
                                                                                                                        </assign>
                                                                                                                        <invoke name="InvokeEventNotify" inputVariable="InvokeLogEventNotify_logEventNotificationError_InputVariable" outputVariable="InvokeLogEventNotify_logEventNotificationError_OutputVariable" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="logEventNotificationError" bpelx:invokeAsDetail="no" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_3629"/>
                                                                                                                    </sequence>
                                                                                                                </catchAll>
                                                                                                            </faultHandlers>
                                                                                                            <switch name="Switch31" xml:id="id_2545">
                                                                                                                <case xml:id="id_81966"
                                                                                                                      condition="string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0 and string-length(bpws:getVariableData('CsfKey')) &lt;=0">
                                                                                                                    <bpelx:annotation xml:id="id_81970">
                                                                                                                        <bpelx:general xml:id="id_81971">
                                                                                                                            <bpelx:property name="userLabel"
                                                                                                                                            xml:id="id_81972">
                                                                                                                                <![CDATA[KeyStoreAlias]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation><invoke name="InvokeConnectorURLForOrderUpdateEvent"
                                                                                                                                               partnerLink="BusinessEventsConnectorService"
                                                                                                                                               portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                               operation="pushPayload"
                                                                                                                                               inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                               xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                               bpelx:invokeAsDetail="no"
                                                                                                                                               xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                               xml:id="id_81977">
      <bpelx:inputProperty name="keystore.recipient.alias"
                           variable="KeyStoreRecipientAlias" xml:id="id_81978"/>
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81979"/>
   </invoke></case>
                                                                                                                <case xml:id="id_81965"
                                                                                                                      condition="string-length(bpws:getVariableData('CsfKey')) !=0  and  string-length(bpws:getVariableData('KeyStoreRecipientAlias')) &lt;=0">
                                                                                                                    <bpelx:annotation xml:id="id_81967">
                                                                                                                        <bpelx:general xml:id="id_81968">
                                                                                                                            <bpelx:property name="userLabel"
                                                                                                                                            xml:id="id_81969">
                                                                                                                                <![CDATA[CsfKey]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation><invoke name="InvokeConnectorURLForOrderUpdateEvent"
                                                                                                                                               partnerLink="BusinessEventsConnectorService"
                                                                                                                                               portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                               operation="pushPayload"
                                                                                                                                               inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                               xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                               bpelx:invokeAsDetail="no"
                                                                                                                                               xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                               xml:id="id_81973">
      
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81975"/>
      <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_81976"/>
   </invoke></case>
                                                                                                                <case xml:id="id_2546" condition="string-length(bpws:getVariableData('CsfKey')) !=0 and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0">
                                                                                                                    <bpelx:annotation xml:id="id_2551">
                                                                                                                        <bpelx:general xml:id="id_2552">
                                                                                                                            <bpelx:property name="userLabel" xml:id="id_2553">
                                                                                                                                <![CDATA[CsfKeyAndKeyStoreAlias]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation>
                                                                                                                    <invoke name="InvokeConnectorURLForOrderUpdateEvent" partnerLink="BusinessEventsConnectorService" portType="ns18:BusinessEventsConnectorPayload" operation="pushPayload" inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1886" bpelx:invokeAsDetail="no">
                                                                                                                        <bpelx:inputProperty name="keystore.recipient.alias" variable="KeyStoreRecipientAlias" xml:id="id_2305"/>
                                                                                                                        <bpelx:inputProperty name="endpointURI" variable="webServiceAddress" xml:id="id_1887"/>
                                                                                                                        <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_2744"/>
                                                                                                                    </invoke>
                                                                                                                </case>
                                                                                                                <otherwise xml:id="id_2547">
                                                                                                                    <invoke name="InvokeConnectorURLForOrderUpdateEvent" partnerLink="BusinessEventsConnectorService" portType="ns18:BusinessEventsConnectorPayload" operation="pushPayload" inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_2548" bpelx:invokeAsDetail="no">
                                                                                                                        <bpelx:inputProperty name="endpointURI" variable="webServiceAddress" xml:id="id_2550"/>
                                                                                                                    </invoke>
                                                                                                                </otherwise>
                                                                                                            </switch>
                                                                                                        </scope>
                                                                                                        <bpelx:dehydrate name="DehydrateConnectorURLForOrderUpdateEvent" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1888"/>
                                                                                                        <assign name="ResetCsfAndKeyVar" xml:id="id_2629">
                                                                                                            <copy xml:id="id_2631">
                                                                                                                <from expression="''" xml:id="id_2632"/>
                                                                                                                <to variable="CsfKey" xml:id="id_2633"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_2634">
                                                                                                                <from expression="''" xml:id="id_2635"/>
                                                                                                                <to variable="KeyStoreRecipientAlias" xml:id="id_2636"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                    </sequence>
                                                                                                </otherwise>
                                                                                            </switch>
                                                                                        </sequence>
                                                                                    </scope>
                                                                                    <assign name="DecrementConnectorCount" xml:id="id_1889">
                                                                                        <copy xml:id="id_1890">
                                                                                            <from expression="bpws:getVariableData('ConnectorURLsCounter')-1" xml:id="id_1891"/>
                                                                                            <to variable="ConnectorURLsCounter" xml:id="id_1892"/>
                                                                                        </copy>
                                                                                    </assign>
                                                                                </sequence>
                                                                            </while>
                                                                            <assign name="DecrementHeaderCount" xml:id="id_1893">
                                                                                <copy xml:id="id_1894">
                                                                                    <from expression="bpws:getVariableData('HeaderCounter')-1" xml:id="id_1895"/>
                                                                                    <to variable="HeaderCounter" xml:id="id_1896"/>
                                                                                </copy>
                                                                            </assign>
                                                                        </sequence>
                                                                    </while>
                                                                </sequence>
                                                            </scope>
                                                        </case>
                                                        <otherwise xml:id="id_2082">
                                                            <terminate name="TerminateOrderStatusEvent" xml:id="id_2087"/>
                                                        </otherwise>
                                                    </switch>
                                                </sequence>
                                            </scope>
                                        </sequence>
                                    </case>
                                    <case xml:id="id_172" condition="(bpws:getVariableData('inputVariable0','/ns2:BusinessEventInfoType/ns2:EventPointCode')='JEOPARDY') or  (bpws:getVariableData('inputVariable0','/ns2:BusinessEventInfoType/ns2:EventPointCode')='JEOPARDY_ESS')">
                                        <bpelx:annotation xml:id="id_179">
                                            <bpelx:general xml:id="id_180">
                                                <bpelx:property name="userLabel" xml:id="id_181">
                                                    <![CDATA[Jeopardy]]>
                                                </bpelx:property>
                                            </bpelx:general>
                                        </bpelx:annotation>
                                        <sequence name="JeopardySequence" xml:id="id_183">
                                            <scope name="JeopardyScope" xml:id="id_184" variableAccessSerializable="no">
                                                <variables xml:id="id_206">
                                                    <variable name="preparePayLoadForJeopardyBusinessEvent_InputVariable" messageType="ns3:ProcessEventService_preparePayLoadForJeopardyBusinessEvent" xml:id="id_186"/>
                                                    <variable name="preparePayLoadForJeopardyBusinessEvent_OutputVariable" messageType="ns3:ProcessEventService_preparePayLoadForJeopardyBusinessEventResponse" xml:id="id_187"/>
                                                    <variable name="jeopardyEvent_InputVariable" messageType="ns4:jeopardyrequestMessage" xml:id="id_198"/>
                                                    <variable name="CopyOf_preparePayLoadForJeopardyBusinessEvent_OutputVariable" messageType="ns3:ProcessEventService_preparePayLoadForJeopardyBusinessEventResponse" xml:id="id_2175"/>
                                                </variables>
                                                <sequence name="JeopardySubSequence" xml:id="id_188">
                                                    <assign name="XformForJeopardyEventServiceInput" xml:id="id_191">
                                                        <bpelx:annotation xml:id="id_192">
                                                            <bpelx:pattern xml:id="id_193">transformation</bpelx:pattern>
                                                        </bpelx:annotation>
                                                        <copy xml:id="id_194">
                                                            <from xml:id="id_195" expression="ora:doXSLTransformForDoc('xsl/XformForJeopardyEventServiceInput.xsl', $inputVariable0)"/>
                                                            <to xml:id="id_196" variable="preparePayLoadForJeopardyBusinessEvent_InputVariable" part="parameters"/>
                                                        </copy>
                                                    </assign>
                                                    <invoke name="InvokeJeopardyEventService" xml:id="id_182" bpelx:invokeAsDetail="no" inputVariable="preparePayLoadForJeopardyBusinessEvent_InputVariable" outputVariable="preparePayLoadForJeopardyBusinessEvent_OutputVariable" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="preparePayLoadForJeopardyBusinessEvent"/>
                                                    <bpelx:dehydrate name="JeopardyFlowDehydrate" xml:id="id_190"/>
                                                    <switch name="Switch15" xml:id="id_2088">
                                                        <case xml:id="id_2089" condition="count(bpws:getVariableData('preparePayLoadForJeopardyBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result'))>0">
                                                            <bpelx:annotation xml:id="id_2091">
                                                                <bpelx:pattern xml:id="id_2094">hasValidPayload</bpelx:pattern>
                                                                <bpelx:general xml:id="id_2092">
                                                                    <bpelx:property name="userLabel" xml:id="id_2093">
                                                                        <![CDATA[hasValidPayload]]>
                                                                    </bpelx:property>
                                                                </bpelx:general>
                                                            </bpelx:annotation>
                                                            <scope name="JeopradyEventPayloadPublishingScope" xml:id="id_1956" variableAccessSerializable="no">
                                                                <variables xml:id="id_1999">
                                                                    <variable name="webServiceAddress" type="xsd:string" xml:id="id_2000"/>
                                                                    <variable name="HeaderCounter" type="xsd:integer" xml:id="id_2001"/>
                                                                    <variable name="ConnectorURLsCounter" type="xsd:integer" xml:id="id_2002"/>
                                                                    <variable name="CsfKey" type="xsd:string" xml:id="id_2261"/>
                                                                    <variable name="KeyStoreRecipientAlias" type="xsd:string" xml:id="id_2262"/>
                                                                </variables>
                                                                <sequence name="Sequence8" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_1957">
                                                                    <assign name="AssignHeaderCounter" xml:id="id_1958">
                                                                        <copy xml:id="id_1959">
                                                                            <from expression="count(bpws:getVariableData('preparePayLoadForJeopardyBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result'))" xml:id="id_1960"/>
                                                                            <to variable="HeaderCounter" xml:id="id_1961"/>
                                                                        </copy>
                                                                    </assign>
                                                                    <while name="HeaderIterator" condition="bpws:getVariableData('HeaderCounter')>0" xml:id="id_1962">
                                                                        <sequence name="HeaderIteratorSequence" xml:id="id_1963">
                                                                            <assign name="ConnectorURLsIterator" xml:id="id_1964">
                                                                                <copy xml:id="id_1965">
                                                                                    <from expression="count(bpws:getVariableData('preparePayLoadForJeopardyBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result[$HeaderCounter]//ns3:EventConnectorUriTR'))" xml:id="id_1966"/>
                                                                                    <to variable="ConnectorURLsCounter" xml:id="id_1967"/>
                                                                                </copy>
                                                                            </assign>
                                                                            <while name="ConnectorIterator" condition="bpws:getVariableData('ConnectorURLsCounter')>0" xml:id="id_1968">
                                                                                <sequence name="ConnectorIteratorSequence" xml:id="id_1969">
                                                                                    <scope name="PayloadPushingScope" variableAccessSerializable="no" xml:id="id_1970">
                                                                                        <variables xml:id="id_2180">
                                                                                            <variable name="InvokeConnectorURLForJeopradyEvent_InputVariable" messageType="ns17:JeopardyEventRequestMessage" xml:id="id_2181"/>
                                                                                            <variable name="InvokeConnectorURLForJeopradyEvent_pushPayload_InputVariable" messageType="ns18:BusinessEventsConnectorPayloadRequestMessage" xml:id="id_2213"/>
                                                                                        </variables>
                                                                                        <sequence name="Sequence12" xml:id="id_2620">
                                                                                            <switch name="Switch7" xml:id="id_1971">
                                                                                                <case condition="(xp20:compare(string(bpws:getVariableData('preparePayLoadForJeopardyBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceName')),'DOO_BUSINESS_EVENT_NOTIFICATION')=0)" xml:id="id_1972">
                                                                                                    <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1973">
                                                                                                        <bpelx:general xml:id="id_1974">
                                                                                                            <bpelx:property name="userLabel" xml:id="id_1975">
                                                                                                                <![CDATA[BackwardCompatibility]]>
                                                                                                            </bpelx:property>
                                                                                                        </bpelx:general>
                                                                                                    </bpelx:annotation>
                                                                                                    <sequence xml:id="id_1976">
                                                                                                        <assign name="XformJeopardyEvent2MediatorInput" xml:id="id_199">
                                                                                                            <bpelx:annotation xml:id="id_200">
                                                                                                                <bpelx:pattern xml:id="id_201">transformation</bpelx:pattern>
                                                                                                            </bpelx:annotation>
                                                                                                            <copy xml:id="id_202">
                                                                                                                <from xml:id="id_203" expression="ora:doXSLTransformForDoc('xsl/XformJeopardyEvent2MediatorInput.xsl', $preparePayLoadForJeopardyBusinessEvent_OutputVariable.parameters)"/>
                                                                                                                <to xml:id="id_204" variable="jeopardyEvent_InputVariable" part="request"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <invoke name="InvokeMediatorForJeopardyEvent" xml:id="id_197" bpelx:invokeAsDetail="no" inputVariable="jeopardyEvent_InputVariable" partnerLink="BusinessEventNotificationMediator.BusinessEventNotificationMediator" portType="ns4:execute_ptt" operation="jeopardyEvent"/>
                                                                                                        <bpelx:dehydrate name="DehydrateInvokeMediatorForJeopardyEvent" xml:id="id_2015"/>
                                                                                                    </sequence>
                                                                                                </case>
                                                                                                <otherwise xml:id="id_1984">
                                                                                                    <sequence name="JeopradyEventConnectorURIsSequence" xml:id="id_1985">
                                                                                                        <switch name="Switch18" xml:id="id_2341">
                                                                                                            <case xml:id="id_2342"
                                                                                                                  condition="string-length(bpws:getVariableData('preparePayLoadForJeopardyBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey'))>0 or string-length(bpws:getVariableData('preparePayLoadForJeopardyBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias'))>0">
                                                                                                                <bpelx:annotation xml:id="id_2405">
                                                                                                                    <bpelx:general xml:id="id_2406">
                                                                                                                        <bpelx:property name="userLabel" xml:id="id_2407">
                                                                                                                            <![CDATA[CheckCSFKeyAndKeyAlias]]>
                                                                                                                        </bpelx:property>
                                                                                                                    </bpelx:general>
                                                                                                                </bpelx:annotation>
                                                                                                                <assign name="AssignCsfKeyandKeyStoreAlias" xml:id="id_2344">
                                                                                                                    <copy xml:id="id_2432">
                                                                                                                        <from expression="bpws:getVariableData('preparePayLoadForJeopardyBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey')" xml:id="id_2433"/>
                                                                                                                        <to variable="CsfKey" xml:id="id_2434"/>
                                                                                                                    </copy>
                                                                                                                    <copy xml:id="id_2435">
                                                                                                                        <from expression="bpws:getVariableData('preparePayLoadForJeopardyBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias')" xml:id="id_2436"/>
                                                                                                                        <to variable="KeyStoreRecipientAlias" xml:id="id_2437"/>
                                                                                                                    </copy>
                                                                                                                </assign>
                                                                                                            </case>
                                                                                                        </switch>
                                                                                                        <assign name="AssignURI" xml:id="id_1986">
                                                                                                            <copy xml:id="id_1987">
                                                                                                                <from expression="bpws:getVariableData('preparePayLoadForJeopardyBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceURI')" xml:id="id_1988"/>
                                                                                                                <to variable="webServiceAddress" xml:id="id_1989"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_2176">
                                                                                                                <from variable="preparePayLoadForJeopardyBusinessEvent_OutputVariable" part="parameters" xml:id="id_2177" query="/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result[$HeaderCounter]"/>
                                                                                                                <to variable="CopyOf_preparePayLoadForJeopardyBusinessEvent_OutputVariable" part="parameters" xml:id="id_2178" query="/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_3562">
                                                                                                                <from expression="false()" xml:id="id_3563"/>
                                                                                                                <to variable="eventNotifyFlag" xml:id="id_3564"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <assign name="TransformInputToConnector" xml:id="id_2182">
                                                                                                            <bpelx:annotation xml:id="id_2183">
                                                                                                                <bpelx:pattern xml:id="id_2184">transformation</bpelx:pattern>
                                                                                                            </bpelx:annotation>
                                                                                                            <copy xml:id="id_2185">
                                                                                                                <from xml:id="id_2186" expression="ora:doXSLTransformForDoc('xsl/JeopradyEventToConnectorURL.xsl', $CopyOf_preparePayLoadForJeopardyBusinessEvent_OutputVariable.parameters)"/>
                                                                                                                <to xml:id="id_2187" variable="InvokeConnectorURLForJeopradyEvent_pushPayload_InputVariable" part="payload"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <scope name="Scope1" xml:id="id_2825">
                                                                                                            <faultHandlers xml:id="id_2826">
                                                                                                                <catchAll xml:id="id_2827">
                                                                                                                    <sequence name="Sequence19" xml:id="id_2829">
                                                                                                                        <assign name="AssignLogEvent" xml:id="id_3081">
                                                                                                                            <copy xml:id="id_3085">
                                                                                                                                <from variable="inputVariable0" xml:id="id_3086" query="/ns2:BusinessEventInfoType/ns2:OriginalNotifyDate"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3087" query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3110">
                                                                                                                                <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForJeopradyEvent_InputVariable','payload','/ns3:eventHeaderTR'))" xml:id="id_3111"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3112" query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3230">
                                                                                                                                <from expression="bpws:getVariableData('preparePayLoadForJeopardyBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:WebServiceId')" xml:id="id_3231"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3232" query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3623">
                                                                                                                                <from variable="InvokeConnectorURLForJeopradyEvent_pushPayload_InputVariable" part="payload" query="/ns2:results/ns2:OrderHeader/ns2:OrderLine/ns2:EventCode" xml:id="id_3624"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode" xml:id="id_3625"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3308">
                                                                                                                                <from variable="preparePayLoadForJeopardyBusinessEvent_OutputVariable" part="parameters" xml:id="id_3309" query="/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result/ns3:SourceOrderSystem"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3310" query="/ns6:logEventNotificationError/ns6:input/ns3:EventLineId"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3311">
                                                                                                                                <from variable="preparePayLoadForJeopardyBusinessEvent_OutputVariable" part="parameters" xml:id="id_3312" query="/ns6:preparePayLoadForJeopardyBusinessEventResponse/ns6:result/ns3:SourceOrderId"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3313" query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3483">
                                                                                                                                <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForJeopradyEvent_pushPayload_InputVariable','payload','/ns2:results'))" xml:id="id_3484"/>
                                                                                                                                <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" query="/ns6:logEventNotificationError/ns6:input/ns3:EventlogPayload" xml:id="id_3485"/>
                                                                                                                            </copy>
                                                                                                                            <copy xml:id="id_3543">
                                                                                                                                <from expression="true()" xml:id="id_3544"/>
                                                                                                                                <to variable="eventNotifyFlag" xml:id="id_3545"/>
                                                                                                                            </copy>
                                                                                                                        </assign>
                                                                                                                        <invoke name="InvokeEventNotify" inputVariable="InvokeLogEventNotify_logEventNotificationError_InputVariable" outputVariable="InvokeLogEventNotify_logEventNotificationError_OutputVariable" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="logEventNotificationError" bpelx:invokeAsDetail="no" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_3618"/>
                                                                                                                    </sequence>
                                                                                                                </catchAll>
                                                                                                            </faultHandlers>
                                                                                                            <switch name="Switch30" xml:id="id_2536">
                                                                                                                <case xml:id="id_81950"
                                                                                                                      condition="string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0 and string-length(bpws:getVariableData('CsfKey')) &lt;=0">
                                                                                                                    <bpelx:annotation xml:id="id_81954">
                                                                                                                        <bpelx:general xml:id="id_81955">
                                                                                                                            <bpelx:property name="userLabel"
                                                                                                                                            xml:id="id_81956">
                                                                                                                                <![CDATA[KeyStoreAlias]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation><invoke name="InvokeConnectorURLForJeopradyEvent"
                                                                                                                                               inputVariable="InvokeConnectorURLForJeopradyEvent_pushPayload_InputVariable"
                                                                                                                                               partnerLink="BusinessEventsConnectorService"
                                                                                                                                               portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                               operation="pushPayload"
                                                                                                                                               bpelx:invokeAsDetail="no"
                                                                                                                                               xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                               xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                               xml:id="id_81961">
      <bpelx:inputProperty name="keystore.recipient.alias"
                           variable="KeyStoreRecipientAlias" xml:id="id_81962"/>
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81963"/>
   </invoke></case>
                                                                                                                <case xml:id="id_81949"
                                                                                                                      condition="string-length(bpws:getVariableData('CsfKey')) !=0  and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) &lt;=0">
                                                                                                                    <bpelx:annotation xml:id="id_81951">
                                                                                                                        <bpelx:general xml:id="id_81952">
                                                                                                                            <bpelx:property name="userLabel"
                                                                                                                                            xml:id="id_81953">
                                                                                                                                <![CDATA[CsfKey]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation><invoke name="InvokeConnectorURLForJeopradyEvent"
                                                                                                                                               inputVariable="InvokeConnectorURLForJeopradyEvent_pushPayload_InputVariable"
                                                                                                                                               partnerLink="BusinessEventsConnectorService"
                                                                                                                                               portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                               operation="pushPayload"
                                                                                                                                               bpelx:invokeAsDetail="no"
                                                                                                                                               xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                               xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                               xml:id="id_81957">
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81959"/>
      <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_81960"/>
   </invoke></case>
                                                                                                                <case xml:id="id_2537" condition="string-length(bpws:getVariableData('CsfKey')) !=0 and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0">
                                                                                                                    <bpelx:annotation xml:id="id_2542">
                                                                                                                        <bpelx:general xml:id="id_2543">
                                                                                                                            <bpelx:property name="userLabel" xml:id="id_2544">
                                                                                                                                <![CDATA[CsfKeyAndKeyStoreAlias]]>
                                                                                                                            </bpelx:property>
                                                                                                                        </bpelx:general>
                                                                                                                    </bpelx:annotation>
                                                                                                                    <invoke name="InvokeConnectorURLForJeopradyEvent" xml:id="id_2179" inputVariable="InvokeConnectorURLForJeopradyEvent_pushPayload_InputVariable" partnerLink="BusinessEventsConnectorService" portType="ns18:BusinessEventsConnectorPayload" operation="pushPayload" bpelx:invokeAsDetail="no">
                                                                                                                        <bpelx:inputProperty name="keystore.recipient.alias" variable="KeyStoreRecipientAlias" xml:id="id_2269"/>
                                                                                                                        <bpelx:inputProperty name="endpointURI" variable="webServiceAddress" xml:id="id_2198"/>
                                                                                                                        <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_2745"/>
                                                                                                                    </invoke>
                                                                                                                </case>
                                                                                                                <otherwise xml:id="id_2538">
                                                                                                                    <invoke name="InvokeConnectorURLForJeopradyEvent" inputVariable="InvokeConnectorURLForJeopradyEvent_pushPayload_InputVariable" partnerLink="BusinessEventsConnectorService" portType="ns18:BusinessEventsConnectorPayload" operation="pushPayload" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_2539" bpelx:invokeAsDetail="no">
                                                                                                                        <bpelx:inputProperty name="endpointURI" variable="webServiceAddress" xml:id="id_2541"/>
                                                                                                                    </invoke>
                                                                                                                </otherwise>
                                                                                                            </switch>
                                                                                                        </scope>
                                                                                                        <bpelx:dehydrate name="DehydrateConnectorURLForJeopradyEvent" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1990"/>
                                                                                                        <assign name="ResetCsfAndKeyStoreVar" xml:id="id_2621">
                                                                                                            <copy xml:id="id_2623">
                                                                                                                <from expression="''" xml:id="id_2624"/>
                                                                                                                <to variable="CsfKey" xml:id="id_2625"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_2626">
                                                                                                                <from expression="''" xml:id="id_2627"/>
                                                                                                                <to variable="KeyStoreRecipientAlias" xml:id="id_2628"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                    </sequence>
                                                                                                </otherwise>
                                                                                            </switch>
                                                                                        </sequence>
                                                                                    </scope>
                                                                                    <assign name="DecrementConnectorCount" xml:id="id_1991">
                                                                                        <copy xml:id="id_1992">
                                                                                            <from expression="bpws:getVariableData('ConnectorURLsCounter')-1" xml:id="id_1993"/>
                                                                                            <to variable="ConnectorURLsCounter" xml:id="id_1994"/>
                                                                                        </copy>
                                                                                    </assign>
                                                                                </sequence>
                                                                            </while>
                                                                            <assign name="DecrementHeaderCount" xml:id="id_1995">
                                                                                <copy xml:id="id_1996">
                                                                                    <from expression="bpws:getVariableData('HeaderCounter')-1" xml:id="id_1997"/>
                                                                                    <to variable="HeaderCounter" xml:id="id_1998"/>
                                                                                </copy>
                                                                            </assign>
                                                                        </sequence>
                                                                    </while>
                                                                </sequence>
                                                            </scope>
                                                        </case>
                                                        <otherwise xml:id="id_2090">
                                                            <terminate name="TerminateJeopardyEvent" xml:id="id_2095"/>
                                                        </otherwise>
                                                    </switch>
                                                </sequence>
                                            </scope>
                                        </sequence>
                                    </case>
                                    <case xml:id="id_141" condition="bpws:getVariableData('inputVariable0','/ns2:BusinessEventInfoType/ns2:EventPointCode') ='ORDER_ATTRIBUTE_UPDATE'">
                                        <bpelx:annotation xml:id="id_173">
                                            <bpelx:general xml:id="id_174">
                                                <bpelx:property name="userLabel" xml:id="id_175">
                                                    <![CDATA[OrderAttributeUpdate]]>
                                                </bpelx:property>
                                            </bpelx:general>
                                        </bpelx:annotation>
                                        <scope name="OrderAttributeUpdateFromWBScope" xml:id="id_143" variableAccessSerializable="no">
                                            <variables xml:id="id_207">
                                                <variable name="WBOrderUpdEventService_InputVariable" messageType="ns3:ProcessEventService_preparePayloadForOrderUpdateEvent" xml:id="id_146"/>
                                                <variable name="WBOrderUpdEventService_OutputputVariable" messageType="ns3:ProcessEventService_preparePayloadForOrderUpdateEventResponse" xml:id="id_147"/>
                                                <variable name="CopyOf_WBOrderUpdEventService_OutputputVariable" messageType="ns3:ProcessEventService_preparePayloadForOrderUpdateEventResponse" xml:id="id_1711"/>
                                            </variables>
                                            <sequence name="WBUpdateSequence" xml:id="id_148">
                                                <assign name="XformEventOrderUpdateToServiceInput" xml:id="id_164">
                                                    <bpelx:annotation xml:id="id_165">
                                                        <bpelx:pattern xml:id="id_166">transformation</bpelx:pattern>
                                                    </bpelx:annotation>
                                                    <copy xml:id="id_167">
                                                        <from xml:id="id_168" expression="ora:doXSLTransformForDoc('xsl/TransformEventOrderUpdateToServiceInput.xsl', $inputVariable0)"/>
                                                        <to xml:id="id_169" variable="WBOrderUpdEventService_InputVariable" part="parameters"/>
                                                    </copy>
                                                </assign>
                                                <invoke name="InvokeEventServiceForOrderUpdate" xml:id="id_144" inputVariable="WBOrderUpdEventService_InputVariable" outputVariable="WBOrderUpdEventService_OutputputVariable" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="preparePayloadForOrderUpdateEvent" bpelx:invokeAsDetail="no"/>
                                                <bpelx:dehydrate name="DehydrateOrderUpdateFromWB" xml:id="id_171"/>
                                                <switch name="Switch10" xml:id="id_2041">
                                                    <case xml:id="id_2042" condition="count(bpws:getVariableData('WBOrderUpdEventService_OutputputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result'))>0">
                                                        <bpelx:annotation xml:id="id_2044">
                                                            <bpelx:pattern xml:id="id_2047">ValidPayload</bpelx:pattern>
                                                            <bpelx:general xml:id="id_2045">
                                                                <bpelx:property name="userLabel" xml:id="id_2046">
                                                                    <![CDATA[ValidPayload]]>
                                                                </bpelx:property>
                                                            </bpelx:general>
                                                        </bpelx:annotation>
                                                        <scope name="OrderupdateEventPayloadPushingScope" variableAccessSerializable="no" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_1643">
                                                            <variables xml:id="id_1644">
                                                                <variable name="HeaderCounter" type="xsd:integer" xml:id="id_1645"/>
                                                                <variable name="ConnectorURLsCounter" type="xsd:integer" xml:id="id_1646"/>
                                                                <variable name="webServiceAddress" type="xsd:string" xml:id="id_1647"/>
                                                                <variable name="KeyStoreRecipientAlias" type="xsd:string" xml:id="id_2226"/>
                                                                <variable name="CsfKey" type="xsd:string" xml:id="id_2231"/>
                                                            </variables>
                                                            <sequence name="Sequence8" xml:id="id_1648">
                                                                <assign name="AssignHeaderCounter" xml:id="id_1649">
                                                                    <copy xml:id="id_1650">
                                                                        <from expression="count(bpws:getVariableData('WBOrderUpdEventService_OutputputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result'))" xml:id="id_1651"/>
                                                                        <to variable="HeaderCounter" xml:id="id_1652"/>
                                                                    </copy>
                                                                </assign>
                                                                <while name="HeaderIterator" condition="bpws:getVariableData('HeaderCounter')>0" xml:id="id_1653">
                                                                    <sequence name="HeaderIteratorSequence" xml:id="id_1654">
                                                                        <assign name="ConnectorURLsIterator" xml:id="id_1655">
                                                                            <copy xml:id="id_1656">
                                                                                <from expression="count(bpws:getVariableData('WBOrderUpdEventService_OutputputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR'))" xml:id="id_1657"/>
                                                                                <to variable="ConnectorURLsCounter" xml:id="id_1658"/>
                                                                            </copy>
                                                                        </assign>
                                                                        <while name="ConnectorIterator" condition="bpws:getVariableData('ConnectorURLsCounter')>0" xml:id="id_1659">
                                                                            <sequence name="ConnectorIteratorSequence" xml:id="id_1660">
                                                                                <scope name="PayloadPushingScope" variableAccessSerializable="no" xml:id="id_1661">
                                                                                    <variables xml:id="id_2214">
                                                                                        <variable name="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable" messageType="ns18:BusinessEventsConnectorPayloadRequestMessage" xml:id="id_2215"/>
                                                                                    </variables>
                                                                                    <sequence name="Sequence11" xml:id="id_2612">
                                                                                        <switch name="Switch7" xml:id="id_1662">
                                                                                            <case condition="(xp20:compare(string(bpws:getVariableData('WBOrderUpdEventService_OutputputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceName')),'DOO_BUSINESS_EVENT_NOTIFICATION')=0)" xml:id="id_1663">
                                                                                                <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1664">
                                                                                                    <bpelx:pattern xml:id="id_1665">Before Release 11</bpelx:pattern>
                                                                                                    <bpelx:general xml:id="id_1666">
                                                                                                        <bpelx:property name="userLabel" xml:id="id_1667">
                                                                                                            <![CDATA[BackwardCompatibility]]>
                                                                                                        </bpelx:property>
                                                                                                    </bpelx:general>
                                                                                                </bpelx:annotation>
                                                                                                <sequence xml:id="id_1710">
                                                                                                    <assign name="XfrmEventService2WBUpdateMediator" xml:id="id_158">
                                                                                                        <bpelx:annotation xml:id="id_159">
                                                                                                            <bpelx:pattern xml:id="id_160">transformation</bpelx:pattern>
                                                                                                        </bpelx:annotation>
                                                                                                        <copy xml:id="id_161">
                                                                                                            <from xml:id="id_162" expression="ora:doXSLTransformForDoc('xsl/XfrmEventService2WBUpdateMediator.xsl', $WBOrderUpdEventService_OutputputVariable.parameters)"/>
                                                                                                            <to xml:id="id_163" variable="InvokeNotificationMediator_execute_InputVariable" part="request"/>
                                                                                                        </copy>
                                                                                                    </assign>
                                                                                                    <invoke name="InvokeMediatorForWBUpdate" xml:id="id_156" inputVariable="InvokeNotificationMediator_execute_InputVariable" partnerLink="BusinessEventNotificationMediator.BusinessEventNotificationMediator" portType="ns4:execute_ptt" operation="orderUpdateEvent" bpelx:invokeAsDetail="no"/>
                                                                                                    <bpelx:dehydrate name="DehydrateInvokeMediatorForWBUpdate" xml:id="id_2019"/>
                                                                                                </sequence>
                                                                                            </case>
                                                                                            <otherwise xml:id="id_1684">
                                                                                                <sequence name="OrderUpdateEventConnectorURIsSequence" xml:id="id_1685">
                                                                                                    <switch name="Switch17" xml:id="id_2331">
                                                                                                        <case xml:id="id_2332"
                                                                                                              condition="string-length(bpws:getVariableData('WBOrderUpdEventService_OutputputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey'))>0 or string-length(bpws:getVariableData('WBOrderUpdEventService_OutputputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias'))>0">
                                                                                                            <bpelx:annotation xml:id="id_2402">
                                                                                                                <bpelx:general xml:id="id_2403">
                                                                                                                    <bpelx:property name="userLabel" xml:id="id_2404">
                                                                                                                        <![CDATA[CheckCSFKeyAndKeyAlias]]>
                                                                                                                    </bpelx:property>
                                                                                                                </bpelx:general>
                                                                                                            </bpelx:annotation>
                                                                                                            <assign name="AssignCsfKeyandRecipientAlias" xml:id="id_2334">
                                                                                                                <copy xml:id="id_2438">
                                                                                                                    <from expression="bpws:getVariableData('WBOrderUpdEventService_OutputputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey')" xml:id="id_2439"/>
                                                                                                                    <to variable="CsfKey" xml:id="id_2440"/>
                                                                                                                </copy>
                                                                                                                <copy xml:id="id_2441">
                                                                                                                    <from expression="bpws:getVariableData('WBOrderUpdEventService_OutputputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias')" xml:id="id_2442"/>
                                                                                                                    <to variable="KeyStoreRecipientAlias" xml:id="id_2443"/>
                                                                                                                </copy>
                                                                                                            </assign>
                                                                                                        </case>
                                                                                                    </switch>
                                                                                                    <assign name="AssignURI" xml:id="id_1686">
                                                                                                        <copy xml:id="id_1687">
                                                                                                            <from expression="bpws:getVariableData('WBOrderUpdEventService_OutputputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceURI')" xml:id="id_1688"/>
                                                                                                            <to variable="webServiceAddress" xml:id="id_1689"/>
                                                                                                        </copy>
                                                                                                        <copy bpelx:insertMissingToData="yes" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_71690">
                                                                                                            <from variable="WBOrderUpdEventService_OutputputVariable" part="parameters" xml:id="id_71691" query="/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]"/>
                                                                                                            <to variable="CopyOf_WBOrderUpdEventService_OutputputVariable" part="parameters" xml:id="id_71692" query="/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result"/>
                                                                                                        </copy>
                                                                                                        <copy xml:id="id_3556">
                                                                                                            <from expression="false()" xml:id="id_3557"/>
                                                                                                            <to variable="eventNotifyFlag" xml:id="id_3558"/>
                                                                                                        </copy>
                                                                                                    </assign>
                                                                                                    <assign name="EventInputToConnectorInputTransform" xml:id="id_71693">
                                                                                                        <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_71694">
                                                                                                            <bpelx:pattern xml:id="id_71695">transformation</bpelx:pattern>
                                                                                                        </bpelx:annotation>
                                                                                                        <copy xml:id="id_1696">
                                                                                                            <from expression="ora:doXSLTransformForDoc('xsl/OrderAttributeUpdateToConnector.xsl', $CopyOf_WBOrderUpdEventService_OutputputVariable.parameters)" xml:id="id_1697"/>
                                                                                                            <to variable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable" part="payload" xml:id="id_1698"/>
                                                                                                        </copy>
                                                                                                    </assign>
                                                                                                    <scope name="InvokeConnectorURLForOrderUpdate" xml:id="id_2794" variableAccessSerializable="no">
                                                                                                        <faultHandlers xml:id="id_2795">
                                                                                                            <catchAll xml:id="id_2796">
                                                                                                                <sequence name="Sequence18" xml:id="id_2798">
                                                                                                                    <assign name="AssignLogEvent" xml:id="id_3088">
                                                                                                                        <copy xml:id="id_3092">
                                                                                                                            <from variable="inputVariable0" xml:id="id_3093"
                                                                                                                                  query="/ns2:BusinessEventInfoType/ns2:OriginalNotifyDate"/>
                                                                                                                            <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3094"
                                                                                                                                query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"/>
                                                                                                                        </copy>
                                                                                                                        <copy xml:id="id_3122">
                                                                                                                            <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable','payload','/ns2:results'))" xml:id="id_3123"/>
                                                                                                                            <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3124" query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"/>
                                                                                                                        </copy>
                                                                                                                        <copy xml:id="id_3125">
                                                                                                                            <from expression="bpws:getVariableData('WBOrderUpdEventService_OutputputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:WebServiceId')" xml:id="id_3126"/>
                                                                                                                            <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3127" query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId"/>
                                                                                                                        </copy>
                                                                                                                        <copy xml:id="id_3275">
                                                                                                                            <from variable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable" part="payload" query="/ns2:results/ns2:OrderHeader/ns2:EventCode" xml:id="id_3276"/>
                                                                                                                            <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode" xml:id="id_3277"/>
                                                                                                                        </copy>
                                                                                                                        <copy xml:id="id_3278">
                                                                                                                            <from expression="string(bpws:getVariableData('WBOrderUpdEventService_OutputputVariable','parameters','/ns6:preparePayloadForOrderUpdateEventResponse/ns6:result/ns3:OrchestrationOrderId'))" xml:id="id_3279"/>
                                                                                                                            <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3280" query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"/>
                                                                                                                        </copy>
                                                                                                                        <copy xml:id="id_3480">
                                                                                                                            <from expression="oraext:get-content-as-string((bpws:getVariableData('InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable','payload','/ns2:results')))" xml:id="id_3481"/>
                                                                                                                            <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3482" query="/ns6:logEventNotificationError/ns6:input/ns3:EventlogPayload"/>
                                                                                                                        </copy>
                                                                                                                        <copy xml:id="id_3553">
                                                                                                                            <from expression="true()" xml:id="id_3554"/>
                                                                                                                            <to variable="eventNotifyFlag" xml:id="id_3555"/>
                                                                                                                        </copy>
                                                                                                                    </assign>
                                                                                                                    <invoke name="InvokeEventNotify" inputVariable="InvokeLogEventNotify_logEventNotificationError_InputVariable" outputVariable="InvokeLogEventNotify_logEventNotificationError_OutputVariable" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="logEventNotificationError" bpelx:invokeAsDetail="no" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_3614"/>
                                                                                                                </sequence>
                                                                                                            </catchAll>
                                                                                                        </faultHandlers>
                                                                                                        <switch name="Switch29" xml:id="id_2527">
                                                                                                            <case xml:id="id_81929"
                                                                                                                  condition="string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0 and string-length(bpws:getVariableData('CsfKey')) &lt;=0">
                                                                                                                <bpelx:annotation xml:id="id_81933">
                                                                                                                    <bpelx:general xml:id="id_81934">
                                                                                                                        <bpelx:property name="userLabel"
                                                                                                                                        xml:id="id_81935">
                                                                                                                            <![CDATA[KeyStoreAlias]]>
                                                                                                                        </bpelx:property>
                                                                                                                    </bpelx:general>
                                                                                                                </bpelx:annotation><invoke name="InvokeConnectorURLForOrderUpdateEvent"
                                                                                                                                           partnerLink="BusinessEventsConnectorService"
                                                                                                                                           portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                           operation="pushPayload"
                                                                                                                                           inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                           xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                           bpelx:invokeAsDetail="no"
                                                                                                                                           xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                           xml:id="id_81945">
      <bpelx:inputProperty name="keystore.recipient.alias"
                           variable="KeyStoreRecipientAlias" xml:id="id_81946"/>
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81947"/>
   </invoke></case>
                                                                                                            <case xml:id="id_81928"
                                                                                                                  condition="string-length(bpws:getVariableData('CsfKey')) !=0  and string-length(bpws:getVariableData('KeyStoreRecipientAlias'))  &lt;=0">
                                                                                                                <bpelx:annotation xml:id="id_81930">
                                                                                                                    <bpelx:general xml:id="id_81931">
                                                                                                                        <bpelx:property name="userLabel"
                                                                                                                                        xml:id="id_81932">
                                                                                                                            <![CDATA[CsfKey]]>
                                                                                                                        </bpelx:property>
                                                                                                                    </bpelx:general>
                                                                                                                </bpelx:annotation><invoke name="InvokeConnectorURLForOrderUpdateEvent"
                                                                                                                                           partnerLink="BusinessEventsConnectorService"
                                                                                                                                           portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                           operation="pushPayload"
                                                                                                                                           inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                           xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                           bpelx:invokeAsDetail="no"
                                                                                                                                           xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                           xml:id="id_81941">
    
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81943"/>
      <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_81944"/>
   </invoke></case>
                                                                                                            <case xml:id="id_2528" condition="string-length(bpws:getVariableData('CsfKey')) !=0 and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0">
                                                                                                                <bpelx:annotation xml:id="id_2533">
                                                                                                                    <bpelx:general xml:id="id_2534">
                                                                                                                        <bpelx:property name="userLabel" xml:id="id_2535">
                                                                                                                            <![CDATA[CsfKeyAndKeyStoreAlias]]>
                                                                                                                        </bpelx:property>
                                                                                                                    </bpelx:general>
                                                                                                                </bpelx:annotation><sequence name="Sequence41"
                                                                                                                                   xml:id="id_81936"><invoke name="InvokeConnectorURLForOrderUpdateEvent"
                                                                                                                                                             partnerLink="BusinessEventsConnectorService"
                                                                                                                                                             portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                                             operation="pushPayload"
                                                                                                                                                             inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable"
                                                                                                                                                             xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                                             xml:id="id_1699"
                                                                                                                                                             bpelx:invokeAsDetail="no"><bpelx:inputProperty name="keystore.recipient.alias"
                                                                                                                                                                                                            variable="KeyStoreRecipientAlias"
                                                                                                                                                                                                            xml:id="id_2230"/><bpelx:inputProperty name="endpointURI"
                                                                                                                                                                                                                                                   variable="webServiceAddress"
                                                                                                                                                                                                                                                   xml:id="id_1700"/><bpelx:inputProperty name="csf-key"
                                                                                                                                                                                                                                                                                          variable="CsfKey"
                                                                                                                                                                                                                                                                                          xml:id="id_2746"/></invoke></sequence></case>
                                                                                                            <otherwise xml:id="id_2529">
                                                                                                                <invoke name="InvokeConnectorURLForOrderUpdateEvent" partnerLink="BusinessEventsConnectorService" portType="ns18:BusinessEventsConnectorPayload" operation="pushPayload" inputVariable="InvokeConnectorURLForOrderUpdateEvent_pushPayload_InputVariable" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_2530" bpelx:invokeAsDetail="no">
                                                                                                                    <bpelx:inputProperty name="endpointURI" variable="webServiceAddress" xml:id="id_2532"/>
                                                                                                                </invoke>
                                                                                                            </otherwise>
                                                                                                        </switch>
                                                                                                    </scope>
                                                                                                    <bpelx:dehydrate name="DehydrateConnectorURLForOrderUpdateEvent" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_1701"/>
                                                                                                    <assign name="ResetCsfAndKeyAlias" xml:id="id_2613">
                                                                                                        <copy xml:id="id_2614">
                                                                                                            <from expression="''" xml:id="id_2615"/>
                                                                                                            <to variable="KeyStoreRecipientAlias" xml:id="id_2616"/>
                                                                                                        </copy>
                                                                                                        <copy xml:id="id_2617">
                                                                                                            <from expression="''" xml:id="id_2618"/>
                                                                                                            <to variable="CsfKey" xml:id="id_2619"/>
                                                                                                        </copy>
                                                                                                    </assign>
                                                                                                </sequence>
                                                                                            </otherwise>
                                                                                        </switch>
                                                                                    </sequence>
                                                                                </scope>
                                                                                <assign name="DecrementConnectorCount" xml:id="id_1702">
                                                                                    <copy xml:id="id_1703">
                                                                                        <from expression="bpws:getVariableData('ConnectorURLsCounter')-1" xml:id="id_1704"/>
                                                                                        <to variable="ConnectorURLsCounter" xml:id="id_1705"/>
                                                                                    </copy>
                                                                                </assign>
                                                                            </sequence>
                                                                        </while>
                                                                        <assign name="DecrementHeaderCount" xml:id="id_71706">
                                                                            <copy xml:id="id_71707">
                                                                                <from expression="bpws:getVariableData('HeaderCounter')-1" xml:id="id_81708"/>
                                                                                <to variable="HeaderCounter" xml:id="id_81709"/>
                                                                            </copy>
                                                                        </assign>
                                                                    </sequence>
                                                                </while>
                                                            </sequence>
                                                        </scope>
                                                    </case>
                                                    <otherwise xml:id="id_2043">
                                                        <terminate name="TerminateWBAttributeUpdate" xml:id="id_2048"/>
                                                    </otherwise>
                                                </switch>
                                            </sequence>
                                        </scope>
                                    </case>
                                    <case xml:id="id_11" condition="bpws:getVariableData('inputVariable0','/ns2:BusinessEventInfoType/ns2:EventPointCode') ='HOLD'">
                                        <bpelx:annotation xml:id="id_176">
                                            <bpelx:general xml:id="id_177">
                                                <bpelx:property name="userLabel" xml:id="id_178">
                                                    <![CDATA[Hold]]>
                                                </bpelx:property>
                                            </bpelx:general>
                                        </bpelx:annotation>
                                        <sequence name="HoldEventSequence" xml:id="id_17">
                                            <scope name="ScopeProcessEventService" xml:id="id_45" variableAccessSerializable="no">
                                                <variables xml:id="id_210">
                                                    <variable name="preparePayLoadForHoldsBusinessEvent_InputVariable" messageType="ns3:ProcessEventService_preparePayLoadForBusinessEvent" xml:id="id_211"/>
                                                    <variable name="preparePayLoadForHoldsBusinessEvent_OutputVariable" messageType="ns3:ProcessEventService_preparePayLoadForBusinessEventResponse" xml:id="id_212"/>
                                                </variables>
                                                <sequence xml:id="id_46" name="HoldEventSequence">
                                                    <assign name="AssignServiceInput" xml:id="id_29">
                                                        <copy xml:id="id_213">
                                                            <from variable="inputVariable0" xml:id="id_214" query="/ns2:BusinessEventInfoType/ns2:EventPointCode"/>
                                                            <to variable="preparePayLoadForHoldsBusinessEvent_InputVariable" part="parameters" xml:id="id_215" query="/ns6:preparePayLoadForBusinessEvent/ns6:eventCode"/>
                                                        </copy>
                                                        <copy xml:id="id_216">
                                                            <from variable="inputVariable0" query="/ns2:BusinessEventInfoType/ns2:AggregatedEventId" xml:id="id_217"/>
                                                            <to variable="preparePayLoadForHoldsBusinessEvent_InputVariable" part="parameters" query="/ns6:preparePayLoadForBusinessEvent/ns6:aggregatorId" xml:id="id_218"/>
                                                        </copy>
                                                        <copy xml:id="id_219">
                                                            <from variable="inputVariable0" query="/ns2:BusinessEventInfoType/ns2:TransactionEventId" xml:id="id_220"/>
                                                            <to variable="preparePayLoadForHoldsBusinessEvent_InputVariable" part="parameters" query="/ns6:preparePayLoadForBusinessEvent/ns6:transactionEventId" xml:id="id_221"/>
                                                        </copy>
                                                    </assign>
                                                    <invoke name="InvokeProcessEventService" xml:id="id_15" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="preparePayLoadForBusinessEvent" inputVariable="preparePayLoadForHoldsBusinessEvent_InputVariable" outputVariable="preparePayLoadForHoldsBusinessEvent_OutputVariable" bpelx:invokeAsDetail="no"/>
                                                    <bpelx:dehydrate name="DehydrationForHoldsService" xml:id="id_209"/>
                                                    <switch name="Switch13" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_2096">
                                                        <case condition="count(bpws:getVariableData('preparePayLoadForHoldsBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForBusinessEventResponse/ns6:result'))>0" xml:id="id_2097">
                                                            <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_2098">
                                                                <bpelx:general xml:id="id_2100">
                                                                    <bpelx:property name="userLabel" xml:id="id_2101">
                                                                        <![CDATA[hasValidPaylaod]]>
                                                                    </bpelx:property>
                                                                </bpelx:general>
                                                            </bpelx:annotation>
                                                            <scope name="SplitEventPayloadPublishingScope" variableAccessSerializable="no" xml:id="id_2102">
                                                                <variables xml:id="id_2103">
                                                                    <variable name="HeaderCounter" type="xsd:integer" xml:id="id_2104"/>
                                                                    <variable name="ConnectorURLsCounter" type="xsd:integer" xml:id="id_2105"/>
                                                                    <variable name="webServiceAddress" type="xsd:string" xml:id="id_2106"/>
                                                                    <variable name="CsfKey" type="xsd:string" xml:id="id_2235"/>
                                                                    <variable name="KeyStoreRecipientAlias" type="xsd:string" xml:id="id_2236"/>
                                                                </variables>
                                                                <sequence name="Sequence8" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_2107">
                                                                    <assign name="AssignHeaderCounter" xml:id="id_2108">
                                                                        <copy xml:id="id_2109">
                                                                            <from expression="count(bpws:getVariableData('preparePayLoadForHoldsBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForBusinessEventResponse/ns6:result'))" xml:id="id_2110"/>
                                                                            <to variable="HeaderCounter" xml:id="id_2111"/>
                                                                        </copy>
                                                                    </assign>
                                                                    <while name="HeaderIterator" condition="bpws:getVariableData('HeaderCounter')>0" xml:id="id_2112">
                                                                        <sequence name="HeaderIteratorSequence" xml:id="id_2113">
                                                                            <assign name="ConnectorURLsIterator" xml:id="id_2114">
                                                                                <copy xml:id="id_2115">
                                                                                    <from expression="count(bpws:getVariableData('preparePayLoadForHoldsBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR'))" xml:id="id_2116"/>
                                                                                    <to variable="ConnectorURLsCounter" xml:id="id_2117"/>
                                                                                </copy>
                                                                            </assign>
                                                                            <while name="ConnectorIterator" condition="bpws:getVariableData('ConnectorURLsCounter')>0" xml:id="id_2118">
                                                                                <sequence name="ConnectorIteratorSequence" xml:id="id_2119">
                                                                                    <scope name="PayloadPushingScope" variableAccessSerializable="no" xml:id="id_2120">
                                                                                        <variables xml:id="id_2192">
                                                                                            <variable name="InvokeConnectorURLForHoldEvent_InputVariable" messageType="ns17:JeopardyEventRequestMessage" xml:id="id_2193"/>
                                                                                            <variable name="InvokeConnectorURLForHoldEvent_pushPayload_InputVariable" messageType="ns18:BusinessEventsConnectorPayloadRequestMessage" xml:id="id_2216"/>
                                                                                        </variables>
                                                                                        <sequence name="Sequence10" xml:id="id_2590">
                                                                                            <switch name="Switch7" xml:id="id_2121">
                                                                                                <case condition="(xp20:compare(string(bpws:getVariableData('preparePayLoadForHoldsBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceName')),'DOO_BUSINESS_EVENT_NOTIFICATION')=0)" xml:id="id_2122">
                                                                                                    <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_2123">
                                                                                                        <bpelx:general xml:id="id_2124">
                                                                                                            <bpelx:property name="userLabel" xml:id="id_2125">
                                                                                                                <![CDATA[BackwardCompatibility]]>
                                                                                                            </bpelx:property>
                                                                                                        </bpelx:general>
                                                                                                    </bpelx:annotation>
                                                                                                    <sequence xml:id="id_2126">
                                                                                                        <assign name="ServiceResponseToMediatorInputTransform" xml:id="id_39">
                                                                                                            <bpelx:annotation xml:id="id_40">
                                                                                                                <bpelx:pattern xml:id="id_41">transformation</bpelx:pattern>
                                                                                                            </bpelx:annotation>
                                                                                                            <copy xml:id="id_42">
                                                                                                                <from xml:id="id_43" expression="ora:doXSLTransformForDoc('xsl/XFormHold2MediatorInput.xsl', $preparePayLoadForHoldsBusinessEvent_OutputVariable.parameters)"/>
                                                                                                                <to xml:id="id_44" variable="InvokeNotificationMediator_execute_InputVariable" part="request"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <invoke name="InvokeNotificationMediator" xml:id="id_21" inputVariable="InvokeNotificationMediator_execute_InputVariable" partnerLink="BusinessEventNotificationMediator.BusinessEventNotificationMediator" portType="ns4:execute_ptt" operation="holdEvent" bpelx:invokeAsDetail="no"/>
                                                                                                        <bpelx:dehydrate name="DehydrateInvokeMediatorForSplitEvent" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_2134"/>
                                                                                                    </sequence>
                                                                                                </case>
                                                                                                <otherwise xml:id="id_2135">
                                                                                                    <sequence name="HoldsEventConnectorURIsSequence" xml:id="id_2136">
                                                                                                        <switch name="Switch16" xml:id="id_2316">
                                                                                                            <case xml:id="id_2317"
                                                                                                                  condition="string-length(bpws:getVariableData('preparePayLoadForHoldsBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey'))>0 or string-length(bpws:getVariableData('preparePayLoadForHoldsBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias'))>0">
                                                                                                                <bpelx:annotation xml:id="id_2319">
                                                                                                                    <bpelx:general xml:id="id_2320">
                                                                                                                        <bpelx:property name="userLabel" xml:id="id_2321">
                                                                                                                            <![CDATA[CheckCSFKeyAndKeyAlias]]>
                                                                                                                        </bpelx:property>
                                                                                                                    </bpelx:general>
                                                                                                                </bpelx:annotation>
                                                                                                                <sequence name="Sequence9" xml:id="id_2322">
                                                                                                                    <assign name="AssignCSFKeyAndAlias" xml:id="id_2323">
                                                                                                                        <copy xml:id="id_2324">
                                                                                                                            <from expression="bpws:getVariableData('preparePayLoadForHoldsBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:CsfKey')" xml:id="id_2325"/>
                                                                                                                            <to variable="CsfKey" xml:id="id_2326"/>
                                                                                                                        </copy>
                                                                                                                        <copy xml:id="id_2327">
                                                                                                                            <from expression="bpws:getVariableData('preparePayLoadForHoldsBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:KeyStoreRecipientAlias')" xml:id="id_2328"/>
                                                                                                                            <to variable="KeyStoreRecipientAlias" xml:id="id_2329"/>
                                                                                                                        </copy>
                                                                                                                    </assign>
                                                                                                                </sequence>
                                                                                                            </case>
                                                                                                        </switch>
                                                                                                        <assign name="AssignURI" xml:id="id_2137">
                                                                                                            <copy xml:id="id_2138">
                                                                                                                <from expression="bpws:getVariableData('preparePayLoadForHoldsBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:ServiceURI')" xml:id="id_2139"/>
                                                                                                                <to variable="webServiceAddress" xml:id="id_2140"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_3559">
                                                                                                                <from expression="false()" xml:id="id_3560"/>
                                                                                                                <to variable="eventNotifyFlag" xml:id="id_3561"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <assign name="TransformEventInputToConnectorInput" xml:id="id_2188">
                                                                                                            <bpelx:annotation xml:id="id_2189">
                                                                                                                <bpelx:pattern xml:id="id_2190">transformation</bpelx:pattern>
                                                                                                            </bpelx:annotation>
                                                                                                            <copy xml:id="id_2194">
                                                                                                                <from xml:id="id_2195" expression="ora:doXSLTransformForDoc('xsl/HoldEventToConectorURL.xsl', $preparePayLoadForHoldsBusinessEvent_OutputVariable.parameters)"/>
                                                                                                                <to xml:id="id_2196" variable="InvokeConnectorURLForHoldEvent_pushPayload_InputVariable" part="payload"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                        <scope name="InvokeConnectorURLForHold" xml:id="id_2764" variableAccessSerializable="no">
                                                                                                            <faultHandlers xml:id="id_2765">
                                                                                                                <catchAll xml:id="id_2766">
                                                                                                                    <sequence name="Sequence33" xml:id="id_3612">
                                                                                                                        <sequence name="Sequence17" xml:id="id_2768">
                                                                                                                            <assign name="AssignLogEvent" xml:id="id_2767">
                                                                                                                                <copy xml:id="id_2791">
                                                                                                                                    <from variable="inputVariable0" xml:id="id_2792" query="/ns2:BusinessEventInfoType/ns2:OriginalNotifyDate"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_2793" query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_3242">
                                                                                                                                    <from variable="InvokeConnectorURLForHoldEvent_pushPayload_InputVariable" part="payload" xml:id="id_3243" query="/ns2:results/ns2:OrderHeader/ns2:EventCode"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3244" query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_2784">
                                                                                                                                    <from expression="bpws:getVariableData('preparePayLoadForHoldsBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForBusinessEventResponse/ns6:result[$HeaderCounter]/ns3:EventConnectorUriTR[$ConnectorURLsCounter]/ns3:WebServiceId')" xml:id="id_2785"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_2786" query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId"/>
                                                                                                                                </copy>
                                                                                                                                <copy bpelx:ignoreMissingFromData="yes" xml:id="id_2787">
                                                                                                                                    <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForHoldEvent_pushPayload_InputVariable','payload','/ns2:results'))" xml:id="id_2788"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_2789" query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_3245">
                                                                                                                                    <from expression="string(bpws:getVariableData('preparePayLoadForHoldsBusinessEvent_OutputVariable','parameters','/ns6:preparePayLoadForBusinessEventResponse/ns6:result/ns3:OrchestrationOrderId'))" xml:id="id_3246"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3247" query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_3474">
                                                                                                                                    <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForHoldEvent_pushPayload_InputVariable','payload','/ns2:results'))" xml:id="id_3475"/>
                                                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable" part="parameters" xml:id="id_3476" query="/ns6:logEventNotificationError/ns6:input/ns3:EventlogPayload"/>
                                                                                                                                </copy>
                                                                                                                                <copy xml:id="id_3525">
                                                                                                                                    <from expression="true()" xml:id="id_3526"/>
                                                                                                                                    <to variable="eventNotifyFlag" xml:id="id_3527"/>
                                                                                                                                </copy>
                                                                                                                            </assign>
                                                                                                                            <invoke name="InvokeEventNotify" inputVariable="InvokeLogEventNotify_logEventNotificationError_InputVariable" outputVariable="InvokeLogEventNotify_logEventNotificationError_OutputVariable" partnerLink="ProcessEventService" portType="ns3:ProcessEventService" operation="logEventNotificationError" bpelx:invokeAsDetail="no" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_3613"/>
                                                                                                                        </sequence>
                                                                                                                    </sequence>
                                                                                                                </catchAll>
                                                                                                            </faultHandlers>
                                                                                                            <sequence name="Sequence32" xml:id="id_3523">
                                                                                                                <switch name="Switch28" xml:id="id_2518">
                                                                                                                    <case xml:id="id_81913"
                                                                                                                          condition="string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0 and string-length(bpws:getVariableData('CsfKey')) &lt;=0">
                                                                                                                        <bpelx:annotation xml:id="id_81917">
                                                                                                                            <bpelx:general xml:id="id_81918">
                                                                                                                                <bpelx:property name="userLabel"
                                                                                                                                                xml:id="id_81919">
                                                                                                                                    <![CDATA[KeyStoreAlias]]>
                                                                                                                                </bpelx:property>
                                                                                                                            </bpelx:general>
                                                                                                                        </bpelx:annotation><invoke name="InvokeConnectorURLForHoldEvent"
                                                                                                                                                   inputVariable="InvokeConnectorURLForHoldEvent_pushPayload_InputVariable"
                                                                                                                                                   partnerLink="BusinessEventsConnectorService"
                                                                                                                                                   portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                                   operation="pushPayload"
                                                                                                                                                   bpelx:invokeAsDetail="no"
                                                                                                                                                   xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                                   xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                                   xml:id="id_81924">
      <bpelx:inputProperty name="keystore.recipient.alias"
                           variable="KeyStoreRecipientAlias" xml:id="id_81925"/>
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81926"/>
     
   </invoke></case>
                                                                                                                    <case xml:id="id_81912"
                                                                                                                          condition="string-length(bpws:getVariableData('CsfKey')) !=0  and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) &lt;=0">
                                                                                                                        <bpelx:annotation xml:id="id_81914">
                                                                                                                            <bpelx:general xml:id="id_81915">
                                                                                                                                <bpelx:property name="userLabel"
                                                                                                                                                xml:id="id_81916">
                                                                                                                                    <![CDATA[CsfKey]]>
                                                                                                                                </bpelx:property>
                                                                                                                            </bpelx:general>
                                                                                                                        </bpelx:annotation><invoke name="InvokeConnectorURLForHoldEvent"
                                                                                                                                                   inputVariable="InvokeConnectorURLForHoldEvent_pushPayload_InputVariable"
                                                                                                                                                   partnerLink="BusinessEventsConnectorService"
                                                                                                                                                   portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                                                   operation="pushPayload"
                                                                                                                                                   bpelx:invokeAsDetail="no"
                                                                                                                                                   xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                                   xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                                   xml:id="id_81920">
     
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81922"/>
      <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_81923"/>
   </invoke></case>
                                                                                                                    <case xml:id="id_2519" condition="string-length(bpws:getVariableData('CsfKey')) !=0 and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0">
                                                                                                                        <bpelx:annotation xml:id="id_2524">
                                                                                                                            <bpelx:general xml:id="id_2525">
                                                                                                                                <bpelx:property name="userLabel" xml:id="id_2526">
                                                                                                                                    <![CDATA[CsfKeyAndKeyStoreAlias]]>
                                                                                                                                </bpelx:property>
                                                                                                                            </bpelx:general>
                                                                                                                        </bpelx:annotation>
                                                                                                                        <invoke name="InvokeConnectorURLForHoldEvent" xml:id="id_2191" inputVariable="InvokeConnectorURLForHoldEvent_pushPayload_InputVariable" partnerLink="BusinessEventsConnectorService" portType="ns18:BusinessEventsConnectorPayload" operation="pushPayload" bpelx:invokeAsDetail="no">
                                                                                                                            <bpelx:inputProperty name="keystore.recipient.alias" variable="KeyStoreRecipientAlias" xml:id="id_2243"/>
                                                                                                                            <bpelx:inputProperty name="endpointURI" variable="webServiceAddress" xml:id="id_2199"/>
                                                                                                                            <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_2747"/>
                                                                                                                        </invoke>
                                                                                                                    </case>
                                                                                                                    <otherwise xml:id="id_2520">
                                                                                                                        <invoke name="InvokeConnectorURLForHoldEvent" inputVariable="InvokeConnectorURLForHoldEvent_pushPayload_InputVariable" partnerLink="BusinessEventsConnectorService" portType="ns18:BusinessEventsConnectorPayload" operation="pushPayload" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/" xml:id="id_2521" bpelx:invokeAsDetail="no">
                                                                                                                            <bpelx:inputProperty name="endpointURI" variable="webServiceAddress" xml:id="id_2523"/>
                                                                                                                        </invoke>
                                                                                                                    </otherwise>
                                                                                                                </switch>
                                                                                                            </sequence>
                                                                                                        </scope>
                                                                                                        <bpelx:dehydrate name="DehydrateConnectorURLForHoldEvent" xmlns:bpelx="http://schemas.oracle.com/bpel/extension" xml:id="id_2141"/>
                                                                                                        <assign name="ResetCsfAndKeyAliasVar" xml:id="id_2591">
                                                                                                            <copy xml:id="id_2592">
                                                                                                                <from xml:id="id_2593" expression="''"/>
                                                                                                                <to variable="CsfKey" xml:id="id_2594"/>
                                                                                                            </copy>
                                                                                                            <copy xml:id="id_2595">
                                                                                                                <from xml:id="id_2596" expression="''"/>
                                                                                                                <to variable="KeyStoreRecipientAlias" xml:id="id_2597"/>
                                                                                                            </copy>
                                                                                                        </assign>
                                                                                                    </sequence>
                                                                                                </otherwise>
                                                                                            </switch>
                                                                                        </sequence>
                                                                                    </scope>
                                                                                    <assign name="DecrementConnectorCount" xml:id="id_2142">
                                                                                        <copy xml:id="id_2143">
                                                                                            <from expression="bpws:getVariableData('ConnectorURLsCounter')-1" xml:id="id_2144"/>
                                                                                            <to variable="ConnectorURLsCounter" xml:id="id_2145"/>
                                                                                        </copy>
                                                                                    </assign>
                                                                                </sequence>
                                                                            </while>
                                                                            <assign name="DecrementHeaderCount" xml:id="id_2146">
                                                                                <copy xml:id="id_2147">
                                                                                    <from expression="bpws:getVariableData('HeaderCounter')-1" xml:id="id_2148"/>
                                                                                    <to variable="HeaderCounter" xml:id="id_2149"/>
                                                                                </copy>
                                                                            </assign>
                                                                        </sequence>
                                                                    </while>
                                                                </sequence>
                                                            </scope>
                                                        </case>
                                                        <otherwise xml:id="id_2150">
                                                            <terminate name="TerminateHoldsEvent" xml:id="id_2151"/>
                                                        </otherwise>
                                                    </switch>
                                                </sequence>
                                            </scope>
                                        </sequence>
                                    </case>
                                    <case xml:id="id_71738"
                                          condition="bpws:getVariableData('inputVariable0','/ns2:BusinessEventInfoType/ns2:EventPointCode') ='ERROR'">
                                        <bpelx:annotation xml:id="id_71739">
                                            <bpelx:general xml:id="id_71740">
                                                <bpelx:property name="userLabel" xml:id="id_71741">
                                                    <![CDATA[ErrorRecovery]]>
                                                </bpelx:property>
                                            </bpelx:general>
                                        </bpelx:annotation>
                                        <sequence name="Sequence38"
                                                  xml:id="id_71743">
                                            <scope name="Scope9"
                                                   xml:id="id_3365">
                                                <variables xml:id="id_81738">
                                                    <variable name="deleteEventIds"
                                                              type="xsd:long"
                                                              xml:id="id_81739"/>
                                                </variables>
                                                <sequence xml:id="id_3366">
                                                    <assign name="ErrorEventToEventNotificationLog"
                                                            xml:id="id_3419">
                                                        <bpelx:annotation xml:id="id_3420">
                                                            <bpelx:pattern xml:id="id_3421">transformation</bpelx:pattern>
                                                        </bpelx:annotation>
                                                        <copy xml:id="id_3445">
                                                            <from xml:id="id_3446"
                                                                  expression="ora:doXSLTransformForDoc('xsl/ErrorEventToEventLogNotification.xsl', $inputVariable0)"/>
                                                            <to xml:id="id_3447"
                                                                variable="InvokeGeteventNotificationLog_getEventNotificationLog_InputVariable"
                                                                part="parameters"/>
                                                        </copy>
                                                    </assign>
                                                    <invoke name="InvokeGeteventNotificationLog"
                                                            xml:id="id_3357"
                                                            inputVariable="InvokeGeteventNotificationLog_getEventNotificationLog_InputVariable"
                                                            outputVariable="InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable"
                                                            partnerLink="ProcessEventService"
                                                            portType="ns3:ProcessEventService"
                                                            operation="getEventNotificationLog"
                                                            bpelx:invokeAsDetail="no"/>
                                                    <scope name="Scope10"
                                                           xml:id="id_3450">
                                                        <variables xml:id="id_3453">
                                                            <variable name="CsfKey"
                                                                      type="xsd:string"
                                                                      xml:id="id_3455"/>
                                                            <variable name="webServiceAddress"
                                                                      type="xsd:string"
                                                                      xml:id="id_3456"/>
                                                            <variable name="HeaderCount"
                                                                      type="xsd:int"
                                                                      xml:id="id_3466"/>
                                                            <variable name="loopCounter"
                                                                      type="xsd:integer"
                                                                      xml:id="id_81759"/>
                                                        </variables>
                                                        <sequence xml:id="id_3451">
                                                            <assign name="AssignCounter"
                                                                    xml:id="id_81760">
                                                                <copy xml:id="id_81761">
                                                                    <from expression="count(bpws:getVariableData('InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable','parameters','/ns6:getEventNotificationLogResponse/ns6:result'))"
                                                                          xml:id="id_81762"/>
                                                                    <to variable="loopCounter"
                                                                        xml:id="id_81763"/>
                                                                </copy>
                                                                <copy xml:id="id_81838">
                                                                    <from expression="1"
                                                                          xml:id="id_81839"/>
                                                                    <to variable="HeaderCount"
                                                                        xml:id="id_81840"/>
                                                                </copy>
                                                            </assign><while name="While2"
                                                                   xml:id="id_81764"
                                                                            condition="bpws:getVariableData('HeaderCount') &lt;= bpws:getVariableData('loopCounter')">
                                                                <sequence xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                          xml:id="id_81765">
      <switch name="Switch39" xml:id="id_81766">
         <case condition="string-length(bpws:getVariableData('InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable','parameters','/ns6:getEventNotificationLogResponse/ns6:result[$HeaderCount]/ns3:CsfKey')) > 0"
               xml:id="id_81767">
            <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                              xml:id="id_81768">
               <bpelx:general xml:id="id_81769">
                  <bpelx:property name="userLabel" xml:id="id_81770">
                     <![CDATA[checkCSFKey]]>
                  </bpelx:property>
               </bpelx:general>
            </bpelx:annotation>
            <assign name="AssignCsfKey" xml:id="id_81771">
               <copy xml:id="id_81772">
                  <from expression="bpws:getVariableData('InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable','parameters','/ns6:getEventNotificationLogResponse/ns6:result[$HeaderCount]/ns3:CsfKey')"
                        xml:id="id_81773"/>
                  <to variable="CsfKey" xml:id="id_81774"/>
               </copy>
            </assign>
         </case>
      </switch>
      <assign name="AssignURI" xml:id="id_81775">
         <copy xml:id="id_81776">
            <from expression="bpws:getVariableData('InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable','parameters','/ns6:getEventNotificationLogResponse/ns6:result[$HeaderCount]/ns3:ServiceUri')"
                  xml:id="id_81777"/>
            <to variable="webServiceAddress" xml:id="id_81778"/>
         </copy>
      </assign>
      <scope name="ConnectorURLScope" variableAccessSerializable="no"
             xml:id="id_81779">
         <faultHandlers xml:id="id_81780">
            <catchAll xml:id="id_81781">
               <sequence xml:id="id_81782">
                                                                                  <assign name="Assign2"
                                                                                            xml:id="id_81753">
                                                                                        <copy xml:id="id_81754">
                                                                                            <from expression='"true"'
                                                                                                  xml:id="id_81755"/>
                                                                                            <to variable="LOG_FINEST_VAR"
                                                                                                xml:id="id_81756"/>
                                                                                        </copy>
                                                                                    </assign>
                                                                                </sequence>
            </catchAll>
         </faultHandlers>
         <sequence name="Sequence39" xml:id="id_81787">
            <switch name="Switch42" xml:id="id_81788">
               <case condition="contains(bpws:getVariableData('InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable','parameters','/ns6:getEventNotificationLogResponse/ns6:result[$HeaderCount]/ns3:EventCode'),'BM')"
                     xml:id="id_81789">
                  <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                    xml:id="id_81790">
                     <bpelx:general xml:id="id_81791">
                        <bpelx:property name="userLabel" xml:id="id_81792">
                           <![CDATA[BM_ErrorRecovery]]>
                        </bpelx:property>
                     </bpelx:general>
                  </bpelx:annotation>
                  <sequence xml:id="id_81793">
                     <assign name="AssignGetService" xml:id="id_81794">
                        <copy xml:id="id_81795">
                           <from expression="oraext:parseXML(bpws:getVariableData('InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable','parameters','/ns6:getEventNotificationLogResponse/ns6:result[$HeaderCount]/ns3:EventPayloadTrans'))"
                                 xml:id="id_81796"/>
                           <to variable="InvokeBMService_ERInput"
                               part="updateTransaction"
                               query="/ns12:updateTransaction"
                               xml:id="id_81797"/>
                        </copy>
                     </assign>
                     <switch name="Switch7" xml:id="id_81798">
                        <case condition="string-length(bpws:getVariableData('CsfKey'))>0"
                              xml:id="id_81799">
                           <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                             xml:id="id_81800">
                              <bpelx:general xml:id="id_81801">
                                 <bpelx:property name="userLabel"
                                                 xml:id="id_81802">
                                    <![CDATA[CSFKeyCheck]]>
                                 </bpelx:property>
                              </bpelx:general>
                           </bpelx:annotation>
                           <invoke name="InvokeBMService"
                                   inputVariable="InvokeBMService_ERInput"
                                   outputVariable="InvokeBMService_EROutput"
                                   partnerLink="BigMachineService"
                                   portType="ns12:CommerceServicePortType"
                                   operation="updateTransaction"
                                   bpelx:invokeAsDetail="no"
                                   xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                   xml:id="id_81803">
                              <bpelx:inputProperty name="endpointURI"
                                                   variable="webServiceAddress"
                                                   xml:id="id_81804"/>
                              <bpelx:inputProperty name="csf-key"
                                                   variable="CsfKey"
                                                   xml:id="id_81805"/>
                              <!--<bpelx:inputProperty name="keystore.recipient.alias"
                                                                                             variable="KEYSTORE_RECIPIENT_ALIAS"
                                                                                             xml:id="id_690"/>-->
                           </invoke>
                        </case>
                        <otherwise xml:id="id_81806"><sequence name="Sequence40"
                                              xml:id="id_81863"><invoke name="InvokeBMService"
                                                                        inputVariable="InvokeBMService_ERInput"
                                                                        outputVariable="InvokeBMService_EROutput"
                                                                        partnerLink="BigMachineService"
                                                                        portType="ns12:CommerceServicePortType"
                                                                        operation="updateTransaction"
                                                                        xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                        xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                        bpelx:invokeAsDetail="no"
                                                                        xml:id="id_81807"><bpelx:inputProperty name="endpointURI"
                                                                                                               variable="webServiceAddress"
                                                                                                               xml:id="id_81808"/><bpelx:inputProperty name="keystore.recipient.alias"
                                                                                                                                                       variable="KEYSTORE_RECIPIENT_ALIAS"
                                                                                                                                                       xml:id="id_81809"/></invoke></sequence></otherwise>
                     </switch><bpelx:dehydrate name="DehydrateBMService"
                                               xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                               xml:id="id_81879"/><!--<bpelx:dehydrate name="Dehydrate"
                                                                                                         xml:id="id_598"/>-->
                                                                                        <assign name="AssignSuccessRowToDeleteService"
                                                                                                xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                xml:id="id_81869">
      <copy bpelx:ignoreMissingFromData="yes" bpelx:insertMissingToData="yes"
            xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
            xml:id="id_81870">
         <from variable="InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable"
               part="parameters"
               query="/ns6:getEventNotificationLogResponse/ns6:result[$HeaderCount]/ns3:EventNotificationId"
               xml:id="id_81871"/>
         <to variable="InvokeDeleteService_deleteEventNotificationErrors_InputVariable"
             part="parameters"
             query="/ns6:deleteEventNotificationErrors/ns6:eventErrorList[$HeaderCount]/ns3:EventNotificationId"
             xml:id="id_81872"/>
      </copy>
   </assign>
                                                                                    </sequence>
               </case>
               <otherwise xml:id="id_81810">
                  <sequence name="Sequence30" xml:id="id_81811">
                     <assign name="AssignInputToConnectorURL" xml:id="id_81812">
                        <copy xml:id="id_81813">
                           <from expression="oraext:parseXML(bpws:getVariableData('InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable','parameters','/ns6:getEventNotificationLogResponse/ns6:result[$HeaderCount]/ns3:EventPayloadTrans'))"
                                 xml:id="id_81814"/>
                           <to variable="InvokeConnectorURL_pushPayload_InputVariable"
                               part="payload" query="/ns2:results"
                               xml:id="id_81815"/>
                        </copy>
                        <copy xml:id="id_81816">
                           <from expression="'false'" xml:id="id_81817"/>
                           <to variable="eventNotifyFlag" xml:id="id_81818"/>
                        </copy>
                     </assign>
                     <switch name="Switch40" xml:id="id_81819">
                        <case condition="string-length(bpws:getVariableData('CsfKey'))!=0"
                              xml:id="id_81820">
                           <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                             xml:id="id_81821">
                              <bpelx:general xml:id="id_81822">
                                 <bpelx:property name="userLabel"
                                                 xml:id="id_81823">
                                    <![CDATA[InjectCSF]]>
                                 </bpelx:property>
                              </bpelx:general>
                           </bpelx:annotation>
                           <invoke name="InvokeConnectorURLwithCSF"
                                   inputVariable="InvokeConnectorURL_pushPayload_InputVariable"
                                   partnerLink="BusinessEventsConnectorService"
                                   portType="ns18:BusinessEventsConnectorPayload"
                                   operation="pushPayload"
                                   xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                   xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                   bpelx:invokeAsDetail="no" xml:id="id_81824">
                              <bpelx:inputProperty name="endpointURI"
                                                   variable="webServiceAddress"
                                                   xml:id="id_81825"/>
                              <bpelx:inputProperty name="CsfKey"
                                                   variable="CsfKey"
                                                   xml:id="id_81826"/>
                           </invoke>
                        </case>
                        <otherwise xml:id="id_81827">
                           <sequence xml:id="id_81828">
                              <invoke name="InvokeConnectorURL"
                                      inputVariable="InvokeConnectorURL_pushPayload_InputVariable"
                                      partnerLink="BusinessEventsConnectorService"
                                      portType="ns18:BusinessEventsConnectorPayload"
                                      operation="pushPayload"
                                      bpelx:invokeAsDetail="no"
                                      xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                      xml:id="id_81829">
                                 <bpelx:inputProperty name="endpointURI"
                                                      variable="webServiceAddress"
                                                      xml:id="id_81830"/>
                              </invoke>
                              <!--<assign name="AssignEventNotifyFlag"
                                                                                                            xml:id="id_3519">
                                                                                                        <copy xml:id="id_3520">
                                                                                                            <from expression="false()"
                                                                                                                  xml:id="id_3521"/>
                                                                                                            <to variable="eventNotifyFlag"
                                                                                                                xml:id="id_3522"/>
                                                                                                        </copy>
                                                                                                    </assign>-->
                           </sequence>
                        </otherwise>
                     </switch>
                                                                                        <bpelx:dehydrate name="DehydrateConnectorURLwithError"
                                                                                                         xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                         xml:id="id_81835"/>
                                                                                        <assign name="AssignSuccessRowToDeleteService" xml:id="id_81831">
                        <copy bpelx:ignoreMissingFromData="yes"
                              bpelx:insertMissingToData="yes"
                              xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                              xml:id="id_81832">
                           <from variable="InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable"
                                 part="parameters"
                                 xml:id="id_81833"
                                 query="/ns6:getEventNotificationLogResponse/ns6:result[$HeaderCount]/ns3:EventNotificationId"/>
                           <to variable="InvokeDeleteService_deleteEventNotificationErrors_InputVariable"
                               part="parameters"
                               xml:id="id_81834"
                               query="/ns6:deleteEventNotificationErrors/ns6:eventErrorList[$HeaderCount]/ns3:EventNotificationId"/>
                        </copy>
                     </assign>
                                                                                    </sequence>
               </otherwise>
            </switch>
                                                                        </sequence>
      </scope>
                                                                    <assign name="IncrementCounter"
                                                                            xml:id="id_81841">
                                                                        <copy xml:id="id_81842">
                                                                            <from expression="bpws:getVariableData('HeaderCount')+1"
                                                                                  xml:id="id_81843"/>
                                                                            <to variable="HeaderCount"
                                                                                xml:id="id_81844"/>
                                                                        </copy>
                                                                    </assign>
                                                                </sequence>
                                                            </while>
                                                            <switch name="Switch43"
                                                                    xml:id="id_81873">
                                                                <case xml:id="id_81874"
                                                                      condition="string-length(bpws:getVariableData('InvokeDeleteService_deleteEventNotificationErrors_InputVariable','parameters','/ns6:deleteEventNotificationErrors/ns6:eventErrorList')) > 0">
                                                                    <bpelx:annotation xml:id="id_81876">
                                                                        <bpelx:general xml:id="id_81877">
                                                                            <bpelx:property name="userLabel"
                                                                                            xml:id="id_81878">
                                                                                <![CDATA[checkListSize]]>
                                                                            </bpelx:property>
                                                                        </bpelx:general>
                                                                    </bpelx:annotation>
                                                                    <invoke name="InvokeDeleteService"
                                                                            xml:id="id_3653"
                                                                            inputVariable="InvokeDeleteService_deleteEventNotificationErrors_InputVariable"
                                                                            outputVariable="InvokeDeleteService_deleteEventNotificationErrors_OutputVariable"
                                                                            partnerLink="ProcessEventService"
                                                                            portType="ns3:ProcessEventService"
                                                                            operation="deleteEventNotificationErrors"
                                                                            bpelx:invokeAsDetail="no"/>
                                                                </case>
                                                            </switch>
                                                            <!--<assign name="ErrorInputToDeleteService"
                                                                    xml:id="id_3654">
                                                                <bpelx:annotation xml:id="id_3655">
                                                                    <bpelx:pattern xml:id="id_3656">transformation</bpelx:pattern>
                                                                </bpelx:annotation>
                                                                <copy xml:id="id_3657">
                                                                    <from xml:id="id_3658"
                                                                          expression="ora:doXSLTransformForDoc('xsl/ErrorEventToDeleteService.xsl', $inputVariable0)"/>
                                                                    <to xml:id="id_3659"
                                                                        variable="InvokeDeleteService_deleteEventNotificationErrors_InputVariable"
                                                                        part="parameters"/>
                                                                </copy>
                                                            </assign>-->
                                                        </sequence>
                                                    </scope>
                                                    </sequence>
                                                    </scope>
                                                    </sequence>
                                                    </case>
                                                    </switch>
                                                    </sequence>
                                                    </sequence>
                                                    </scope>
                                                    </sequence>
                                                   
            </onMessage>
            <onMessage xml:id="id_326"
                       bpelx:eventName="ns9:DOOFulfillLineClosed"
                       variable="flineClosedEvent_InputVariable">
                <sequence name="FlineClosedEventSequence" xml:id="id_329">
                    <assign name="AssignSetupVar" xml:id="id_341">
                        <copy xml:id="id_342">
                            <from expression="ora:setCompositeInstanceTitle(concat('FULFILL_LINE_ID=',string(bpws:getVariableData('flineClosedEvent_InputVariable','/ns8:DOOFulfillLineClosedInfo/ns8:FulfillLineId/ns8:oldValue/@value'))))"
                                  xml:id="id_343"/>
                            <to variable="COMPOSITE_TITLE_VAR" xml:id="id_344"/>
                        </copy>
                        <copy xml:id="id_2761">
                            <from expression="xp20:current-dateTime()"
                                  xml:id="id_2762"/>
                            <to variable="OriginalNotifyDate" xml:id="id_2763"/>
                        </copy>
                    </assign>
                    <scope name="FlineClosedEventScope" xml:id="id_330"
                           variableAccessSerializable="no">
                        <variables xml:id="id_333">
                            <variable name="InvokeMediatorForFlineClosedEvent_InputVariable"
                                      messageType="ns4:flineClosedrequestMessage"
                                      xml:id="id_334"/>
                            <variable name="webServiceAddress" type="xsd:string"
                                      xml:id="id_1830"/>
                            <variable name="loopCounter" type="xsd:integer"
                                      xml:id="id_1831"/>
                            <variable name="flineId" type="xsd:long"
                                      xml:id="id_1832"/>
                            <variable name="CsfKey" type="xsd:string"
                                      xml:id="id_2244"/>
                            <variable name="KeyStoreRecipientAlias"
                                      type="xsd:string" xml:id="id_2245"/>
                        </variables>
                        <sequence name="FlineClosedEventSubSequence"
                                  xml:id="id_331">
                            <sequence name="GetConnectorUriSequence"
                                      xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                      xml:id="id_1772">
                                <assign name="AssignEventCode" xml:id="id_1773">
                                    <copy xml:id="id_1774">
                                        <from expression="'FULFILL_LINE_CLOSE'"
                                              xml:id="id_1775"/>
                                        <to variable="getEventConnectorInfo_InputVariable"
                                            part="parameters" xml:id="id_1776"
                                            query="/ns6:getEventConnectorInfo/ns6:eventCode"/>
                                    </copy>
                                    <copy xml:id="id_1777">
                                        <from expression="bpws:getVariableData('flineClosedEvent_InputVariable','/ns8:DOOFulfillLineClosedInfo/ns8:FulfillLineId/ns8:newValue/@value')"
                                              xml:id="id_1778"/>
                                        <to variable="flineId"
                                            xml:id="id_1779"/>
                                    </copy>
                                    <copy bpelx:insertMissingToData="yes"
                                          xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                          xml:id="id_1780">
                                        <from expression="bpws:getVariableData('flineId')"
                                              xml:id="id_1781"/>
                                        <to variable="getEventConnectorInfo_InputVariable"
                                            part="parameters" xml:id="id_1782"
                                            query="/ns6:getEventConnectorInfo/ns6:flineIds"/>
                                    </copy>
                                </assign>
                                <invoke name="InvokeGetEventConnectorInfo"
                                        inputVariable="getEventConnectorInfo_InputVariable"
                                        outputVariable="getEventConnectorInfo_OutputVariable"
                                        partnerLink="ProcessEventService"
                                        portType="ns3:ProcessEventService"
                                        operation="getEventConnectorInfo"
                                        xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                        xml:id="id_1783"
                                        bpelx:invokeAsDetail="no"/>
                                <bpelx:dehydrate name="DehydrateConnectorUriInfo"
                                                 xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                 xml:id="id_1784"/>
                                <assign name="AssignCount" xml:id="id_1785">
                                    <copy bpelx:insertMissingToData="yes"
                                          xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                          xml:id="id_1786">
                                        <from expression="count(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result'))"
                                              xml:id="id_1787"/>
                                        <to variable="loopCounter"
                                            xml:id="id_1788"/>
                                    </copy>
                                </assign>
                                <switch name="Switch12" xml:id="id_2064">
                                    <case xml:id="id_2065"
                                          condition="bpws:getVariableData('loopCounter')>0">
                                        <bpelx:annotation xml:id="id_2067">
                                            <bpelx:pattern xml:id="id_2070">hasValidConnector</bpelx:pattern>
                                            <bpelx:general xml:id="id_2068">
                                                <bpelx:property name="userLabel"
                                                                xml:id="id_2069">
                                                    <![CDATA[hasValidConnector]]>
                                                </bpelx:property>
                                            </bpelx:general>
                                        </bpelx:annotation>
                                        <while name="While1"
                                               condition="bpws:getVariableData('loopCounter') > 0"
                                               xml:id="id_1789">
                                            <sequence name="IteratorSequence"
                                                      xml:id="id_1790">
                                                <switch name="Switch6"
                                                        xml:id="id_1791">
                                                    <case condition="(xp20:compare(string(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:ServiceName')),'DOO_BUSINESS_EVENT_NOTIFICATION')=0)"
                                                          xml:id="id_1792">
                                                        <bpelx:annotation xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                          xml:id="id_1793">
                                                            <bpelx:pattern xml:id="id_1794">Before Release 11</bpelx:pattern>
                                                            <bpelx:general xml:id="id_1795">
                                                                <bpelx:property name="userLabel"
                                                                                xml:id="id_1796">
                                                                    <![CDATA[BackwardCompatibility]]>
                                                                </bpelx:property>
                                                            </bpelx:general>
                                                        </bpelx:annotation>
                                                        <scope name="FlineCloseMediatorScope"
                                                               variableAccessSerializable="no"
                                                               xml:id="id_1797">
                                                            <sequence name="Sequence6"
                                                                      xml:id="id_1798">
                                                                <assign name="EventInputToMediatorInputTransform"
                                                                        xml:id="id_335">
                                                                    <bpelx:annotation xml:id="id_336">
                                                                        <bpelx:pattern xml:id="id_337">transformation</bpelx:pattern>
                                                                    </bpelx:annotation>
                                                                    <copy xml:id="id_338">
                                                                        <from xml:id="id_339"
                                                                              expression="ora:doXSLTransformForDoc('xsl/XformFlineClosedEvent2MediatorInput.xsl', $flineClosedEvent_InputVariable)"/>
                                                                        <to xml:id="id_340"
                                                                            variable="InvokeMediatorForFlineClosedEvent_InputVariable"
                                                                            part="request"/>
                                                                    </copy>
                                                                </assign>
                                                                <invoke name="InvokeMediatorForFlineClosedEvent"
                                                                        xml:id="id_332"
                                                                        bpelx:invokeAsDetail="no"
                                                                        inputVariable="InvokeMediatorForFlineClosedEvent_InputVariable"
                                                                        partnerLink="BusinessEventNotificationMediator.BusinessEventNotificationMediator"
                                                                        portType="ns4:execute_ptt"
                                                                        operation="flineClosedEvent"/>
                                                                <bpelx:dehydrate name="DehydrateInvokeMediatorForFlineClosedEvent"
                                                                                 xml:id="id_2021"/>
                                                            </sequence>
                                                        </scope>
                                                    </case>
                                                    <otherwise xml:id="id_1806">
                                                        <sequence xml:id="id_2669">
                                                            <switch name="Switch22"
                                                                    xml:id="id_2382">
                                                                <case xml:id="id_2383"
                                                                      condition="string-length(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:CsfKey'))>0 or string-length(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:KeyStoreRecipientAlias'))>0">
                                                                    <bpelx:annotation xml:id="id_2450">
                                                                        <bpelx:general xml:id="id_2451">
                                                                            <bpelx:property name="userLabel"
                                                                                            xml:id="id_2452">
                                                                                <![CDATA[CheckCsfKeyAndKeyAlias]]>
                                                                            </bpelx:property>
                                                                        </bpelx:general>
                                                                    </bpelx:annotation>
                                                                    <assign name="AssignCsfKeyandKeystoreAlias"
                                                                            xml:id="id_2385">
                                                                        <copy xml:id="id_2444">
                                                                            <from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:CsfKey')"
                                                                                  xml:id="id_2445"/>
                                                                            <to variable="CsfKey"
                                                                                xml:id="id_2446"/>
                                                                        </copy>
                                                                        <copy xml:id="id_2447">
                                                                            <from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:KeyStoreRecipientAlias')"
                                                                                  xml:id="id_2448"/>
                                                                            <to variable="KeyStoreRecipientAlias"
                                                                                xml:id="id_2449"/>
                                                                        </copy>
                                                                    </assign>
                                                                </case>
                                                            </switch>
                                                            <scope name="FlineStatusUpdateConnectorURIsScope"
                                                                   variableAccessSerializable="no"
                                                                   xml:id="id_1807">
                                                                <bpelx:annotation xml:id="id_2022">
                                                                    <bpelx:general xml:id="id_2023">
                                                                        <bpelx:property name="userLabel"
                                                                                        xml:id="id_2024">
                                                                            <![CDATA[FlineCloseConnectorURIsScope]]>
                                                                        </bpelx:property>
                                                                    </bpelx:general>
                                                                </bpelx:annotation>
                                                                <variables xml:id="id_1834">
                                                                    <variable name="InvokeDummyExternalSystem_process_InputVariable"
                                                                              messageType="ns15:FulfillLineEventRequestMessage"
                                                                              xml:id="id_1835"/>
                                                                    <variable name="InvokeConnectorURLForFlineCloseEvent_pushPayload_InputVariable"
                                                                              messageType="ns18:BusinessEventsConnectorPayloadRequestMessage"
                                                                              xml:id="id_2217"/>
                                                                </variables>
                                                                <sequence name="FlineCloseConnectorURIsSequence"
                                                                          xml:id="id_1808">
                                                                    <assign name="AssignUri"
                                                                            xml:id="id_1809">
                                                                        <copy xml:id="id_1810">
                                                                            <from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:ServiceURI')"
                                                                                  xml:id="id_1811"/>
                                                                            <to variable="webServiceAddress"
                                                                                xml:id="id_1812"/>
                                                                        </copy>
                                                                        <copy xml:id="id_3583">
                                                                            <from expression="false()"
                                                                                  xml:id="id_3584"/>
                                                                            <to variable="eventNotifyFlag"
                                                                                xml:id="id_3585"/>
                                                                        </copy>
                                                                    </assign>
                                                                    <!--<assign name="AssignDataToInvokeConnectorURL"
                                                                        xml:id="id_1813">
                                                                    <copy xml:id="id_1836">
                                                                        <from variable="flineClosedEvent_InputVariable"
                                                                              xml:id="id_1837"
                                                                              query="/ns8:DOOFulfillLineClosedInfo/ns8:FulfillLineId/ns8:oldValue"/>
                                                                        <to variable="InvokeDummyExternalSystem_process_InputVariable"
                                                                            part="payload"
                                                                            xml:id="id_1838"
                                                                            query="/ns11:fulfillLine/ns11:FulfillLineId"/>
                                                                    </copy>
                                                                    <copy xml:id="id_1839">
                                                                        <from variable="flineClosedEvent_InputVariable"
                                                                              query="/ns8:DOOFulfillLineClosedInfo/ns8:SourceOrderNumber/ns8:oldValue"
                                                                              xml:id="id_1840"/>
                                                                        <to variable="InvokeDummyExternalSystem_process_InputVariable"
                                                                            part="payload"
                                                                            query="/ns11:fulfillLine/ns11:SourceOrderNumber"
                                                                            xml:id="id_1841"/>
                                                                    </copy>
                                                                </assign>-->
                                                                    <assign name="AssignDataToInvokeConnectorURL"
                                                                            xml:id="id_2218">
                                                                        <bpelx:annotation xml:id="id_2219">
                                                                            <bpelx:pattern xml:id="id_2220">transformation</bpelx:pattern>
                                                                        </bpelx:annotation>
                                                                        <copy xml:id="id_2221">
                                                                            <from xml:id="id_2222"
                                                                                  expression="ora:doXSLTransformForDoc('xsl/FlineCloseEventToConnectorURL.xsl', $flineClosedEvent_InputVariable)"/>
                                                                            <to xml:id="id_2223"
                                                                                variable="InvokeConnectorURLForFlineCloseEvent_pushPayload_InputVariable"
                                                                                part="payload"/>
                                                                        </copy>
                                                                    </assign>
                                                                    <scope name="Scope7"
                                                                           xml:id="id_3128">
                                                                        <faultHandlers xml:id="id_3129">
                                                                            <catchAll xml:id="id_3130"><sequence name="Sequence34"
                                                                                                   xml:id="id_3619"><assign name="AssignLogEvent"
                                                                                                                            xml:id="id_3131"><copy xml:id="id_3132"><from variable="OriginalNotifyDate"
                                                                                                                                                                          xml:id="id_3133"/><to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                                                                                                part="parameters"
                                                                                                                                                                                                xml:id="id_3134"
                                                                                                                                                                                                query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"/></copy><copy xml:id="id_3144"><from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForFlineCloseEvent_pushPayload_InputVariable','payload','/ns2:results'))"
                                                                                                                                                                                                                                                                                                             xml:id="id_3145"/><to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                                                                                                                                                                                                                                   part="parameters"
                                                                                                                                                                                                                                                                                                                                   xml:id="id_3146"
                                                                                                                                                                                                                                                                                                                                   query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"/></copy><copy xml:id="id_3266"><from variable="InvokeConnectorURLForFlineCloseEvent_pushPayload_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                          part="payload"
                                                                                                                                                                                                                                                                                                                                                                                                                                          query="/ns2:results/ns2:OrderHeader/ns2:EventCode"
                                                                                                                                                                                                                                                                                                                                                                                                                                          xml:id="id_3267"/><to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                part="parameters"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                xml:id="id_3268"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode"/></copy><copy xml:id="id_3172"><from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:WebServiceId')"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      xml:id="id_3173"/><to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            part="parameters"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            xml:id="id_3174"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId"/></copy><copy xml:id="id_3269"><from expression="string(bpws:getVariableData('flineClosedEvent_InputVariable','/ns8:DOOFulfillLineClosedInfo/ns8:Line1.Header1.HeaderId/ns8:newValue/@value'))"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   xml:id="id_3270"/><to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         part="parameters"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         xml:id="id_3271"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"/></copy><copy xml:id="id_3272"><from expression="string(bpws:getVariableData('flineClosedEvent_InputVariable','/ns8:DOOFulfillLineClosedInfo/ns8:FulfillLineId/ns8:newValue/@value'))"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 xml:id="id_3273"/><to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       part="parameters"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       xml:id="id_3274"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       query="/ns6:logEventNotificationError/ns6:input/ns3:EventSublineId"/></copy><copy xml:id="id_3498"><from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForFlineCloseEvent_pushPayload_InputVariable','payload','/ns2:results'))"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                xml:id="id_3499"/><to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      part="parameters"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      query="/ns6:logEventNotificationError/ns6:input/ns3:EventlogPayload"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      xml:id="id_3500"/></copy><copy xml:id="id_3546"><from expression="true()"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            xml:id="id_3547"/><to variable="eventNotifyFlag"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  xml:id="id_3548"/></copy></assign><invoke name="InvokeEventNotify"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            inputVariable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            outputVariable="InvokeLogEventNotify_logEventNotificationError_OutputVariable"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            partnerLink="ProcessEventService"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            portType="ns3:ProcessEventService"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            operation="logEventNotificationError"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            bpelx:invokeAsDetail="no"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            xml:id="id_3620"/></sequence></catchAll>
                                                                        </faultHandlers>
                                                                        <switch name="Switch27"
                                                                                xml:id="id_2509">
                                                                            <case xml:id="id_81897"
                                                                                  condition="string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0 and string-length(bpws:getVariableData('CsfKey')) &lt;=0">
                                                                                <bpelx:annotation xml:id="id_81901">
                                                                                    <bpelx:general xml:id="id_81902">
                                                                                        <bpelx:property name="userLabel"
                                                                                                        xml:id="id_81903">
                                                                                            <![CDATA[KeyStoreAlias]]>
                                                                                        </bpelx:property>
                                                                                    </bpelx:general>
                                                                                </bpelx:annotation><invoke name="InvokeConnectorURLForFlineCloseEvent"
                                                                                                           inputVariable="InvokeConnectorURLForFlineCloseEvent_pushPayload_InputVariable"
                                                                                                           partnerLink="BusinessEventsConnectorService"
                                                                                                           portType="ns18:BusinessEventsConnectorPayload"
                                                                                                           xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                           operation="pushPayload"
                                                                                                           bpelx:invokeAsDetail="no"
                                                                                                           xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                           xml:id="id_81908">
      <bpelx:inputProperty name="keystore.recipient.alias"
                           variable="KeyStoreRecipientAlias" xml:id="id_81909"/>
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81910"/>
   </invoke></case>
                                                                            <case xml:id="id_81896"
                                                                                  condition="string-length(bpws:getVariableData('CsfKey')) !=0 and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) &lt;=0">
                                                                                <bpelx:annotation xml:id="id_81898">
                                                                                    <bpelx:general xml:id="id_81899">
                                                                                        <bpelx:property name="userLabel"
                                                                                                        xml:id="id_81900">
                                                                                            <![CDATA[CsfKey]]>
                                                                                        </bpelx:property>
                                                                                    </bpelx:general>
                                                                                </bpelx:annotation><invoke name="InvokeConnectorURLForFlineCloseEvent"
                                                                                                           inputVariable="InvokeConnectorURLForFlineCloseEvent_pushPayload_InputVariable"
                                                                                                           partnerLink="BusinessEventsConnectorService"
                                                                                                           portType="ns18:BusinessEventsConnectorPayload"
                                                                                                           xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                           operation="pushPayload"
                                                                                                           bpelx:invokeAsDetail="no"
                                                                                                           xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                           xml:id="id_81904">
   
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81906"/>
      <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_81907"/>
   </invoke></case>
                                                                            <case xml:id="id_2510"
                                                                                  condition="string-length(bpws:getVariableData('CsfKey')) !=0 and string-length(bpws:getVariableData('KeyStoreRecipientAlias')) !=0">
                                                                                <bpelx:annotation xml:id="id_2515">
                                                                                    <bpelx:general xml:id="id_2516">
                                                                                        <bpelx:property name="userLabel"
                                                                                                        xml:id="id_2517">
                                                                                            <![CDATA[CsfKeyAndKeyStoreAlias]]>
                                                                                        </bpelx:property>
                                                                                    </bpelx:general>
                                                                                </bpelx:annotation>
                                                                                <invoke name="InvokeConnectorURLForFlineCloseEvent"
                                                                                        inputVariable="InvokeConnectorURLForFlineCloseEvent_pushPayload_InputVariable"
                                                                                        partnerLink="BusinessEventsConnectorService"
                                                                                        portType="ns18:BusinessEventsConnectorPayload"
                                                                                        xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                        xml:id="id_1823"
                                                                                        operation="pushPayload"
                                                                                        bpelx:invokeAsDetail="no">
                                                                                    <bpelx:inputProperty name="keystore.recipient.alias"
                                                                                                         variable="KeyStoreRecipientAlias"
                                                                                                         xml:id="id_2252"/>
                                                                                    <bpelx:inputProperty name="endpointURI"
                                                                                                         variable="webServiceAddress"
                                                                                                         xml:id="id_1824"/>
                                                                                    <bpelx:inputProperty name="csf-key"
                                                                                                         variable="CsfKey"
                                                                                                         xml:id="id_2748"/>
                                                                                </invoke>
                                                                            </case>
                                                                            <otherwise xml:id="id_2511">
                                                                                <invoke name="InvokeConnectorURLForFlineCloseEvent"
                                                                                        inputVariable="InvokeConnectorURLForFlineCloseEvent_pushPayload_InputVariable"
                                                                                        partnerLink="BusinessEventsConnectorService"
                                                                                        portType="ns18:BusinessEventsConnectorPayload"
                                                                                        xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                        operation="pushPayload"
                                                                                        xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                        xml:id="id_2512"
                                                                                        bpelx:invokeAsDetail="no">
                                                                                    <bpelx:inputProperty name="endpointURI"
                                                                                                         variable="webServiceAddress"
                                                                                                         xml:id="id_2514"/>
                                                                                </invoke>
                                                                            </otherwise>
                                                                        </switch>
                                                                    </scope>
                                                                    <bpelx:dehydrate name="DehydrateInvokeConnectorURLForFlineCloseEvent"
                                                                                     xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                     xml:id="id_1825"/>
                                                                    <assign name="ResetCsfAndKeyStoreVar"
                                                                            xml:id="id_2605">
                                                                        <copy xml:id="id_2606">
                                                                            <from expression="''"
                                                                                  xml:id="id_2607"/>
                                                                            <to variable="CsfKey"
                                                                                xml:id="id_2608"/>
                                                                        </copy>
                                                                        <copy xml:id="id_2609">
                                                                            <from expression="''"
                                                                                  xml:id="id_2610"/>
                                                                            <to variable="KeyStoreRecipientAlias"
                                                                                xml:id="id_2611"/>
                                                                        </copy>
                                                                    </assign>
                                                                </sequence>
                                                            </scope>
                                                        </sequence>
                                                    </otherwise>
                                                </switch>
                                                <assign name="DecrementCountVar"
                                                        xml:id="id_1826">
                                                    <copy xml:id="id_1827">
                                                        <from expression="bpws:getVariableData('loopCounter')-1"
                                                              xml:id="id_1828"/>
                                                        <to variable="loopCounter"
                                                            xml:id="id_1829"/>
                                                    </copy>
                                                </assign>
                                            </sequence>
                                        </while>
                                    </case>
                                    <otherwise xml:id="id_2066">
                                        <terminate name="TerminateFlineCloseEvent"
                                                   xml:id="id_2071"/>
                                    </otherwise>
                                </switch>
                            </sequence>
                        </sequence>
                    </scope>
                </sequence>
            </onMessage>
            <!--<onMessage xml:id="id_345"
                       bpelx:eventName="ns9:OrderOrchestrationStatusUpdate"
                       variable="fulfillLineStatusUpdate_inputVariable"/>-->
             <onMessage xml:id="id_346"
                       bpelx:eventName="ns9:OrderOrchestrationStatusUpdate"
                       variable="event_Input">
                <sequence name="StatusUpdate" xml:id="id_71698">
                    <switch name="SourceSystemSwitch" xml:id="id_71708">
                        <case xml:id="id_71709"
                              condition="contains(bpws:getVariableData('event_Input','/ns8:OrderOrchestrationStatusUpdateInfo/ns8:SourceOrderSystem/ns8:newValue/@value'),'BM_CPQ')">
                            <bpelx:annotation xml:id="id_81711">
                                <bpelx:general xml:id="id_81712">
                                    <bpelx:property name="userLabel"
                                                    xml:id="id_81713">
                                        <![CDATA[BMFlow]]>
                                    </bpelx:property>
                                </bpelx:general>
                            </bpelx:annotation>
                            <sequence name="BMStatusUpdate" xml:id="id_351">
                                
                                <scope name="Scope1" xml:id="id_407">
                                    <bpelx:annotation xml:id="id_438">
                                        <bpelx:general xml:id="id_439">
                                            <bpelx:property name="userLabel"
                                                            xml:id="id_440">
                                                <![CDATA[ScopeGetWebServiceDetails]]>
                                            </bpelx:property>
                                        </bpelx:general>
                                    </bpelx:annotation>
                                    <!--  <variables xml:id="id_409">
                            <variable name="webServiceAddress"
                                      element="wsa:EndpointReference"
                                      xml:id="id_410"/>
                            <variable name="CSF-KEY" type="xsd:string"
                                      xml:id="id_411"/>
                            <variable name="KEYSTORE_RECIPIENT_ALIAS"
                                      type="xsd:string" xml:id="id_412"/>
                            <variable name="WebServiceAddress"
                                      element="wsa:EndpointReference"
                                      xml:id="id_428"/>
                        </variables>-->
                                    <sequence xml:id="id_408">
                                        <empty name="CallTogetBMConnectorService"
                                               xml:id="id_358"/>
                                        <assign name="TransformtoConnectorService"
                                                xml:id="id_363">
                                            <bpelx:annotation xml:id="id_364">
                                                <bpelx:pattern xml:id="id_365">transformation</bpelx:pattern>
                                            </bpelx:annotation>
                                            <copy xml:id="id_366">
                                                <from xml:id="id_367"
                                                      expression="ora:doXSLTransformForDoc('xsl/BMConnectorMapper.xsl', $event_Input)"/>
                                                <to xml:id="id_368"
                                                    variable="input_getBMConnectorInfo"
                                                    part="parameters"/>
                                            </copy>
                                        </assign>
                                        <invoke name="InvokegetBMConnector"
                                                xml:id="id_359"
                                                inputVariable="input_getBMConnectorInfo"
                                                partnerLink="ProcessEventService"
                                                portType="ns3:ProcessEventService"
                                                operation="getBMConnectorInfo"
                                                outputVariable="output_getBMConnectorInfo"
                                                bpelx:invokeAsDetail="no"/>
                                        <switch name="Switch3" xml:id="id_523">
                                            <case xml:id="id_524"
                                                  condition="string-length(bpws:getVariableData('output_getBMConnectorInfo','parameters','/ns6:getBMConnectorInfoResponse/ns6:result/ns3:CsfKey'))>0 or string-length(bpws:getVariableData('output_getBMConnectorInfo','parameters','/ns6:getBMConnectorInfoResponse/ns6:result/ns3:KeystoreRecipientAlias'))>0">
                                                <bpelx:annotation xml:id="id_526">
                                                    <bpelx:general xml:id="id_527">
                                                        <bpelx:property name="userLabel"
                                                                        xml:id="id_528">
                                                            <![CDATA[CheckCSFKeyAndAlias]]>
                                                        </bpelx:property>
                                                    </bpelx:general>
                                                </bpelx:annotation>
                                                <assign name="AssignCSFKeyValue"
                                                        xml:id="id_413">
                                                    <copy xml:id="id_414">
                                                        <from variable="output_getBMConnectorInfo"
                                                              part="parameters"
                                                              xml:id="id_415"
                                                              query="/ns6:getBMConnectorInfoResponse/ns6:result/ns3:CsfKey"/>
                                                        <to variable="CSF-KEY"
                                                            xml:id="id_416"/>
                                                    </copy>
                                                    <copy xml:id="id_417">
                                                        <from variable="output_getBMConnectorInfo"
                                                              part="parameters"
                                                              query="/ns6:getBMConnectorInfoResponse/ns6:result/ns3:KeystoreRecipientAlias"
                                                              xml:id="id_418"/>
                                                        <to variable="KEYSTORE_RECIPIENT_ALIAS"
                                                            xml:id="id_419"/>
                                                    </copy>
                                                </assign>
                                            </case>
                                        </switch>
                                        <assign name="AssignServiceUri"
                                                xml:id="id_420">
                                            <copy xml:id="id_421">
                                                <from variable="output_getBMConnectorInfo"
                                                      part="parameters"
                                                      xml:id="id_422"
                                                      query="/ns6:getBMConnectorInfoResponse/ns6:result/ns3:ServiceUri"/>
                                                <to variable="webServiceAddress"
                                                    xml:id="id_423"
                                                    query="/wsa:EndpointReference/wsa:Address"/>
                                            </copy>
                                        </assign>
                                        <assign name="OverrideServiceAddress"
                                                xml:id="id_424">
                                            <copy xml:id="id_429">
                                                <from variable="webServiceAddress"
                                                      xml:id="id_430"/>
                                                <to partnerLink="BigMachineService"
                                                    xml:id="id_431"/>
                                            </copy>
                                        </assign>
                                    </sequence>
                                </scope>
                                <scope name="ScopeInvokeBMService"
                                       xml:id="id_436"
                                       variableAccessSerializable="no">
                                    <faultHandlers xml:id="id_441">
                                        <catchAll xml:id="id_442">
                                            <sequence name="Sequence2"
                                                      xml:id="id_446">
                                                <assign name="AssignLogEventNotification" xml:id="id_499">
                                                    <copy xml:id="id_520">
                                                        <from expression="xp20:current-dateTime()"
                                                              xml:id="id_521"/>
                                                        <to variable="logEventNotificationError_Input"
                                                            part="parameters"
                                                            xml:id="id_522"
                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"/>
                                                    </copy>
                                                    <copy xml:id="id_81717">
                                                        <from expression="oraext:get-content-as-string(bpws:getVariableData('BMService_updateTransaction_Input','updateTransaction','/ns12:updateTransaction'))"
                                                             xml:id="id_81718"/>
                                                        <to variable="logEventNotificationError_Input"
                                                            part="parameters"
                                                            xml:id="id_71719"
                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"/>
                                                    </copy>
                                                    <copy xml:id="id_506">
                                                        <from variable="output_getBMConnectorInfo"
                                                              part="parameters"
                                                              xml:id="id_507"
                                                              query="/ns6:getBMConnectorInfoResponse/ns6:result/ns3:WebServiceId"/>
                                                        <to variable="logEventNotificationError_Input"
                                                            part="parameters"
                                                            xml:id="id_508"
                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId"/>
                                                    </copy>
                                                    <copy xml:id="id_558">
                                                        <from expression="'BM_ERROR'"
                                                              xml:id="id_559"/>
                                                        <to variable="logEventNotificationError_Input"
                                                            part="parameters"
                                                            xml:id="id_560"
                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode"/>
                                                    </copy>
                                                    <copy xml:id="id_71723">
                                                        <from variable="event_Input"
                                                              query="/ns8:OrderOrchestrationStatusUpdateInfo/ns8:Line1.HeaderId/ns8:newValue/@value"
                                                              xml:id="id_71724"/>
                                                        <to variable="logEventNotificationError_Input"
                                                            part="parameters"
                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"
                                                            xml:id="id_71725"/>
                                                    </copy>
                                                    <copy xml:id="id_81726">
                                                        <from variable="event_Input"
                                                              query="/ns8:OrderOrchestrationStatusUpdateInfo/ns8:FulfillLineId/ns8:newValue/@value"
                                                              xml:id="id_71727"/>
                                                        <to variable="logEventNotificationError_Input"
                                                            part="parameters"
                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:EventSublineId"
                                                            xml:id="id_71728"/>
                                                    </copy>
                                                    <copy xml:id="id_71729">
                                                        <from expression="oraext:get-content-as-string(bpws:getVariableData('BMService_updateTransaction_Input','updateTransaction','/ns12:updateTransaction'))"
                                                              xml:id="id_71730"/>
                                                        <to variable="logEventNotificationError_Input"
                                                            part="parameters"
                                                            xml:id="id_71731"
                                                            query="/ns6:logEventNotificationError/ns6:input/ns3:EventlogPayload"/>
                                                    </copy>
                                                </assign>
                                                <!--<assign name="XformToLogErrors" xml:id="id_447">
                                        <bpelx:annotation xml:id="id_448">
                                            <bpelx:pattern xml:id="id_449">transformation</bpelx:pattern>
                                        </bpelx:annotation>
                                        <copy xml:id="id_451">
                                            <from xml:id="id_452"
                                                  expression="ora:doXSLTransformForDoc('xsl/XformToLogError.xsl', $event_Input, 'output_getBMConnectorInfo.parameters', $output_getBMConnectorInfo.parameters)"/>
                                            <to xml:id="id_453"
                                                variable="logEventNotificationError_Input"
                                                part="parameters"/>
                                        </copy>
                                    </assign>-->
                                                <invoke name="InvokeLogEventNotification"
                                            xml:id="id_443"
                                            inputVariable="logEventNotificationError_Input"
                                            outputVariable="logEventNotificationError_Output"
                                            partnerLink="ProcessEventService"
                                            portType="ns3:ProcessEventService"
                                            operation="logEventNotificationError"
                                                        bpelx:invokeAsDetail="no"/>
                                            </sequence>
                                        </catchAll>
                                    </faultHandlers>
                                    <sequence xml:id="id_437">
                                        <assign name="TransformBMService"
                                                xml:id="id_376">
                                            <bpelx:annotation xml:id="id_377">
                                                <bpelx:pattern xml:id="id_378">transformation</bpelx:pattern>
                                            </bpelx:annotation>
                                            <copy xml:id="id_379">
                                                <from xml:id="id_380"
                                                      expression="ora:doXSLTransformForDoc('xsl/XformToBMVirutalService.xsl', $output_getBMConnectorInfo.parameters, 'event_Input', $event_Input)"/>
                                                <to xml:id="id_381"
                                                    part="updateTransaction"
                                                    variable="BMService_updateTransaction_Input"/>
                                            </copy>
                                        </assign>
                                        <!--condition="(bpws:getVariableData('event_Input','/ns8:OrderOrchestrationStatusUpdateInfo/ns8:StatusCode/ns8:newValue/@value') != &quot;SCHEDULED&quot; )and (bpws:getVariableData('event_Input','/ns8:OrderOrchestrationStatusUpdateInfo/ns8:StatusCode/ns8:newValue/@value') != &quot;AWAIT_BILLING&quot;) and (bpws:getVariableData('event_Input','/ns8:OrderOrchestrationStatusUpdateInfo/ns8:StatusCode/ns8:newValue/@value') != &quot;RESERVED&quot;) and (bpws:getVariableData('event_Input','/ns8:OrderOrchestrationStatusUpdateInfo/ns8:StatusCode/ns8:newValue/@value') != &quot;SHIPPED&quot;) and (bpws:getVariableData('event_Input','/ns8:OrderOrchestrationStatusUpdateInfo/ns8:StatusCode/ns8:newValue/@value') != &quot;AWAIT_SHIPPING&quot;)">-->
                                        <switch name="Switch5" xml:id="id_637">
                                            <case xml:id="id_638"
                                                  condition="(bpws:getVariableData('event_Input','/ns8:OrderOrchestrationStatusUpdateInfo/ns8:InvoiceFlag/ns8:newValue/@value')='Y')">
                                                <bpelx:annotation xml:id="id_640">
                                                    <bpelx:general xml:id="id_641">
                                                        <bpelx:property name="userLabel"
                                                                        xml:id="id_642">
                                                            <![CDATA[CheckForInvoiceFlag]]>
                                                        </bpelx:property>
                                                    </bpelx:general>
                                                </bpelx:annotation>
                                                <sequence xml:id="id_649">
                                                    <assign name="XforToGetInvoicePayload"
                                                            xml:id="id_653">
                                                        <bpelx:annotation xml:id="id_654">
                                                            <bpelx:pattern xml:id="id_655">transformation</bpelx:pattern>
                                                        </bpelx:annotation>
                                                        <copy xml:id="id_656">
                                                            <from xml:id="id_657"
                                                                  expression="ora:doXSLTransformForDoc('xsl/xform2GetInvoicePayload.xsl', $event_Input)"/>
                                                            <to xml:id="id_658"
                                                                variable="getPayloadForInvoice_Input"
                                                                part="parameters"/>
                                                        </copy>
                                                    </assign>
                                                    <invoke name="InvokeGetPayloadForInvoice"
                                                            xml:id="id_643"
                                                            inputVariable="getPayloadForInvoice_Input"
                                                            outputVariable="getPayloadForInvoice_Output"
                                                            partnerLink="ProcessEventService"
                                                            portType="ns3:ProcessEventService"
                                                            operation="getPayloadForInvoice"
                                                            bpelx:invokeAsDetail="no"/>
                                                    <assign name="InvValues2BMService"
                                                            xml:id="id_646">
                                                        <bpelx:annotation xml:id="id_647">
                                                            <bpelx:pattern xml:id="id_648">transformation</bpelx:pattern>
                                                        </bpelx:annotation>
                                                        <copy xml:id="id_650">
                                                            <from xml:id="id_651"
                                                                  expression="ora:doXSLTransformForDoc('xsl/XformInvoice2BMService.xsl', $getPayloadForInvoice_Output.parameters, 'event_Input', $event_Input)"/>
                                                            <to xml:id="id_652"
                                                                variable="BMService_updateTransaction_Input"
                                                                part="updateTransaction"/>
                                                        </copy>
                                                    </assign>
                                                </sequence>
                                            </case>
                                        </switch>
                                        <switch name="Switch6" xml:id="id_668">
                                            <case xml:id="id_680"
                                                  condition="string-length(bpws:getVariableData('output_getBMConnectorInfo','parameters','/ns6:getBMConnectorInfoResponse/ns6:result/ns3:KeystoreRecipientAlias'))>0 and string-length(bpws:getVariableData('output_getBMConnectorInfo','parameters','/ns6:getBMConnectorInfoResponse/ns6:result/ns3:CsfKey'))&lt;=0">
                                                <bpelx:annotation xml:id="id_681">
                                                    <bpelx:general xml:id="id_682">
                                                        <bpelx:property name="userLabel"
                                                                        xml:id="id_683">
                                                            <![CDATA[KeyStoreAlias]]>
                                                        </bpelx:property>
                                                    </bpelx:general>
                                                </bpelx:annotation>
                                                <invoke name="InvokeBMService"
                                                        partnerLink="BigMachineService"
                                                        portType="ns12:CommerceServicePortType"
                                                        operation="updateTransaction"
                                                        inputVariable="BMService_updateTransaction_Input"
                                                        outputVariable="BMService_updateTransaction_Output"
                                                        xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                        xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                        xml:id="id_687"
                                                        bpelx:invokeAsDetail="no">
                                                    <bpelx:inputProperty name="keystore.recipient.alias"
                                                                         variable="KEYSTORE_RECIPIENT_ALIAS"
                                                                         xml:id="id_689"/>
                                                </invoke>
                                            </case>
                                            <case xml:id="id_676"
                                                  condition="string-length(bpws:getVariableData('output_getBMConnectorInfo','parameters','/ns6:getBMConnectorInfoResponse/ns6:result/ns3:CsfKey'))>0 and string-length(bpws:getVariableData('output_getBMConnectorInfo','parameters','/ns6:getBMConnectorInfoResponse/ns6:result/ns3:KeystoreRecipientAlias'))&lt;=0 ">
                                                <bpelx:annotation xml:id="id_677">
                                                    <bpelx:general xml:id="id_678">
                                                        <bpelx:property name="userLabel"
                                                                        xml:id="id_679">
                                                            <![CDATA[CSFKey]]>
                                                        </bpelx:property>
                                                    </bpelx:general>
                                                </bpelx:annotation>
                                                <invoke name="InvokeBMService"
                                                        partnerLink="BigMachineService"
                                                        portType="ns12:CommerceServicePortType"
                                                        operation="updateTransaction"
                                                        inputVariable="BMService_updateTransaction_Input"
                                                        outputVariable="BMService_updateTransaction_Output"
                                                        xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                        xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                        xml:id="id_684"
                                                        bpelx:invokeAsDetail="no">
                                                    <bpelx:inputProperty name="csf-key"
                                                                         variable="CSF-KEY"
                                                                         xml:id="id_685"/>
                                                </invoke>
                                            </case>
                                            <case xml:id="id_669"
                                                  condition="string-length(bpws:getVariableData('output_getBMConnectorInfo','parameters','/ns6:getBMConnectorInfoResponse/ns6:result/ns3:CsfKey'))>0 and string-length(bpws:getVariableData('output_getBMConnectorInfo','parameters','/ns6:getBMConnectorInfoResponse/ns6:result/ns3:KeystoreRecipientAlias')) >0">
                                                <bpelx:annotation xml:id="id_671">
                                                    <bpelx:general xml:id="id_672">
                                                        <bpelx:property name="userLabel"
                                                                        xml:id="id_673">
                                                            <![CDATA[CSFKeyAndKeyStore]]>
                                                        </bpelx:property>
                                                    </bpelx:general>
                                                </bpelx:annotation>
                                                <invoke name="InvokeBMService"
                                                        xml:id="id_383"
                                                        partnerLink="BigMachineService"
                                                        portType="ns12:CommerceServicePortType"
                                                        operation="updateTransaction"
                                                        inputVariable="BMService_updateTransaction_Input"
                                                        outputVariable="BMService_updateTransaction_Output"
                                                        bpelx:invokeAsDetail="no">
                                                    <bpelx:inputProperty name="csf-key"
                                                                         variable="CSF-KEY"
                                                                         xml:id="id_1680"/>
                                                    <bpelx:inputProperty name="keystore.recipient.alias"
                                                                         variable="KEYSTORE_RECIPIENT_ALIAS"
                                                                         xml:id="id_675"/>
                                                </invoke>
                                            </case>
                                            <otherwise xml:id="id_670">
                                                <invoke name="InvokeBMService"
                                                        partnerLink="BigMachineService"
                                                        portType="ns10:CommerceServicePortType"
                                                        operation="updateTransaction"
                                                        inputVariable="BMService_updateTransaction_Input"
                                                        outputVariable="BMService_updateTransaction_Output"
                                                        bpelx:invokeAsDetail="no"
                                                        xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                        xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                        xml:id="id_674"/>
                                            </otherwise>
                                        </switch>
                                        <bpelx:dehydrate name="Dehydrate"
                                                         xml:id="id_597"/>
                                    </sequence>
                                </scope>
                            </sequence>
                        </case>
                        <otherwise xml:id="id_71710">
                            <sequence name="FulfillLineStatusUpdateSequence"
                                      xml:id="id_349">
                                <assign name="AssignSetupVar" xml:id="id_348">
                                    <copy xml:id="id_7365">
                                        <from expression="ora:setCompositeInstanceTitle(concat('FULFILL_LINE_ID=',string(bpws:getVariableData('fulfillLineStatusUpdate_inputVariable','/ns8:OrderOrchestrationStatusUpdateInfo/ns8:FulfillLineId/ns8:oldValue/@value'))))"
                                              xml:id="id_7366"/>
                                        <to variable="COMPOSITE_TITLE_VAR"
                                            xml:id="id_7367"/>
                                    </copy>
                                    <copy xml:id="id_2758">
                                        <from expression="xp20:current-dateTime()"
                                              xml:id="id_2759"/>
                                        <to variable="OriginalNotifyDate"
                                            xml:id="id_2760"/>
                                    </copy>
                                    <copy xml:id="id_81743">
                                        <from variable="event_Input"
                                              query="/ns8:OrderOrchestrationStatusUpdateInfo"
                                              xml:id="id_81744"/>
                                        <to variable="fulfillLineStatusUpdate_inputVariable"
                                            query="/ns8:OrderOrchestrationStatusUpdateInfo"
                                            xml:id="id_81745"/>
                                    </copy>
                                </assign>
                                <scope name="FulfillLineStatusUpdate"
                                       xml:id="id_353"
                                       variableAccessSerializable="no">
                                    <variables xml:id="id_382">
                                        <variable name="webServiceAddress"
                                                  type="xsd:string"
                                                  xml:id="id_7383"/>
                                        <variable name="loopCounter"
                                                  type="xsd:integer"
                                                  xml:id="id_388"/>
                                        <variable name="InvokeDummyExternalSystem_process_InputVariable"
                                                  messageType="ns15:FulfillLineEventRequestMessage"
                                                  xml:id="id_405"/>
                                        <!--<variable name="InvokeDummyExternalSystem_process_OutputVariable"
                                      messageType="ns10:DummyExternalSystemResponseMessage"
                                      xml:id="id_406"/>-->
                                        <variable name="flineId" type="xsd:long"
                                                  xml:id="id_7552"/>
                                        <variable name="CsfKey"
                                                  type="xsd:string"
                                                  xml:id="id_2253"/>
                                        <variable name="KeystoreRecipientAlias"
                                                  type="xsd:string"
                                                  xml:id="id_2254"/>
                                    </variables>
                                    <sequence name="GetConnectorUriSequence"
                                              xml:id="id_357">
                                        <assign name="AssignEventCode"
                                                xml:id="id_384">
                                            <copy xml:id="id_385">
                                                <from expression="'FLINE_STATUS_UPDATE'"
                                                      xml:id="id_386"/>
                                                <to variable="getEventConnectorInfo_InputVariable"
                                                    part="parameters"
                                                    xml:id="id_387"
                                                    query="/ns6:getEventConnectorInfo/ns6:eventCode"/>
                                            </copy>
                                            <copy xml:id="id_7553">
                                                <from expression="bpws:getVariableData('fulfillLineStatusUpdate_inputVariable','/ns8:OrderOrchestrationStatusUpdateInfo/ns8:FulfillLineId/ns8:newValue/@value')"
                                                      xml:id="id_7554"/>
                                                <to variable="flineId"
                                                    xml:id="id_7555"/>
                                            </copy>
                                            <copy bpelx:insertMissingToData="yes"
                                                  xml:id="id_7559">
                                                <from expression="bpws:getVariableData('flineId')"
                                                      xml:id="id_7560"/>
                                                <to variable="getEventConnectorInfo_InputVariable"
                                                    part="parameters"
                                                    query="/ns6:getEventConnectorInfo/ns6:flineIds"
                                                    xml:id="id_7561"/>
                                            </copy>
                                        </assign>
                                        <invoke name="InvokeGetEventConnectorInfo"
                                                xml:id="id_7358"
                                                inputVariable="getEventConnectorInfo_InputVariable"
                                                outputVariable="getEventConnectorInfo_OutputVariable"
                                                partnerLink="ProcessEventService"
                                                portType="ns3:ProcessEventService"
                                                operation="getEventConnectorInfo"
                                                bpelx:invokeAsDetail="no"/>
                                        <bpelx:dehydrate name="DehydrateConnectorUriInfo"
                                                         xml:id="id_8368"/>
                                        <assign name="AssignCount"
                                                xml:id="id_389">
                                            <copy xml:id="id_390"
                                                  bpelx:insertMissingToData="yes">
                                                <from expression="count(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result'))"
                                                      xml:id="id_391"/>
                                                <to variable="loopCounter"
                                                    xml:id="id_392"/>
                                            </copy>
                                        </assign>
                                        <switch name="Switch11"
                                                xml:id="id_2056">
                                            <case xml:id="id_2057"
                                                  condition="bpws:getVariableData('loopCounter')>0">
                                                <bpelx:annotation xml:id="id_2059">
                                                    <bpelx:pattern xml:id="id_2062">hasValidConnector</bpelx:pattern>
                                                    <bpelx:general xml:id="id_2060">
                                                        <bpelx:property name="userLabel"
                                                                        xml:id="id_2061">
                                                            <![CDATA[hasValidConnector]]>
                                                        </bpelx:property>
                                                    </bpelx:general>
                                                </bpelx:annotation>
                                                <while name="While1"
                                                       xml:id="id_369"
                                                       condition="bpws:getVariableData('loopCounter') > 0">
                                                    <sequence name="IteratorSequence"
                                                              xml:id="id_373">
                                                        <switch name="Switch6"
                                                                xml:id="id_579">
                                                            <case xml:id="id_580"
                                                                  condition="(xp20:compare(string(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:ServiceName')),'DOO_BUSINESS_EVENT_NOTIFICATION')=0)">
                                                                <bpelx:annotation xml:id="id_582">
                                                                    <bpelx:pattern xml:id="id_585">Before Release 11</bpelx:pattern>
                                                                    <bpelx:general xml:id="id_583">
                                                                        <bpelx:property name="userLabel"
                                                                                        xml:id="id_584">
                                                                            <![CDATA[BackwardCompatibility]]>
                                                                        </bpelx:property>
                                                                    </bpelx:general>
                                                                </bpelx:annotation>
                                                                <scope name="FlineStatusUpdateMediatorScope"
                                                                       xml:id="id_587"
                                                                       variableAccessSerializable="no">
                                                                    <sequence name="Sequence6"
                                                                              xml:id="id_589">
                                                                        <assign name="EventInputToMediatorInputTransform"
                                                                                xml:id="id_590">
                                                                            <bpelx:annotation xml:id="id_591">
                                                                                <bpelx:pattern xml:id="id_592">transformation</bpelx:pattern>
                                                                            </bpelx:annotation>
                                                                            <copy xml:id="id_594">
                                                                                <from xml:id="id_595"
                                                                                      expression="ora:doXSLTransformForDoc('xsl/XformFlineStatusUpdateEvent2MediatorInput.xsl', $fulfillLineStatusUpdate_inputVariable)"/>
                                                                                <to xml:id="id_596"
                                                                                    variable="flineStatusUpdateEvent_InputVariable"
                                                                                    part="request"/>
                                                                            </copy>
                                                                        </assign>
                                                                        <invoke name="InvokeMediatorForFlineStatusUpdateEvent"
                                                                                xml:id="id_588"
                                                                                bpelx:invokeAsDetail="no"
                                                                                inputVariable="flineStatusUpdateEvent_InputVariable"
                                                                                partnerLink="BusinessEventNotificationMediator.BusinessEventNotificationMediator"
                                                                                portType="ns4:execute_ptt"
                                                                                operation="flineStatusUpdateEvent"/>
                                                                        <bpelx:dehydrate name="DehydrateInvokeMediatorForFlineStatusUpdateEvent"
                                                                                         xml:id="id_2020"/>
                                                                    </sequence>
                                                                </scope>
                                                            </case>
                                                            <otherwise xml:id="id_581">
                                                                <sequence xml:id="id_2668">
                                                                    <switch name="Switch23"
                                                                            xml:id="id_2392">
                                                                        <case xml:id="id_2393"
                                                                              condition="string-length(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:CsfKey'))>0 or string-length(bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:KeyStoreRecipientAlias'))>0">
                                                                            <bpelx:annotation xml:id="id_2453">
                                                                                <bpelx:general xml:id="id_2454">
                                                                                    <bpelx:property name="userLabel"
                                                                                                    xml:id="id_2455">
                                                                                        <![CDATA[CheckCsfKeyAndKeyAlias]]>
                                                                                    </bpelx:property>
                                                                                </bpelx:general>
                                                                            </bpelx:annotation>
                                                                            <assign name="AssignCsfKeyandKeystoreAlias"
                                                                                    xml:id="id_2395">
                                                                                <copy xml:id="id_2456">
                                                                                    <from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:CsfKey')"
                                                                                          xml:id="id_2457"/>
                                                                                    <to variable="CsfKey"
                                                                                        xml:id="id_2458"/>
                                                                                </copy>
                                                                                <copy xml:id="id_2459">
                                                                                    <from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:KeyStoreRecipientAlias')"
                                                                                          xml:id="id_2460"/>
                                                                                    <to variable="KeystoreRecipientAlias"
                                                                                        xml:id="id_2461"/>
                                                                                </copy>
                                                                            </assign>
                                                                        </case>
                                                                    </switch>
                                                                    <scope name="FlineStatusUpdateConnectorURIsScope"
                                                                           xml:id="id_8597"
                                                                           variableAccessSerializable="no">
                                                                        <variables xml:id="id_2224">
                                                                            <variable name="InvokeConnectorURLForFlineStatusUpdateEvent_pushPayload_InputVariable"
                                                                                      messageType="ns18:BusinessEventsConnectorPayloadRequestMessage"
                                                                                      xml:id="id_2225"/>
                                                                        </variables>
                                                                        <sequence xml:id="id_586"
                                                                                  name="FlineStatusUpdateConnectorURIsSequence">
                                                                            <assign name="AssignUri"
                                                                                    xml:id="id_7381">
                                                                                <copy xml:id="id_7423">
                                                                                    <from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:ServiceURI')"
                                                                                          xml:id="id_7424"/>
                                                                                    <to variable="webServiceAddress"
                                                                                        xml:id="id_425"/>
                                                                                </copy>
                                                                                <copy xml:id="id_3580">
                                                                                    <from expression="false()"
                                                                                          xml:id="id_3581"/>
                                                                                    <to variable="eventNotifyFlag"
                                                                                        xml:id="id_3582"/>
                                                                                </copy>
                                                                            </assign>
                                                                            <assign name="AssignDataToInvokeConnectorURL"
                                                                                    xml:id="id_2003">
                                                                                <bpelx:annotation xml:id="id_2004">
                                                                                    <bpelx:pattern xml:id="id_2005">transformation</bpelx:pattern>
                                                                                </bpelx:annotation>
                                                                                <copy xml:id="id_2006">
                                                                                    <from xml:id="id_2007"
                                                                                          expression="ora:doXSLTransformForDoc('xsl/FlineStatusUpdateToConnectorURLInput.xsl', $fulfillLineStatusUpdate_inputVariable)"/>
                                                                                    <to xml:id="id_2008"
                                                                                        variable="InvokeConnectorURLForFlineStatusUpdateEvent_pushPayload_InputVariable"
                                                                                        part="payload"/>
                                                                                </copy>
                                                                            </assign>
                                                                            <scope name="Scope8"
                                                                                   xml:id="id_3150">
                                                                                <faultHandlers xml:id="id_3151">
                                                                                    <catchAll xml:id="id_3152">
                                                                                        <sequence name="Sequence35"
                                                                                                  xml:id="id_3621">
                                                                                            <assign name="AssignLogEvent"
                                                                                                    xml:id="id_3153">
                                                                                                <copy xml:id="id_3163">
                                                                                                    <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForFlineStatusUpdateEvent_pushPayload_InputVariable','payload','/ns2:results'))"
                                                                                                          xml:id="id_3164"/>
                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                        part="parameters"
                                                                                                        xml:id="id_3165"
                                                                                                        query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"/>
                                                                                                </copy>
                                                                                                <copy xml:id="id_3166">
                                                                                                    <from variable="OriginalNotifyDate"
                                                                                                          xml:id="id_3167"/>
                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                        part="parameters"
                                                                                                        xml:id="id_3168"
                                                                                                        query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"/>
                                                                                                </copy>
                                                                                                <copy xml:id="id_3169">
                                                                                                    <from expression="bpws:getVariableData('getEventConnectorInfo_OutputVariable','parameters','/ns6:getEventConnectorInfoResponse/ns6:result[$loopCounter]/ns3:WebServiceId')"
                                                                                                          xml:id="id_3170"/>
                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                        part="parameters"
                                                                                                        xml:id="id_3171"
                                                                                                        query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId"/>
                                                                                                </copy>
                                                                                                <copy xml:id="id_3257">
                                                                                                    <from variable="InvokeConnectorURLForFlineStatusUpdateEvent_pushPayload_InputVariable"
                                                                                                          part="payload"
                                                                                                          query="/ns2:results/ns2:OrderHeader/ns2:EventCode"
                                                                                                          xml:id="id_3258"/>
                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                        part="parameters"
                                                                                                        query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode"
                                                                                                        xml:id="id_3259"/>
                                                                                                </copy>
                                                                                                <copy xml:id="id_3260">
                                                                                                    <from expression="string(bpws:getVariableData('fulfillLineStatusUpdate_inputVariable','/ns8:OrderOrchestrationStatusUpdateInfo/ns8:Line1.HeaderId/ns8:newValue/@value'))"
                                                                                                          xml:id="id_3261"/>
                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                        part="parameters"
                                                                                                        xml:id="id_3262"
                                                                                                        query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"/>
                                                                                                </copy>
                                                                                                <copy xml:id="id_3263">
                                                                                                    <from expression="string(bpws:getVariableData('fulfillLineStatusUpdate_inputVariable','/ns8:OrderOrchestrationStatusUpdateInfo/ns8:FulfillLineId/ns8:newValue/@value'))"
                                                                                                          xml:id="id_3264"/>
                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                        part="parameters"
                                                                                                        xml:id="id_3265"
                                                                                                        query="/ns6:logEventNotificationError/ns6:input/ns3:EventSublineId"/>
                                                                                                </copy>
                                                                                                <copy xml:id="id_3501">
                                                                                                    <from expression="oraext:get-content-as-string(bpws:getVariableData('InvokeConnectorURLForFlineStatusUpdateEvent_pushPayload_InputVariable','payload','/ns2:results'))"
                                                                                                          xml:id="id_3502"/>
                                                                                                    <to variable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                        part="parameters"
                                                                                                        xml:id="id_3503"
                                                                                                        query="/ns6:logEventNotificationError/ns6:input/ns3:EventlogPayload"/>
                                                                                                </copy>
                                                                                                <copy xml:id="id_3549">
                                                                                                    <from expression="true()"
                                                                                                          xml:id="id_3550"/>
                                                                                                    <to variable="eventNotifyFlag"
                                                                                                        xml:id="id_3551"/>
                                                                                                </copy>
                                                                                            </assign>
                                                                                            <invoke name="InvokeEventNotify"
                                                                                                    inputVariable="InvokeLogEventNotify_logEventNotificationError_InputVariable"
                                                                                                    outputVariable="InvokeLogEventNotify_logEventNotificationError_OutputVariable"
                                                                                                    partnerLink="ProcessEventService"
                                                                                                    portType="ns3:ProcessEventService"
                                                                                                    operation="logEventNotificationError"
                                                                                                    bpelx:invokeAsDetail="no"
                                                                                                    xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                    xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                    xml:id="id_3622"/>
                                                                                        </sequence>
                                                                                    </catchAll>
                                                                                </faultHandlers>
                                                                                <switch name="Switch26"
                                                                                        xml:id="id_2500">
                                                                                    <case xml:id="id_81888"
                                                                                          condition="string-length(bpws:getVariableData('KeystoreRecipientAlias'))!=0 and string-length(bpws:getVariableData('CsfKey')) &lt;=0">
                                                                                        <bpelx:annotation xml:id="id_81889">
                                                                                            <bpelx:general xml:id="id_81890">
                                                                                                <bpelx:property name="userLabel"
                                                                                                                xml:id="id_81891">
                                                                                                    <![CDATA[KeyStoreAlias]]>
                                                                                                </bpelx:property>
                                                                                            </bpelx:general>
                                                                                        </bpelx:annotation><invoke name="InvokeConnectorURLForFlineStatusUpdateEvent"
                                                                                                                   inputVariable="InvokeConnectorURLForFlineStatusUpdateEvent_pushPayload_InputVariable"
                                                                                                                   partnerLink="BusinessEventsConnectorService"
                                                                                                                   portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                   operation="pushPayload"
                                                                                                                   bpelx:invokeAsDetail="no"
                                                                                                                   xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                   xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                   xml:id="id_81892">
      <bpelx:inputProperty name="keystore.recipient.alias"
                           variable="KeystoreRecipientAlias" xml:id="id_81893"/>
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81894"/>
   </invoke></case>
                                                                                    <case xml:id="id_81880"
                                                                                          condition="string-length(bpws:getVariableData('CsfKey'))!=0 and string-length(bpws:getVariableData('KeystoreRecipientAlias')) &lt;=0">
                                                                                        <bpelx:annotation xml:id="id_81881">
                                                                                            <bpelx:general xml:id="id_81882">
                                                                                                <bpelx:property name="userLabel"
                                                                                                                xml:id="id_81883">
                                                                                                    <![CDATA[CsfKey]]>
                                                                                                </bpelx:property>
                                                                                            </bpelx:general>
                                                                                        </bpelx:annotation><invoke name="InvokeConnectorURLForFlineStatusUpdateEvent"
                                                                                                                   inputVariable="InvokeConnectorURLForFlineStatusUpdateEvent_pushPayload_InputVariable"
                                                                                                                   partnerLink="BusinessEventsConnectorService"
                                                                                                                   portType="ns18:BusinessEventsConnectorPayload"
                                                                                                                   operation="pushPayload"
                                                                                                                   bpelx:invokeAsDetail="no"
                                                                                                                   xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                                   xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                                   xml:id="id_81884">
      <bpelx:inputProperty name="endpointURI" variable="webServiceAddress"
                           xml:id="id_81886"/>
      <bpelx:inputProperty name="csf-key" variable="CsfKey" xml:id="id_81887"/>
   </invoke></case>
                                                                                    <case xml:id="id_2501"
                                                                                          condition="string-length(bpws:getVariableData('CsfKey'))!=0 and string-length(bpws:getVariableData('KeystoreRecipientAlias'))!=0">
                                                                                        <bpelx:annotation xml:id="id_2506">
                                                                                            <bpelx:general xml:id="id_2507">
                                                                                                <bpelx:property name="userLabel"
                                                                                                                xml:id="id_2508">
                                                                                                    <![CDATA[CSFKeyAndKeystore]]>
                                                                                                </bpelx:property>
                                                                                            </bpelx:general>
                                                                                        </bpelx:annotation>
                                                                                        <invoke name="InvokeConnectorURLForFlineStatusUpdateEvent"
                                                                                                xml:id="id_374"
                                                                                                inputVariable="InvokeConnectorURLForFlineStatusUpdateEvent_pushPayload_InputVariable"
                                                                                                partnerLink="BusinessEventsConnectorService"
                                                                                                portType="ns18:BusinessEventsConnectorPayload"
                                                                                                operation="pushPayload"
                                                                                                bpelx:invokeAsDetail="no">
                                                                                            <bpelx:inputProperty name="keystore.recipient.alias"
                                                                                                                 variable="KeystoreRecipientAlias"
                                                                                                                 xml:id="id_2306"/>
                                                                                            <bpelx:inputProperty name="endpointURI"
                                                                                                                 variable="webServiceAddress"
                                                                                                                 xml:id="id_8562"/>
                                                                                            <bpelx:inputProperty name="csf-key"
                                                                                                                 variable="CsfKey"
                                                                                                                 xml:id="id_2749"/>
                                                                                        </invoke>
                                                                                    </case>
                                                                                    <otherwise xml:id="id_2502">
                                                                                        <invoke name="InvokeConnectorURLForFlineStatusUpdateEvent"
                                                                                                inputVariable="InvokeConnectorURLForFlineStatusUpdateEvent_pushPayload_InputVariable"
                                                                                                partnerLink="BusinessEventsConnectorService"
                                                                                                portType="ns18:BusinessEventsConnectorPayload"
                                                                                                operation="pushPayload"
                                                                                                xmlns:bpelx="http://schemas.oracle.com/bpel/extension"
                                                                                                xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/"
                                                                                                xml:id="id_2503"
                                                                                                bpelx:invokeAsDetail="no">
                                                                                            <bpelx:inputProperty name="endpointURI"
                                                                                                                 variable="webServiceAddress"
                                                                                                                 xml:id="id_2505"/>
                                                                                        </invoke>
                                                                                    </otherwise>
                                                                                </switch>
                                                                            </scope>
                                                                            <!--<assign name="AssignDataToInvokeConnectorURL"
                                                            xml:id="id_408">
                                                        <copy xml:id="id_409">
                                                            <from variable="fulfillLineStatusUpdate_inputVariable"
                                                                  xml:id="id_410"
                                                                  query="/ns8:OrderOrchestrationStatusUpdateInfo/ns8:FulfillLineId/ns8:oldValue"/>
                                                            <to variable="InvokeDummyExternalSystem_process_InputVariable"
                                                                part="payload"
                                                                xml:id="id_411"
                                                                query="/ns11:fulfillLine/ns11:FulfillLineId"/>
                                                        </copy>
                                                        <copy xml:id="id_412">
                                                            <from variable="fulfillLineStatusUpdate_inputVariable"
                                                                  query="/ns8:OrderOrchestrationStatusUpdateInfo/ns8:SourceOrderId/ns8:oldValue"
                                                                  xml:id="id_413"/>
                                                            <to variable="InvokeDummyExternalSystem_process_InputVariable"
                                                                part="payload"
                                                                query="/ns11:fulfillLine/ns11:SourceOrderId"
                                                                xml:id="id_414"/>
                                                        </copy>
                                                        <copy xml:id="id_415">
                                                            <from variable="fulfillLineStatusUpdate_inputVariable"
                                                                  query="/ns8:OrderOrchestrationStatusUpdateInfo/ns8:StatusCode/ns8:oldValue/@value"
                                                                  xml:id="id_416"/>
                                                            <to variable="InvokeDummyExternalSystem_process_InputVariable"
                                                                part="payload"
                                                                query="/ns11:fulfillLine/ns11:StatusCode"
                                                                xml:id="id_417"/>
                                                        </copy>
                                                    </assign>-->
                                                                            <bpelx:dehydrate name="DehydrateInvokeConnectorURLForFlineStatusUpdateEvent"
                                                                                             xml:id="id_8523"/>
                                                                        </sequence>
                                                                    </scope>
                                                                    <assign name="ResetCsfKeyAndKeystoreVar"
                                                                            xml:id="id_2598">
                                                                        <copy xml:id="id_2599">
                                                                            <from expression="''"
                                                                                  xml:id="id_2600"/>
                                                                            <to variable="CsfKey"
                                                                                xml:id="id_2601"/>
                                                                        </copy>
                                                                        <copy xml:id="id_2602">
                                                                            <from expression="''"
                                                                                  xml:id="id_2603"/>
                                                                            <to variable="KeystoreRecipientAlias"
                                                                                xml:id="id_2604"/>
                                                                        </copy>
                                                                    </assign>
                                                                </sequence>
                                                            </otherwise>
                                                        </switch>
                                                        <assign name="DecrementCountVar"
                                                                xml:id="id_502">
                                                            <copy xml:id="id_503">
                                                                <from expression="bpws:getVariableData('loopCounter')-1"
                                                                      xml:id="id_504"/>
                                                                <to variable="loopCounter"
                                                                    xml:id="id_505"/>
                                                            </copy>
                                                        </assign>
                                                    </sequence>
                                                </while>
                                            </case>
                                            <otherwise xml:id="id_2058">
                                                <terminate name="TerminateFlineStatusEvent"
                                                           xml:id="id_2063"/>
                                            </otherwise>
                                        </switch>
                                    </sequence>
                                </scope>
                            </sequence>
                        </otherwise>
                    </switch>
                </sequence>
            </onMessage>
        </pick>
    </sequence>
</process>



 <!--<switch name="Switch41"
                                                            xml:id="id_71747">
                                                        <case xml:id="id_71748"
                                                              condition="contains(bpws:getVariableData('InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable','parameters','/ns6:getEventNotificationLogResponse/ns6:result/ns3:EventCode'),'BM')">
                                                            <bpelx:annotation xml:id="id_71750">
                                                                <bpelx:general xml:id="id_71751">
                                                                    <bpelx:property name="userLabel"
                                                                                    xml:id="id_71752">
                                                                        <![CDATA[BMErrorRecovery]]>
                                                                    </bpelx:property>
                                                                </bpelx:general>
                                                            </bpelx:annotation>
                                                                   <scope name="ScopeForWhile" xml:id="id_487"
                                           variableAccessSerializable="no">
                                        <variables xml:id="id_488">
                                            <variable name="step" type="xsd:int"
                                                      xml:id="id_489"/>
                                            <variable name="loop" type="xsd:int"
                                                      xml:id="id_490"/>
                                        </variables>
                                        <sequence name="Sequence5"
                                                  xml:id="id_491">
                                            <assign name="AssignLoopVariables"
                                                    xml:id="id_492">
                                                                        <copy xml:id="id_493">
                                                                            <from expression="1"
                                                                                  xml:id="id_494"/>
                                                                            <to variable="step"
                                                                                xml:id="id_495"/>
                                                                        </copy>
                                                                        <copy xml:id="id_496">
                                                                            <from expression="count(bpws:getVariableData('InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable','parameters','/ns6:getEventNotificationLogResponse/ns6:result'))"
                                                                                  xml:id="id_497"/>
                                                                            <to variable="loop"
                                                                                xml:id="id_498"/>
                                                                        </copy>
                                                                    </assign>
                                            <while name="WhileLogEventIds"
                                                   xml:id="id_472"
                                                   condition="bpws:getVariableData('step')&lt;=bpws:getVariableData('loop')">
                                                <sequence name="Sequence4"
                                                          xml:id="id_476">
                                                    <switch name="Switch4"
                                                            xml:id="id_529">
                                                        <case xml:id="id_530"
                                                              condition="string-length(bpws:getVariableData('InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable','parameters','/ns6:getEventNotificationLogResponse/ns6:result[$step]/ns3:CsfKey'))>0">
                                                            <bpelx:annotation xml:id="id_532">
                                                                <bpelx:general xml:id="id_533">
                                                                    <bpelx:property name="userLabel"
                                                                                    xml:id="id_534">
                                                                                                <![CDATA[CheckCSFKey]]>
                                                                                            </bpelx:property>
                                                                </bpelx:general>
                                                            </bpelx:annotation>
                                                            <assign name="AssignCSFKeyAndAlias"
                                                                    xml:id="id_535">
                                                                                        <copy xml:id="id_71754">
                                                                                            <from variable="InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable"
                                                                                                  part="parameters"
                                                                                                  xml:id="id_71755"
                                                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result[$step]/ns3:CsfKey"/>
                                                                                            <to variable="CSF-KEY"
                                                                                                xml:id="id_71756"/>
                                                                                        </copy>
                                                                                    </assign>
                                                        </case>
                                                    </switch>
                                                    <assign name="AssignServiceURI"
                                                            xml:id="id_561">
                                                            <copy xml:id="id_539">
                                                            <from variable="InvokeGeteventNotificationLog_getEventNotificationLog_OutputVariable"
                                                                  part="parameters"
                                                                  xml:id="id_540"
                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result[$step]/ns3:ServiceUri"/>
                                                            <to variable="webServiceAddress"
                                                                xml:id="id_541"
                                                                query="/wsa:EndpointReference/wsa:Address"/>
                                                        </copy>
                                                        </assign>
                                                    <assign name="OverideServiceAddress"
                                                            xml:id="id_542">
                                                        <copy xml:id="id_543">
                                                            <from variable="webServiceAddress"
                                                                  xml:id="id_544"/>
                                                            <to partnerLink="BigMachineService"
                                                                xml:id="id_545"/>
                                                        </copy>
                                                    </assign>
                                                    <scope name="BMServiceInvokeScope"
                                                           xml:id="id_562"
                                                           variableAccessSerializable="no">
                                                        <variables xml:id="id_1706">
                                                            <variable name="getEventLogService_local"
                                                                      messageType="ns3:ProcessEventService_getEventNotificationLogResponse"
                                                                      xml:id="id_1707"/>
                                                        </variables>
                                                        <faultHandlers xml:id="id_564">
                                                            <catchAll xml:id="id_565">
                                                                <sequence name="Sequence6"
                                                                          xml:id="id_602">
                                                                    <terminate name="TerminateFlow"
                                                                               xml:id="id_1681"/>-->
                                                                    <!--<assign name="AssignToLogService"
                                                                            xml:id="id_603">
                                                                        <copy xml:id="id_604">
                                                                            <from variable="getEventNotificationLog_Output"
                                                                                  part="parameters"
                                                                                  xml:id="id_605"
                                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result/ns3:EventHeaderId"/>
                                                                            <to variable="logEventNotificationError_Input2"
                                                                                part="parameters"
                                                                                xml:id="id_606"
                                                                                query="/ns6:logEventNotificationError/ns6:input/ns3:EventHeaderId"/>
                                                                        </copy>
                                                                        <copy xml:id="id_708">
                                                                            <from variable="getEventNotificationLog_Output"
                                                                                  part="parameters"
                                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result/ns3:ServiceUri"
                                                                                  xml:id="id_709"/>
                                                                            <to variable="logEventNotificationError_Input2"
                                                                                part="parameters"
                                                                                query="/ns6:logEventNotificationError/ns6:input/ns3:ServiceURI"
                                                                                xml:id="id_710"/>
                                                                        </copy>
                                                                        <copy xml:id="id_607">
                                                                            <from variable="getEventNotificationLog_Output"
                                                                                  part="parameters"
                                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result/ns3:EventCode"
                                                                                  xml:id="id_608"/>
                                                                            <to variable="logEventNotificationError_Input2"
                                                                                part="parameters"
                                                                                query="/ns6:logEventNotificationError/ns6:input/ns3:EventCode"
                                                                                xml:id="id_609"/>
                                                                        </copy>
                                                                        <copy xml:id="id_610">
                                                                            <from variable="getEventNotificationLog_Output"
                                                                                  part="parameters"
                                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result/ns3:EventPayload"
                                                                                  xml:id="id_611"/>
                                                                            <to variable="logEventNotificationError_Input2"
                                                                                part="parameters"
                                                                                query="/ns6:logEventNotificationError/ns6:input/ns3:EventPayload"
                                                                                xml:id="id_612"/>
                                                                        </copy>
                                                                        <copy xml:id="id_613">
                                                                            <from variable="getEventNotificationLog_Output"
                                                                                  part="parameters"
                                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result/ns3:EventSublineId"
                                                                                  xml:id="id_614"/>
                                                                            <to variable="logEventNotificationError_Input2"
                                                                                part="parameters"
                                                                                query="/ns6:logEventNotificationError/ns6:input/ns3:EventSublineId"
                                                                                xml:id="id_615"/>
                                                                        </copy>
                                                                        <copy xml:id="id_616">
                                                                            <from variable="getEventNotificationLog_Output"
                                                                                  part="parameters"
                                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result/ns3:OriginalNotifyDate"
                                                                                  xml:id="id_617"/>
                                                                            <to variable="logEventNotificationError_Input2"
                                                                                part="parameters"
                                                                                query="/ns6:logEventNotificationError/ns6:input/ns3:OriginalNotifyDate"
                                                                                xml:id="id_618"/>
                                                                        </copy>
                                                                        <copy xml:id="id_619">
                                                                            <from variable="getEventNotificationLog_Output"
                                                                                  part="parameters"
                                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result/ns3:WebServiceId"
                                                                                  xml:id="id_620"/>
                                                                            <to variable="logEventNotificationError_Input2"
                                                                                part="parameters"
                                                                                query="/ns6:logEventNotificationError/ns6:input/ns3:WebServiceId"
                                                                                xml:id="id_621"/>
                                                                        </copy>
                                                                        <copy xml:id="id_628">
                                                                            <from variable="getEventNotificationLog_Output"
                                                                                  part="parameters"
                                                                                  xml:id="id_629"
                                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result/ns3:FulfillLineStatusTR/ns3:SourceOrderId"/>
                                                                            <to variable="logEventNotificationError_Input2"
                                                                                part="parameters"
                                                                                query="/ns6:logEventNotificationError/ns6:dtls/ns3:SourceOrderId"
                                                                                xml:id="id_630"/>
                                                                        </copy>
                                                                        <copy xml:id="id_631">
                                                                            <from variable="getEventNotificationLog_Output"
                                                                                  part="parameters"
                                                                                  xml:id="id_632"
                                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result/ns3:FulfillLineStatusTR/ns3:SourceLineId"/>
                                                                            <to variable="logEventNotificationError_Input2"
                                                                                part="parameters"
                                                                                query="/ns6:logEventNotificationError/ns6:dtls/ns3:SourceLineId"
                                                                                xml:id="id_633"/>
                                                                        </copy>
                                                                        <copy xml:id="id_634">
                                                                            <from variable="getEventNotificationLog_Output"
                                                                                  part="parameters"
                                                                                  xml:id="id_635"
                                                                                  query="/ns6:getEventNotificationLogResponse/ns6:result/ns3:FulfillLineStatusTR/ns3:StatusCode"/>
                                                                            <to variable="logEventNotificationError_Input2"
                                                                                part="parameters"
                                                                                query="/ns6:logEventNotificationError/ns6:dtls/ns3:StatusCode"
                                                                                xml:id="id_636"/>
                                                                        </copy>
                                                                    </assign>
                                                                    <invoke name="InvokeLogEvenetErrorService"
                                                                            xml:id="id_599"
                                                                            bpelx:invokeAsDetail="no"
                                                                            inputVariable="logEventNotificationError_Input2"
                                                                            outputVariable="logEventNotificationError_Output2"
                                                                            partnerLink="ProcessEventService"
                                                                            portType="ns3:ProcessEventService"
                                                                            operation="logEventNotificationError"/>
                                                                </sequence>
                                                            </catchAll>
                                                        </faultHandlers>
                                                        <sequence xml:id="id_563">
                                                            <assign name="AssignBMServiceInput"
                                                                    xml:id="id_512">
                                                             
                                                                <copy xml:id="id_570">
                                                                    <from expression="oraext:parseEscapedXML(bpws:getVariableData('getEventNotificationLog_Output','parameters','/ns6:getEventNotificationLogResponse/ns6:result[$step]/ns3:CsfKey'))"
                                                                          xml:id="id_571"/>
                                                                    <to variable="InvokeBMService_ERInput"
                                                                        part="updateTransaction"
                                                                        xml:id="id_569"
                                                                        query="/ns12:updateTransaction"/>
                                                                </copy>
                                                                <copy xml:id="id_579">
                                                                    <from expression="oraext:parseEscapedXML(bpws:getVariableData('getEventNotificationLog_Output','parameters','/ns6:getEventNotificationLogResponse/ns6:result[$step]/ns3:EventPayload'))"
                                                                          xml:id="id_580"/>
                                                                    <to variable="InvokeBMService_ERInput"
                                                                        part="updateTransaction"
                                                                        query="/ns12:updateTransaction"
                                                                        xml:id="id_581"/>
                                                                </copy>
                                                            </assign>-->
                                                            <!--<assign name="XformToBMService"
                                                                    xml:id="id_591">
                                                                <bpelx:annotation xml:id="id_592">
                                                                    <bpelx:pattern xml:id="id_593">transformation</bpelx:pattern>
                                                                </bpelx:annotation>
                                                                <copy xml:id="id_594">
                                                                    <from xml:id="id_595"
                                                                          expression="ora:doXSLTransformForDoc('xsl/BMServiceInERScope.xsl', $getEventLogService_local.parameters)"/>
                                                                    <to xml:id="id_596"
                                                                        variable="InvokeBMService_ERInput"
                                                                        part="updateTransaction"/>
                                                                </copy>
                                                            </assign>-->
                                                    <!--    </sequence>
                                                    </scope>
                                                    <assign name="AssignIncr"
                                                            xml:id="id_516">
                                                        <copy xml:id="id_517">
                                                            <from expression="bpws:getVariableData('step')+1"
                                                                  xml:id="id_518"/>
                                                            <to variable="step"
                                                                xml:id="id_519"/>
                                                        </copy>
                                                    </assign>
                                                </sequence>
                                            </while>-->
                                      <!--      <switch name="Switch8"
                                                    xml:id="id_1712">
                                                <case xml:id="id_1713"
                                                      condition="bpws:getVariableData('step') > 1">
                                                    <bpelx:annotation xml:id="id_1716">
                                                        <bpelx:general xml:id="id_1717">
                                                            <bpelx:property name="userLabel"
                                                                            xml:id="id_1718">
                                                                <![CDATA[CheckForSuccess]]>
                                                            </bpelx:property>
                                                        </bpelx:general>
                                                    </bpelx:annotation>
                                                    <sequence xml:id="id_1715">
                                                        <assign name="XformDeleteService"
                                                                xml:id="id_1722">
                                                            <bpelx:annotation xml:id="id_1723">
                                                                <bpelx:pattern xml:id="id_1724">transformation</bpelx:pattern>
                                                            </bpelx:annotation>
                                                            <copy xml:id="id_1725">
                                                                <from xml:id="id_1726"
                                                                      expression="ora:doXSLTransformForDoc('xsl/ErrorEventToDeleteService.xsl', $inputVariable0)"/>
                                                                <to xml:id="id_1727"
                                                                    variable="InvokeDeleteService_deleteEventNotificationErrors_InputVariable"
                                                                    part="parameters"/>
                                                            </copy>
                                                        </assign>
                                                        <invoke name="InvokeDeleteService"
                                                                xml:id="id_1682"
                                                                inputVariable="InvokeDeleteService_deleteEventNotificationErrors_InputVariable"
                                                                outputVariable="InvokeDeleteService_deleteEventNotificationErrors_OutputVariable"
                                                                partnerLink="ProcessEventService"
                                                                portType="ns3:ProcessEventService"
                                                                operation="deleteEventNotificationErrors"
                                                                bpelx:invokeAsDetail="no"/>
                                                    </sequence>
                                                </case>
                                            </switch>
                                        </sequence>
                                    </scope>
                                                        </case>
                                                        <otherwise xml:id="id_71749"/>
                                                    </switch>
                                                </sequence>
                                            </scope>
                                        </sequence>
                                    </case>
                                </switch>
                            </sequence>-->
                            <!--<switch name="Switch38" xml:id="id_3342">
                                <case xml:id="id_3343" condition="bpws:getVariableData('inputVariable0','/ns2:BusinessEventInfoType/ns2:EventPointCode')!='ERROR'">
                                    <bpelx:annotation xml:id="id_3345">
                                        <bpelx:pattern xml:id="id_3346">checkForError</bpelx:pattern>
                                    </bpelx:annotation>
                                </case>
                                <otherwise xml:id="id_3344">
                                    <sequence name="Sequence29" xml:id="id_3356"/>
                                </otherwise>
                            </switch>
                        </sequence>
                    </scope>
                </sequence>-->
